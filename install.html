<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Chapter 2. Installing and Upgrading MySQL</title>
<link rel="stylesheet" href="mvl.css" type="text/css" />
<meta name="generator" content="DocBook XSL Stylesheets V1.69.1 + chunker.py v1.9.1" />
<link rel="start" href="index.html" title="{book-title}" />
<link rel="up" href="" title="" />
<link rel="prev" href="introduction.html" title="Chapter 1. General Information" />
<link rel="next" href="tutorial.html" title="Chapter 3. Tutorial" />
<script language="javascript" type="text/javascript">
  function addOnload(theFunc)
  {
    var previous = window.onload;
    if (typeof window.onload != 'function')
    {
      window.onload = theFunc;
    }
    else
    {
      window.onload = function()
      {
        previous();
        theFunc();
      }
    }
  }

  addOnload(function()
  {
    var base = new Date(1378437679*1000);
    var now = new Date();
    var diff = ((now-base)/1000)/(24*3600);

    if (diff > 90) {
      var nodes = document.getElementsByClassName('titlepage');
      nodes[0].innerHTML = '<p style="border: 5px #ff0000 solid; padding: 5px; margin 5px">' +
        'This copy of the manual is more than 90 days old. We encourage you to download a ' +
        'new version from <a href="http://dev.mysql.com">dev.mysql.com/doc</a>.</p>' + nodes[0].innerHTML;
    }
  });
</script>
<noscript></noscript>
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<div class="navheader">
<table width="100%" summary="Navigation header">
<tr>
<th colspan="3" align="center">章节 2. 安装和升级MySQL</th>
</tr>
<tr>
<td width="20%" align="left"><a accesskey="p" href="introduction.html">上一章</a> </td>
<th width="60%" align="center"></th>
<td width="20%" align="right"> <a accesskey="n" href="tutorial.html">下一章</a></td>
</tr>
</table>
<hr>
</div>
<div class="chapter">
<div class="titlepage">
<div>
<div>
<h1 class="title"><a name="installing"></a>章节 2. 安装和升级MySQL</h1>

</div>

</div>

</div>
<div class="toc">
<p><b>内容列表</b></p>
<dl><dt><span class="section"><a href="installing.html#general-installation-issues">2.1. 一般安装指导</a></span></dt><dd><dl>
  <dt><span class="section"><a href="installing.html#supported-os">2.1.1. MySQL社区版支持的操作系统</a></span></dt>
  <dt><span class="section"><a href="installing.html#which-version">2.1.2. 选择要安装的MySQL分发版</a></span></dt><dt><span class="section"><a href="installing.html#getting-mysql">2.1.3. 如何获取MySQL</a></span></dt>
  <dt><span class="section"><a href="installing.html#verifying-package-integrity">2.1.4. 使用MD5或<code class="literal">GnuPG</code>来验证安装包的完整性</a></span></dt><dt><span class="section"><a href="installing.html#installation-layouts">2.1.5. 安装布局</a></span></dt><dt><span class="section"><a href="installing.html#compiler-characteristics">2.1.6. 特定编译器来构建特性
</a></span></dt></dl></dd><dt><span class="section"><a href="installing.html#binary-installation">2.2. 在Unix/Linux上使用通用二进制文件来安装MySQL</a></span></dt><dt><span class="section"><a href="installing.html#windows-installation">2.3. 在Microsoft Windows上安装MySQL</a></span></dt><dd><dl><dt><span class="section"><a href="installing.html#windows-installation-layout">2.3.1. 在Microsoft Windows上的MySQL安装布局</a></span></dt><dt><span class="section"><a href="installing.html#windows-choosing-package">2.3.2. 选择一个安装包</a></span></dt><dt><span class="section"><a href="installing.html#mysql-installer">2.3.3. 在Microsoft Windows上使用MySQL Installer来安装MySQL</a></span></dt><dt><span class="section"><a href="installing.html#windows-notifier">2.3.4. MySQL Notifier for Microsoft Windows</a></span></dt><dt><span class="section"><a href="installing.html#windows-install-archive">2.3.5. 在Microsoft Windows上使用
      <code class="literal">noinstall</code>的Zip压缩包来安装MySQL</a></span></dt><dt><span class="section"><a href="installing.html#windows-troubleshooting">2.3.6. 在Windows环境下对MySQL安装的故障诊断与排除</a></span></dt><dt><span class="section"><a href="installing.html#windows-upgrading">2.3.7. 在Windows上对MySQL升级</a></span></dt><dt><span class="section"><a href="installing.html#windows-postinstallation">2.3.8. Windows上安装后使用的程序</a></span></dt></dl></dd><dt><span class="section"><a href="installing.html#macosx-installation">2.4. 在Mac OS X上安装MySQL</a></span></dt><dd><dl><dt><span class="section"><a href="installing.html#macosx-installation-notes">2.4.1. 在Mac OS X上安装MySQL的一般说明</a></span></dt><dt><span class="section"><a href="installing.html#macosx-installation-pkg">2.4.2. 在Mac OS X上使用安装包来安装MySQL</a></span></dt><dt><span class="section"><a href="installing.html#macosx-installation-startupitem">2.4.3. 安装MySQL Startup Item</a></span></dt><dt><span class="section"><a href="installing.html#macosx-installation-prefpane">2.4.4. 安装和使用MySQL属性设置面板</a></span></dt><dt><span class="section"><a href="installing.html#macosx-installation-server">2.4.5. 在Mac OS X Server上使用捆绑安装的MySQL</a></span></dt></dl></dd><dt><span class="section"><a href="installing.html#linux-installation">2.5. 在Linux上安装MySQL</a></span></dt><dd><dl><dt><span class="section"><a href="installing.html#linux-installation-rpm">2.5.1. 在Linux上使用RPM包来安装MySQL</a></span></dt><dt><span class="section"><a href="installing.html#linux-installation-debian">2.5.2. 在Linux上使用Debian包来安装MySQL</a></span></dt><dt><span class="section"><a href="installing.html#linux-installation-native">2.5.3. 在Linux上使用本地包管理器来安装MySQL</a></span></dt></dl></dd><dt><span class="section"><a href="installing.html#solaris-installation">2.6. 在Solaris和OpenSolaris上安装MySQL</a></span></dt><dd><dl><dt><span class="section"><a href="installing.html#solaris-installation-pkg">2.6.1. 在Solaris上使用PKG包安装MySQL</a></span></dt><dt><span class="section"><a href="installing.html#solaris-installation-opensolaris">2.6.2. 在OpenSolaris使用IPS包安装MySQL</a></span></dt></dl></dd><dt><span class="section"><a href="installing.html#hpux-installation">2.7. 在HP-UX上安装MySQL</a></span></dt><dd><dl><dt><span class="section"><a href="installing.html#hpux-installation-general">2.7.1. 在HP-UX上安装MySQL的一般说明</a></span></dt><dt><span class="section"><a href="installing.html#hpux-installation-depot">2.7.2. 在HP-UX使用DEPOT包安装MySQL</a></span></dt></dl></dd><dt><span class="section"><a href="installing.html#freebsd-installation">2.8. 在FreeBSD上安装MySQL</a></span></dt><dt><span class="section"><a href="installing.html#source-installation">2.9. 使用源码安装MySQL</a></span></dt><dd><dl><dt><span class="section"><a href="installing.html#source-installation-layout">2.9.1. MySQL源码安装布局</a></span></dt><dt><span class="section"><a href="installing.html#installing-source-distribution">2.9.2. 使用标准源码发布版安装</a></span></dt><dt><span class="section"><a href="installing.html#installing-development-tree">2.9.3. 通过研发源码树上安装MySQL</a></span></dt><dt><span class="section"><a href="installing.html#source-configuration-options">2.9.4. MySQL源码配置属性</a></span></dt><dt><span class="section"><a href="installing.html#compilation-problems">2.9.5. 处理编译MySQL过程中产生的问题</a></span></dt><dt><span class="section"><a href="installing.html#source-configuration-third-party">2.9.6. MySQL设置和第三方工具</a></span></dt></dl></dd><dt><span class="section"><a href="installing.html#postinstallation">2.10. 安装完成后的设置和测试</a></span></dt><dd><dl><dt><span class="section"><a href="installing.html#unix-postinstallation">2.10.1. Unix安装后使用的程序</a></span></dt>
      <dt><span class="section"><a href="installing.html#default-privileges">2.10.2. 保护MySQL初始账号</a></span></dt>
      </dl></dd><dt><span class="section"><a href="installing.html#upgrading-downgrading">2.11. 升级或降级MySQL</a></span></dt><dd><dl><dt><span class="section"><a href="installing.html#upgrading">2.11.1. 升级MySQL</a></span></dt><dt><span class="section"><a href="installing.html#downgrading">2.11.2. 降级MySQL</a></span></dt><dt><span class="section"><a href="installing.html#checking-table-incompatibilities">2.11.3. 检查是否需要重建表和索引</a></span></dt><dt><span class="section"><a href="installing.html#rebuilding-tables">2.11.4. 对表和索引的重建或修复</a></span></dt><dt><span class="section"><a href="installing.html#copying-databases">2.11.5. 从其它机器拷贝MySQL数据库</a></span></dt></dl></dd><dt><span class="section"><a href="installing.html#environment-variables">2.12. 环境变量</a></span></dt><dt><span class="section"><a href="installing.html#perl-support">2.13. Perl安装说明</a></span></dt><dd><dl><dt><span class="section"><a href="installing.html#perl-installation">2.13.1. 在Unix上安装Perl</a></span></dt><dt><span class="section"><a href="installing.html#activestate-perl">2.13.2. 在Windows上安装ActiveState Perl</a></span></dt>
        <dt><span class="section"><a href="installing.html#perl-support-problems">2.13.3. 使用Perl的<code class="literal">DBI</code>/<code class="literal">DBD</code>接口时遇到的问题</a></span></dt>
      </dl></dd></dl>
</div>
<a class="indexterm" name="idp1949504"></a>
<p>
    本章描述了如何获取并安装MySQL。 这里提供一个大纲，后面的章节会详细说明 。如果你计划对现有的MySQL版本升级成新版本，而不是初次安装MySQL，参阅<a class="xref" href="installing.html#upgrading" title="2.11.1. Upgrading MySQL">章节 2.11.1, “升级MySQL”</a>，来获取关于升级过程的信息和升级前的需要注意的问题。</p>
<p>
    如果你对把其它数据库系统迁移到MySQL的内容感兴趣，建议去阅读：<a class="xref" href="faqs.html#faqs-migration" title="B.8. MySQL 5.6 FAQ: Migration">章节 B.8, “MySQL 5.6 FAQ: 迁移”</a>，里面有一些常见关于移植问题的解答。</p>
<p>
    安装MySQL一般要遵从以下步骤：
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem">
  <p>
        <span class="bold"><strong>确定你的平台是否能支持和运行MySQL。</strong></span>      </p>
  <p>
        请注意并不是所有的平台都适合运行MySQL，也不是所有的能运行MySQL的平台被Oracle官方提供支持的。</p>
</li><li class="listitem">
  <p>
        <span class="bold"><strong>选择何种分发版来安装。</strong></span>      </p>
  <p>
        MySQL现在有很多个版本，并且大多数版本有很多分发格式。你可以选择已经编译好的分发包，也可以选择源码安装。当你不能确定时，可以选择二进制分发包。我们我们也提供了当前源码树的公开访问，供大家查看我们的研发进度和帮助我们测试新代码，参阅<a class="xref" href="installing.html#which-version" title="2.1.2. Choosing Which MySQL Distribution to Install">章节 2.1.2, “选择要安装的MySQL分发版”</a>.      </p>
</li><li class="listitem">
        <p>
        <span class="bold"><strong>下载你想安装的分发版。</strong></span>      </p>
        <p>
        相关说明请参阅<a class="xref" href="installing.html#getting-mysql" title="2.1.3. How to Get MySQL">章节 2.1.3, “如何获取MySQL”</a>。检查分发包的完整性，可以参阅说明<a class="xref" href="installing.html#verifying-package-integrity" title="2.1.4. Verifying Package Integrity Using MD5 Checksums or GnuPG">章节 2.1.4, “使用MD5或<code class="literal">GnuPG</code>来验证安装包的完整性”</a>。     </p>
</li><li class="listitem">
        <p>
        <span class="bold"><strong>安装该分发版。</strong></span>      </p>
        <p>
        使用二进制包来安装MySQL，参阅说明<a class="xref" href="installing.html#binary-installation" title="2.2. Installing MySQL on Unix/Linux Using Generic Binaries">章节 2.2, “在Unix/Linux上使用通用二进制文件来安装MySQL”</a>。</p>
        <p>
        使用源码分发版或者从当前研发代码树来安装MySQL，参阅说明<a class="xref" href="installing.html#source-installation" title="2.9. Installing MySQL from Source">章节 2.9, “使用源码安装MySQL”</a>。</p>
</li><li class="listitem">
        <p>
        <span class="bold"><strong>运行必要的安装后设置。</strong></span>      </p>
        <p>
        安装完MySQL，参阅<a class="xref" href="installing.html#postinstallation" title="2.10. Postinstallation Setup and Testing">章节 2.10, “安装完成后的设置和测试”</a>信息来确保MySQL服务器正常运行。参阅
        <a class="xref" href="installing.html#default-privileges" title="2.10.2. Securing the Initial MySQL Accounts">章节 2.10.2, “保护MySQL初始帐户”</a>.中相关信息，本章描述了如何对保护MyQL初始账户(它们默认没密码直到设置了密码)，本章节内容对二进制分发版和源码分发版安装的MySQL都适用。</p>
</li><li class="listitem">
        <p>
        如果你想运行MySQL性能测试脚本，MySQL的Perl支持必须提供，参阅<a class="xref" href="installing.html#perl-support" title="2.13. Perl Installation Notes">章节 2.13, “Perl 安装说明”</a><span lang="zh-cn">。</span></p>
      </li></ol>
</div>
<p>
  下面是不同平台和环境下安装MySQL的说明：</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
        <span class="bold"><strong>Unix, Linux, FreeBSD</strong></span>
      </p>
<p>
        在大部分Linux和Unix平台上使用通用二进制包安装MySQL的说明 (例如<code class="filename">.tar.gz</code>包)，请参阅<a class="xref" href="installing.html#binary-installation" title="2.2. Installing MySQL on Unix/Linux Using Generic Binaries">章节 2.2, “在Unix/Linux上使用通用二进制文件来安装MySQL”</a>。     </p>
<p>
        通过源代码分发版或者源代码存储库来构建MySQL的相关信息，请参阅
        <a class="xref" href="installing.html#source-installation" title="2.9. Installing MySQL from Source">章节 2.9, “使用源码安装MySQL”</a>
      </p><p>
        <span lang="zh-cn">特定平台上安装，配置，源码构建可以查看下面相应平台章节来获取帮助：</span></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
            Linux，包括特定分发版的注意事项，请参阅<a class="xref" href="installing.html#linux-installation" title="2.5. Installing MySQL on Linux">章节<span lang="zh-cn">
			</span>2.5, “在Linux上安装MySQL”</a>。
          </p></li><li class="listitem"><p>
            Solaris或者OpenSolaris, 包括PKG和IPS格式，请参阅<a class="xref" href="installing.html#solaris-installation" title="2.6. Installing MySQL on Solaris and OpenSolaris">章节2.6, “在Solaris和OpenSolaris上安装MySQL”</a>。
          </p></li><li class="listitem"><p>
            IBM AIX<span lang="zh-cn">，请参阅</span><a class="xref" href="installing.html#solaris-installation" title="2.6. Installing MySQL on Solaris and OpenSolaris">章节 2.6, “在Solaris和OpenSolaris上安装MySQL”</a>。
          </p></li><li class="listitem"><p>
            Hewlett-Packard HP-UX，包括 DEPOT包格式，请参阅 <a class="xref" href="installing.html#hpux-installation" title="2.7. Installing MySQL on HP-UX">章节 2.7, “在HP-UX上安装MySQL”</a><span lang="zh-cn">。</span></p></li><li class="listitem"><p>
            FreeBSD，请参阅<a class="xref" href="installing.html#freebsd-installation" title="2.8. Installing MySQL on FreeBSD">章节 2.8, “在FreeBSD上安装MySQL”</a><span lang="zh-cn">。</span></p></li></ul>
</div>
</li><li class="listitem"><p>
        <span class="bold"><strong>Microsoft Windows</strong></span>
      </p><p>
        在Microsoft Windows上使用二进制ZIP包或者MSI包来安装MySQL相关内容，请参阅<a class="xref" href="installing.html#windows-installation" title="2.3. Installing MySQL on Microsoft Windows">章节 2.3, “在Microsoft Windows上安装MySQL”</a><span lang="zh-cn">。</span></p><p>
        使用Microsoft Visual Studio来通过源码来构建MySQL的相关内容，请参阅<a class="xref" href="installing.html#source-installation" title="2.9. Installing MySQL from Source">章节 2.9, “使用源码安装MySQL”</a><span lang="zh-cn">。</span></p></li><li class="listitem"><p>
        <span class="bold"><strong>Mac OS X</strong></span>
      </p><p>
        在Mac OS X上使用二进制包或本地PKG格式包来安装MySQL的相关内容，请参阅<a class="xref" href="installing.html#macosx-installation" title="2.4. Installing MySQL on Mac OS X">章节 2.4, “在Mac OS X上安装MySQL”</a><span lang="zh-cn">。</span></p><p>
        使用MySQLStartup Item来自动启动和关闭MySQL相关内容，请参阅<a class="xref" href="installing.html#macosx-installation-startupitem" title="2.4.3. Installing the MySQL Startup Item">章节 2.4.3, “安装MySQL Startup Item”</a>。
      </p><p>
        MySQL属性面板的相关内容，请参阅<a class="xref" href="installing.html#macosx-installation-prefpane" title="2.4.4. Installing and Using the MySQL Preference Pane">章节 2.4.4, “安装和使用MySQL属性设置面板”</a><span lang="zh-cn">。</span>
</p></li></ul>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both"><a name="general-installation-issues"></a>2.1. 一般安装指导</h2>

</div>

</div>

</div>
<div class="toc">
<dl><dt><span class="section"><a href="installing.html#supported-os">2.1.1. MySQL社区版支持的操作系统</a></span></dt><dt><span class="section"><a href="installing.html#which-version">2.1.2. 选择要安装的MySQL分发版</a></span></dt><dt><span class="section"><a href="installing.html#getting-mysql">2.1.3. 如何获取MySQL</a></span></dt><dt><span class="section"><a href="installing.html#verifying-package-integrity">2.1.4. 使用MD5<code class="literal">GnuPG</code>来验证安装包的完整性</a></span></dt><dt><span class="section"><a href="installing.html#installation-layouts">2.1.5. 安装布局</a></span></dt><dt><span class="section"><a href="installing.html#compiler-characteristics">2.1.6. 特定编译器来构建特性 </a></span></dt></dl>
</div>
<p>
    <span lang="zh-cn">接下来的章节包含了选择、下载、验证分发版的必要信息。之后章节描述了如何安装已选的安装包。二进制分发包的安装介绍，请参阅</span><a class="xref" href="installing.html#binary-installation" title="2.2. Installing MySQL on Unix/Linux Using Generic Binaries">章节 2.2, “在Unix/Linux上使用通用二进制文件来安装MySQL”</a>
	<span lang="zh-cn">或者参阅其它平台相关章节。通过源码来构建MySQL的介绍，请参阅</span><a class="xref" href="installing.html#source-installation" title="2.9. Installing MySQL from Source">章节 2.9, “使用源码安装MySQL”</a>.
</p>
<div class="section">

<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="supported-os"></a>2.1.1. MySQL社区版支持的操作系统</h3>
</div>
</div>
</div>
<a class="indexterm" name="idp1997440"></a><a class="indexterm" name="idp1998928"></a><a class="indexterm" name="idp2000000"></a><a class="indexterm" name="idp2001072"></a><a class="indexterm" name="idp2002144"></a><p>
      本章节列出了可以运行MySQL社区版的操作系统。</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="important" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
重要
</div>
<p xmlns="">
        Oracle公司并未对本章罗列的所有平台提供官方支持。在MySQL官网的http://www.mysql.com/support/supportedplatforms/database.html页面上可以获取所有提供官方支持的平台信息</p>
</div>
<p>
      我们使用<span class="command"><strong>CMake</strong></span>，这样就可以把MySQL移植到所有实现POSIX线程和有C++编译器的现代操作系统中(服务器必须支持线程，如果只需要编译客户端代码，那只需要C++编译器就可以了)。
    </p><p>
      <span lang="zh-cn">在下列操作系统可以成功编译MySQL：</span></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          FreeBSD 5.x以及更高版本。详情请参阅<a class="xref" href="installing.html#freebsd-installation" title="2.8. Installing MySQL on FreeBSD">章节 2.8, “在FreeBSD上安装MySQL”</a>。
        </p></li><li class="listitem"><p>
          HP-UX 11.x，请参阅<a class="xref" href="installing.html#hpux-installation" title="2.7. Installing MySQL on HP-UX">章节 2.7, “在HP-UX上安装MySQL”</a>。
        </p></li><li class="listitem"><p>Linux，所有最新基于2.6内核的Linux发行版。请参阅<a class="xref" href="installing.html#linux-installation" title="2.5. Installing MySQL on Linux">章节 2.5, “在Linux上安装MySQL”</a>。
        </p></li><li class="listitem"><p>
          Mac OS X。请参阅<a class="xref" href="installing.html#macosx-installation" title="2.4. Installing MySQL on Mac OS X">章节 2.4, “在Mac OS X上安装MySQL”</a>。
        </p></li><li class="listitem"><p>
          SPARC和x86平台上的Solaris 2.8。请参阅<a class="xref" href="installing.html#solaris-installation" title="2.6. Installing MySQL on Solaris and OpenSolaris">章节 2.6, “在Solaris和OpenSolaris上安装MySQL”</a>。
        </p></li><li class="listitem"><p>
          Microsoft Windows。请参阅<a class="xref" href="installing.html#windows-installation" title="2.3. Installing MySQL on Microsoft Windows">章节 2.3, “在Microsoft Windows上安装MySQL”</a>。
</p></li></ul>
</div>
<p>
      前面内容也介绍了MySQL也可以运行在其他操作系统上，这部分内容请参阅<a class="xref" href="installing.html#general-installation-issues" title="2.1. General Installation Guidance">章节 2.1, “一般安装指导”</a>。最新的MySQL版本正努力的移植到这些系统上。    </p><p>
      并不是所有的平台都适合运行MySQL。 决定适合运行高并发关键任务的MySQL服务器的平台的因素有：</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          总体稳定的线程库。一个平台可能在其他方面很出众，但MySQL稳定性只取决于调用的线程库，不管其它部分是否完善。 </p></li>
          <li class="listitem"><p>
          <span lang="zh-cn">
			内核和线程库使用对称多处理器(SMP)的能力。换句话说，当进程创建一个线程，它允许非创建线程CPU之外的CPU来运行这个线程。</span></p></li><li class="listitem"><p>
          <span lang="zh-cn">内核和线程库能够在一个小临界区频繁获取和释放互斥体非上下文切换线程的多线程能力。如果运行</span><code class="literal">pthread_mutex_lock()</code>耗费很多CPU时间<span lang="zh-cn">，这会严重降低MySQL性能，如果这个问题没有解决好，添加更多CPU只能让MySQL运行更慢。</span></p></li><li class="listitem"><p>
          <span lang="zh-cn">常见文件系统的稳定性和性能。</span></p></li><li class="listitem"><p>
          <span lang="zh-cn">表大小。</span>如果<span lang="zh-cn">表非常大，表的性能受文件系统处理能力和处理效率的限制。</span></p></li><li class="listitem"><p>
          我们在Oracle公司的平台上的专业技能水平。如果我们非常了解该平台，我们可以在编译期间对平台做相应优化和修复。我们也可以提供建议把系统配置成最适合运行MySQL的状态。        </p></li><li class="listitem"><p>
          类似<span lang="zh-cn">配置下所做内部测试的数量。</span></p></li><li class="listitem"><p>
          <span lang="zh-cn">
			在一个平台上使用相同配置能成功运行MySQL的使用者数量。如果这个数字非常大，那出现平台相关问题的几率很低。</span></p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="which-version"></a>2.1.2. 选择要安装的MySQL分发版本</h3>

</div>

</div>

</div>
<div class="toc">
<dl><dt><span class="section"><a href="installing.html#choosing-version">2.1.2.1. 选择要安装的MySQL版本</a></span></dt><dt><span class="section"><a href="installing.html#choosing-distribution-format">2.1.2.2. 选择分发格式</a></span></dt><dt><span class="section"><a href="installing.html#many-versions">2.1.2.3. 怎样发布更新以及何时发布更新</a></span></dt></dl>
</div>
<p>
     当准备安装MySQL时，你应该确定使用哪个版本的MySQL。MySQL开发有几个发布系列，可以选择最符合你要求的一个版本。确定好安装的版本后，就可以选择分发格式，一般有二进制或源码分发格式。 </p><a class="indexterm" name="idp2028704"></a><a class="indexterm" name="idp2029792"></a><a class="indexterm" name="idp2030880"></a><a class="indexterm" name="idp2031952"></a><a class="indexterm" name="idp2033440"></a>
<div class="section">

<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="choosing-version"></a>2.1.2.1. 选择要安装的MySQL版本</h4>
</div>
</div>
</div>
<p>
        首先要决定的是选择最终稳定发布版还是最新的开发版。在MySQL研发过程中，存在多个系列的发布，每个发布属于成熟期的不同阶段。</p>
<h5><a name="idp2037536"></a>
    产品发布：</h5>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
        MySQL 5.6：最新的稳定(产品质量)发布</p></li><li class="listitem"><p>
        MySQL 5.5: 前一个稳定(产品质量)发布</p></li><li class="listitem"><p>
        MySQL 5.1：旧的稳定(产品质量)发布</p></li><li class="listitem"><p>
        MySQL 5.0：旧的产品发布，接近产品生命周期的结束</p></li></ul>
</div>
<p>
    MySQL 4.1， 4.0和3.23是不在提供技术支持的旧发布。  </p><p>
    访问http://www.mysql.com/about/legal/lifecycle/可以查询产品支持策略和产品计划相关信息。  </p><p>
        通常，吐过你是第一次使用MySQL或者想把MySQL移植到没有二进制分发版的系统上，请使用我们之前描述的最新的稳定系列发布。所有的MySQL发布，即使是研发系列发布，在发布前都经过MySQL性能测试套件和MySQL测试套件的测试检验。      </p><p>
        如果你在运行一个老系统并且想对它进行升级，但是有不想冒风险进行无缝升级，你最好升级成当前所用版本系列的最新版本(只有最后的版本号比你的新)。我们只对该版本修复了致命缺陷，只进行最小的、"安全的"变更。      </p><p>
        如果你想用产品质量系列发布中没有的新特性，你可以使用研发系列的版本。注意研发发布达不到产品质量发布的稳定性。      </p><p>
        我们不会把一个完整代码冻结，这将阻止我们修复漏洞或者其他缺陷。我们只在一个产品发布中添加一些不影响当前工作的小东西。当然，早期系列中相关的漏洞修复也会添加到后面系列中去</p><p>
        如果你想用含有最新补丁和漏洞修复的最新代码，你可以使用我们的源代码库(参阅
        <a class="xref" href="installing.html#installing-development-tree" title="2.9.3. Installing MySQL Using a Development Source Tree">章节 2.9.3, “通过研发源码树上安装MySQL”</a>)。这些代码并不是发布版，但可以预览代码，将来发布都是基于这些代码的。 </p><a class="indexterm" name="idp2048800"></a><a class="indexterm" name="idp2050288"></a><p>
        MySQL 5.6的命名规则包含3个数字和一个后缀；例如，<span class="bold"><strong>mysql-5.6.1-m1</strong></span>.这个发布的名字中的数字应该这么理解：</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            第一个数字(<span class="bold"><strong>5</strong></span>)是它的主版本号，并描述了文件格式，所有的MySQL5系列的发布都是同种文件格式。          </p></li><li class="listitem"><p>
            第二个数字(<span class="bold"><strong>6</strong></span>)是发行级别. 主版本号和发行级别一起构成了发布序列号。  </p></li><li class="listitem"><p>
            第三个数字(<span class="bold"><strong>1</strong></span>)是这个发布序列的版本号，随着每个新发布而递增，通常你需要已经选择的发布的最新版本。 </p></li></ul>
</div>
<p>
        每次小升级后，版本字符串的最后一个数字递增。如果相对于前一个版本增加了新功能或有微小的不兼容性，字符串的第二个数字递增。如果文件格式改变，第一个数字递增。      </p><p>
        发布名也包含稳定性级别。通过一系列后缀显示如何改进稳定性。可能的后缀有：</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <span class="bold"><strong>m<span class="emphasis"><em>N</em></span></strong></span>
            (例如， <span class="bold"><strong>m1</strong></span>，
            <span class="bold"><strong>m2</strong></span>，
            <span class="bold"><strong>m3</strong></span>， ...)表示里程碑版本号。MySQL研发使用里程碑模型，每个里程碑是个小版本，它只关注很小的一部分功能特性，并对这些特性彻底测试。随着发布到达一个里程碑，研发继续开始新的小数字发布，它开始研发下一个小特性集合，并且对这些特性做彻底测试。里程碑发布中的特性可以认为达到准生产系统质量。        </p></li><li class="listitem"><p>
            <span class="bold"><strong>rc</strong></span>表示候选发布，RC版可以认为很稳定了，它通过了所有的MySQL内部的测试，并且已知的致命缺陷已经被修复了。但RC版没有经过大规模的使用来确保所有的缺陷已经被发现，它只增加了很小的缺陷修复。          </p></li><li class="listitem"><p>
            如果没有后缀，它表明这个发布已经稳定或者说达到产品质量级别。稳定发布版已经成功通过所有前面发布阶段，它是可靠的，很少的漏洞，适用于生产系统中。 只有关键的缺陷修复会添加到这个发布里。</p></li></ul>
</div>
<p>
        所有的MySQL发布都经过我们的标准测试和性能测试来确保它们可以安全的使用。由于这个标准测试一直不断扩充以检测以前发现的缺陷，测试套件一直在改进之中。      </p><a class="indexterm" name="idp2068944"></a><a class="indexterm" name="idp2070432"></a><p>
        所有的发布都必须经过以下工具的测试：</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><b>An internal test suite。</b>
              <code class="filename">mysql-test</code> 文件夹里有一整套详尽测试用例。 我们用这些测试用例对所有二进制服务器程序进行了测试。更多关于这个测试套件的信息请参阅<a class="xref" href="extending-mysql.html#mysql-test-suite" title="23.1.2. The MySQL Test Suite">章节 23.1.2, “MySQL测试套件”</a>。            </p></li><li class="listitem"><p><b>The MySQL benchmark suite。</b>
              这个测试套件运行一系列的普通查询。这个套件也可以用来检验最新优化是否能让代码运行的更快。详情请参阅<a class="xref" href="optimization.html#mysql-benchmarks" title="8.12.2. The MySQL Benchmark Suite">章节 8.12.2, “MySQL性能测试套件”</a>.
</p></li></ul>
</div>
<p>
        我们也在内部产品环境中对最新的MySQL版本进行额外的集成和非功能测试。集成测试主要是测试不同驱动、存储引擎、复制模式、分区、存储程序以及它们的不同组合。非功能性测试主要是测试性能、并发、压力、高容量，升级和降级等。</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="choosing-distribution-format"></a>2.1.2.2. 选择分发格式</h4>

</div>

</div>

</div>
<p>
        选完MySQL的安装版本之后，你还需要决定是否采用二进制分发版或者采用源代码分发版。大部分情况下，如果你的平台上有二进制分发版，你就该使用这个格式。大多数平台上二进制分发版都是原生代码，比如Linux的RPM包，Mac OS X的DMG包和Solaris的PKG包。分发包也会以ZIP归档和压缩Tar文件等其他格式来提供。 </p><p>
        选择二进制分发版的理由如下：</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            二进制分发版一般会比源代码分发版容易安装。          </p></li><li class="listitem"><p>
            为了满足不同用户的需求，我们提供了不同的二进制分发版。<a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>
            是优化的服务器程序，它比较小，运行速度也更快。 <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld-debug</strong></span></a>则含有调试支持。          </p><p>
            这两种服务器程序都用同一份源代码分发版编译的，只是采用不同的配置项。所有的本地MySQL客户端都能与这两种服务器程序连接。</p></li></ul>
</div>
<p>
        在某些情形下，用源代码分发版来安装是个更好的选择：</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            你想把MySQL安装在特定的路径下，标准二进制分发版是允许安装在任何路径下的，但你需要更灵活的放置MySQL的组件的路径。      </p></li><li class="listitem"><p>
            你想配置<a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>在标准二进制包中没有的功能特性。下面是一些你想要使用的最常用的选项：</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <a class="link" href="installing.html#option_cmake_with_libwrap"><code class="option">-DWITH_LIBWRAP=1</code></a> 增加TCP封装支持。              </p></li><li class="listitem"><p>
                <a class="link" href="installing.html#option_cmake_with_zlib"><code class="option">-DWITH_ZLIB={system|bundled}</code></a>
                压缩依赖库              </p></li><li class="listitem"><p>
                <a class="link" href="installing.html#option_cmake_with_debug"><code class="option">-DWITH_DEBUG=1</code></a>调试支持</p></li></ul>
</div>
<p>
            更多内容可以参阅F<a class="xref" href="installing.html#source-configuration-options" title="2.9.4. MySQL Source-Configuration Options">章节 2.9.4, “MySQL源码配置属性”</a>.
          </p></li><li class="listitem"><p>
            你想在<a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>移除在标准二进制分发版中的一些特性。例如，常规分发版是编译过支持所有字符集的，你可以重编译只支持你需要的字符集使服务器程序变得更小。         
             </p></li><li class="listitem"><p>
            你可以从Bazaar库中获取最新源代码来访问最新修复的缺陷。例如，当一个漏洞报告给MySQL研发团队，当缺陷修复提交到源代码库中后，你就可以访问到它们。而缺陷修复只会出现在下一个发布版本里。          </p></li><li class="listitem"><p>
            如果你想阅读或修改的构成MySQL的C和C++代码，那你需要下载一个源代码分发版，毕竟源代码才是最终的手册。</p></li><li class="listitem"><p>
            源代码分发版比二进制分发版含有更多的测试<span lang="zh-cn">用例</span>和示例。</p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="many-versions"></a>2.1.2.3. 怎样发布更新以及何时发布更新</h4>

</div>

</div>

</div>
<a class="indexterm" name="idp2104496"></a><a class="indexterm" name="idp2105984"></a><p>
        MySQL的发展相当的快，我们想把最新的研发成果分享给其它MySQL用户。 当我们完成一个看起来是用户非常需要的有用的新特性后，我们就会尝试制作一个新发布版。      </p><p>
        我们也尝试帮助那些需要容易实现的功能的用户，我们也关注我们授权的用户想要什么，我们更特别关注我们支持的客户想要什么，并且尽力帮助他们。      </p><p>
       没有人一定要下载一个新版本，<a class="ulink" href="http://dev.mysql.com/doc/relnotes/mysql/5.6/en/" target="_top">发布说明</a>可以帮助你了解新发布版中是否有你真正需要的功能。      </p><p>
        我们在升级MySQL时使用以下策略：</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            企业版服务器程序每18个月发布新版，然后每季度有补丁包和每月有快速升级包。社区版服务器平均每年发布2-3个版本。 </p></li><li class="listitem"><p>
            每个系列都会有新版发布。对每个发布版，它的版本号最后一个数字为同一系列前一版本的基础上加。          </p></li><li class="listitem"><p>
            对一些平台的二进制分发版，主要版本由我们制作。其它人可以为其它系统制作二进制分发版，但是可能不多见。
          </p></li><li class="listitem"><p>
            我们一旦确认并尽可能快的修正了非紧急但烦人的缺陷，我们会把修复代码立即更新到Bazaar库中，并把修复代码包含在下一个发布版本中。</p></li><li class="listitem"><p>
            如果在一个发布版中发现重大安全漏洞或者致命缺陷，我们会尽可能快的修复它们然后发布新版本。 (我们希望其它公司也这样做！)
</p></li></ul>
</div>

</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="getting-mysql"></a>2.1.3. 如何获取MySQL</h3>

</div>

</div>

</div>
<a class="indexterm" name="idp2117680"></a><a class="indexterm" name="idp2118752"></a><a class="indexterm" name="idp2119824"></a><a class="indexterm" name="idp2121312"></a><a class="indexterm" name="idp2122384"></a><a class="indexterm" name="idp2123456"></a><p>
      在我们的下载页面(<a class="ulink" href="http://dev.mysql.com/downloads/" target="_top">http://dev.mysql.com/downloads/</a>)核对MySQL当前版本的相关信息和下载说明。关于MySQL下载镜像站点的完整的最新列表，参见<a class="ulink" href="http://dev.mysql.com/downloads/mirrors.html" target="_top">http://dev.mysql.com/downloads/mirrors.html</a>。 你可以在此找到如何成为MySQL镜像站点和如何报告有问题的或过期的镜像站点的相关信息。   </p><p>
      想要获取最新的研发代码，请参阅<a class="xref" href="installing.html#installing-development-tree" title="2.9.3. Installing MySQL Using a Development Source Tree">章节 2.9.3, “通过研发源码树上安装MySQL”</a>.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="verifying-package-integrity"></a>2.1.4. 使用MD5或者<code class="literal">GnuPG</code>来验证安装包的完整性</h3>

</div>

</div>

</div>
<div class="toc">
<dl><dt><span class="section"><a href="installing.html#verifying-md5-checksum">2.1.4.1. 验证MD5校验和</a></span></dt><dt><span class="section"><a href="installing.html#checking-gpg-signature">2.1.4.2. 使用<code class="literal">GnuPG</code>来验证签名</a></span></dt><dt><span class="section"><a href="installing.html#checking-gpg-signature-windows">2.1.4.3. 使用Windows版的<code class="literal">Gpg4win</code>来验证签名</a></span></dt><dt><span class="section"><a href="installing.html#checking-rpm-signature">2.1.4.4. 使用<code class="literal">RPM</code>来验证签名</a></span></dt></dl>
</div>
<p>
      下载完符合要求的MySQL安装包后，在安装之前你得确保安装包是完整的并没有被篡改过。下面有三种完整性验证机制</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          MD5校验和</p></li><li class="listitem"><p>
          使用<code class="literal">GnuPG</code>和GNU Privacy Guard来加密签名
        </p></li><li class="listitem"><p>
          针对RPM包，使用内建的完整性校验机制</p></li></ul>
</div>
<p>
      下面章节讲述了如何使用这些方法。    </p><p>
      如果你发现MD5校验和和GPG签名不相符，首先应尝试多次下载相关安装软件包，也可以从其它镜像站点来下载。</p>
<div class="section">

<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="verifying-md5-checksum"></a>2.1.4.1. 验证MD5校验和</h4>
</div>
</div>
</div>
<p>
        下载完MySQL安装包后，你要确保它的MD5校验和与MySQL下载页面提供的值一致。因为每个安装包的校验和都不一样，所以你可以验证你下载的安装包。每个MySQL产品在其下载页面上都罗列了正确的MD5校验和，你可以核对它和你下载的文件是否一致。</p><p>
        每种操作系统都有自己的MD5校验和的工具。通常命令都名为<span class="command"><strong>md5sum</strong></span>，或名为 <span class="command"><strong>md5</strong></span>，但还有一些操作系统没有移植这个工具。在Linux上，这个工具是<span class="bold"><strong>GNU
        Text Utilities</strong></span>包里一部分，它在很多平台上都被提供了，你也可以到这个网址去下载源代码(<a class="ulink" href="http://www.gnu.org/software/textutils/" target="_top">http://www.gnu.org/software/textutils/</a>)。如果平台上安装了OpenSSL，就可以使用名为<span class="command"><strong>openssl
        md5<em class="replaceable"><code></code></em></strong></span>包来替代。
        Windows平台上的<span class="command"><strong>md5</strong></span>命令行工具可以到这个网址(<a class="ulink" href="http://www.fourmilab.ch/md5/" target="_top">http://www.fourmilab.ch/md5/</a>)。
        <span class="command"><strong>winMd5Sum</strong></span>软件是图形化的MD5校验工具，你可以去这个网址下载(<a class="ulink" href="http://www.nullriver.com/index/products/winmd5sum" target="_top">http://www.nullriver.com/index/products/winmd5sum</a>)。
        在Windows上使用<span class="command"><strong>md5.exe</strong></span>来做例子。      </p><p>
        Linux和Windows使用例子：       </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>md5sum mysql-standard-5.6.15-linux-i686.tar.gz</code></strong>
aaab65abbec64d5e907dcd41b8699945  mysql-standard-5.6.15-linux-i686.tar.gz
</pre><pre class="programlisting">shell&gt; <strong class="userinput"><code>md5.exe mysql-installer-community-5.6.15.msi</code></strong>
aaab65abbec64d5e907dcd41b8699945  mysql-installer-community-5.6.15.msi
</pre><p>
        你必须验证文件校验和结果(是一个十六进制字符串)是否和各自安装包下载页上提供的值相一致。</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
注意
</div>
<p xmlns="">
          确保是验证归档文件的校验和(例如， <code class="filename">.zip</code>，
          <code class="filename">.tar.gz</code>，或者<code class="filename">.msi</code>文件)，而不是归档文件里包含的文件的校验和，换句话说，你得在解压之前验证。</p>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="checking-gpg-signature"></a>2.1.4.2. 使用<code class="literal">GnuPG</code>来验证签名</h4>

</div>

</div>

</div>
<p>
        另外验证安装包的完整性和真实性的方法是使用数字签名。 它比<a class="link" href="installing.html#verifying-md5-checksum" title="2.1.4.1. Verifying the MD5 Checksum">MD5校验和</a>更可靠，但也更耗资源。    </p><p>
        我们使用<span class="command"><strong>GnuPG</strong></span> (GNU Privacy Guard)来对MySQL下载包进行签名。
        <span class="command"><strong>GnuPG</strong></span>是一个开源软件，它是更出名的Phil Zimmermann写的Pretty Good Privacy (PGP)软件的一个替代品。到<a class="ulink" href="http://www.gnupg.org/" target="_top">http://www.gnupg.org/</a>网站可以获取更多关于获取和安装<span class="command"><strong>GnuPG</strong></span>软件的相关信息。 大多数Linux发行版已经默认安装了<span class="command"><strong>GnuPG</strong></span>。需要知道更多关于<span class="command"><strong>GnuPG</strong></span>的相关信息，请访问 <a class="ulink" href="http://www.openpgp.org/" target="_top">http://www.openpgp.org/</a>。
      </p><p>
        要验证指定安装包的签名，你得先获取我们的公共GPG构建密钥的拷贝，这个你可以去<a class="ulink" href="http://pgp.mit.edu/" target="_top">http://pgp.mit.edu/</a>下载密钥。 这个密钥名为<code class="literal">mysql-build@oss.oracle.com</code>。当然你可以从下文中直接剪切和复制密钥：      </p><pre class="programlisting">-----BEGIN PGP PUBLIC KEY BLOCK-----
Version: PGP Universal 2.9.1 (Build 347)

mQGiBD4+owwRBAC14GIfUfCyEDSIePvEW3SAFUdJBtoQHH/nJKZyQT7h9bPlUWC3
RODjQReyCITRrdwyrKUGku2FmeVGwn2u2WmDMNABLnpprWPkBdCk96+OmSLN9brZ
fw2vOUgCmYv2hW0hyDHuvYlQA/BThQoADgj8AW6/0Lo7V1W9/8VuHP0gQwCgvzV3
BqOxRznNCRCRxAuAuVztHRcEAJooQK1+iSiunZMYD1WufeXfshc57S/+yeJkegNW
hxwR9pRWVArNYJdDRT+rf2RUe3vpquKNQU/hnEIUHJRQqYHo8gTxvxXNQc7fJYLV
K2HtkrPbP72vwsEKMYhhr0eKCbtLGfls9krjJ6sBgACyP/Vb7hiPwxh6rDZ7ITnE
kYpXBACmWpP8NJTkamEnPCia2ZoOHODANwpUkP43I7jsDmgtobZX9qnrAXw+uNDI
QJEXM6FSbi0LLtZciNlYsafwAPEOMDKpMqAK6IyisNtPvaLd8lH0bPAnWqcyefep
rv0sxxqUEMcM3o7wwgfN83POkDasDbs3pjwPhxvhz6//62zQJ7Q2TXlTUUwgUmVs
ZWFzZSBFbmdpbmVlcmluZyA8bXlzcWwtYnVpbGRAb3NzLm9yYWNsZS5jb20+iGYE
ExECACYCGyMGCwkIBwMCBBUCCAMEFgIDAQIeAQIXgAUCTnc+KgUJE/sCFQAKCRCM
cY07UHLh9SbMAJ4l1+qBz2BZNSGCZwwA6YbhGPC7FwCgp8z5TzIw4YQuL5NGJ/sy
0oSazqmJASIEEAECAAwFAk53QS4FAwASdQAACgkQlxC4m8pXrXwJ8Qf/be/UO9mq
foc2sMyhwMpN4/fdBWwfLkA12FXQDOQMvwH9HsmEjnfUgYKXschZRi+DuHXe1P7l
8G2aQLubhBsQf9ejKvRFTzuWMQkdIq+6Koulxv6ofkCcv3d1xtO2W7nb5yxcpVBP
rRfGFGebJvZa58DymCNgyGtAU6AOz4veavNmI2+GIDQsY66+tYDvZ+CxwzdYu+HD
V9HmrJfc6deM0mnBn7SRjqzxJPgoTQhihTav6q/R5/2p5NvQ/H84OgS6GjosfGc2
duUDzCP/kheMRKfzuyKCOHQPtJuIj8++gfpHtEU7IDUX1So3c9n0PdpeBvclsDbp
RnCNxQWU4mBot7kCDQQ+PqMdEAgA7+GJfxbMdY4wslPnjH9rF4N2qfWsEN/lxaZo
JYc3a6M02WCnHl6ahT2/tBK2w1QI4YFteR47gCvtgb6O1JHffOo2HfLmRDRiRjd1
DTCHqeyX7CHhcghj/dNRlW2Z0l5QFEcmV9U0Vhp3aFfWC4Ujfs3LU+hkAWzE7zaD
5cH9J7yv/6xuZVw411x0h4UqsTcWMu0iM1BzELqX1DY7LwoPEb/O9Rkbf4fmLe11
EzIaCa4PqARXQZc4dhSinMt6K3X4BrRsKTfozBu74F47D8Ilbf5vSYHbuE5p/1oI
Dznkg/p8kW+3FxuWrycciqFTcNz215yyX39LXFnlLzKUb/F5GwADBQf+Lwqqa8CG
rRfsOAJxim63CHfty5mUc5rUSnTslGYEIOCR1BeQauyPZbPDsDD9MZ1ZaSafanFv
wFG6Llx9xkU7tzq+vKLoWkm4u5xf3vn55VjnSd1aQ9eQnUcXiL4cnBGoTbOWI39E
cyzgslzBdC++MPjcQTcA7p6JUVsP6oAB3FQWg54tuUo0Ec8bsM8b3Ev42LmuQT5N
dKHGwHsXTPtl0klk4bQk4OajHsiy1BMahpT27jWjJlMiJc+IWJ0mghkKHt926s/y
mfdf5HkdQ1cyvsz5tryVI3Fx78XeSYfQvuuwqp2H139pXGEkg0n6KdUOetdZWhe7
0YGNPw1yjWJT1IhUBBgRAgAMBQJOdz3tBQkT+wG4ABIHZUdQRwABAQkQjHGNO1By
4fUUmwCbBYr2+bBEn/L2BOcnw9Z/QFWuhRMAoKVgCFm5fadQ3Afi+UQlAcOphrnJ
=Eto8
-----END PGP PUBLIC KEY BLOCK-----</pre><p>
        你可以使用<span class="command"><strong>gpg --import</strong></span>命令来把构建密钥导入到你的个人公共GPG密钥库中。例如，你把密钥保存为 <code class="filename">mysql_pubkey.asc</code>文件，导入命令应该像这样：    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>gpg --import mysql_pubkey.asc</code></strong>
gpg: key 5072E1F5: public key "MySQL Release Engineering
&lt;mysql-build@oss.oracle.com&gt;" imported
gpg: Total number processed: 1
gpg:               imported: 1
gpg: no ultimately trusted keys found
</pre><p>
        也可以从公共密钥服务器使用公共密钥ID来下载密钥，<code class="literal">5072E1F5</code>：
      </p><pre class="programlisting">shell&gt; gpg --recv-keys 5072E1F5
gpg: requesting key 5072E1F5 from hkp server keys.gnupg.net
gpg: key 5072E1F5: "MySQL Release Engineering &lt;mysql-build@oss.oracle.com&gt;"
1 new user ID
gpg: key 5072E1F5: "MySQL Release Engineering &lt;mysql-build@oss.oracle.com&gt;"
53 new signatures
gpg: no ultimately trusted keys found
gpg: Total number processed: 1
gpg:           new user IDs: 1
gpg:         new signatures: 53</pre><p>
        如果想导入密钥到RPM配置中来验证RPM安装包，你应该使用下面命令来导入密钥： </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>rpm --import mysql_pubkey.asc</code></strong>
</pre><p>
        如果操作中出现问题或者想知道RPM相关信息，请参阅<a class="xref" href="installing.html#checking-rpm-signature" title="2.1.4.4. Signature Checking Using RPM">章节 2.1.4.4, “使用<code class="literal">RPM</code>来验证签名”</a>.
      </p><p>
        下载和导入公共构建密钥后，然后去下载页面来下载所需的MySQL包和相应的签名。签名文件的名称和分发包同名并以<code class="filename">.asc</code>为后缀，下表为示例：</p>
<div class="table">
<a name="idp2180112"></a><p class="title"><b>表 2.1. MySQL安装包和源文件的签名文件</b></p>
<div class="table-contents">
<table summary="MySQL Package and Signature Files for Source files" border="1"><colgroup><col><col></colgroup><thead><tr><th scope="col">文件类型</th><th scope="col">文件名称</th></tr></thead><tbody><tr><td scope="row">分发包文件</td><td><code class="literal">mysql-standard-5.6.15-linux-i686.tar.gz</code></td></tr><tr><td scope="row">签名文件</td><td><code class="literal">mysql-standard-5.6.15-linux-i686.tar.gz.asc</code></td></tr></tbody></table>
</div>

</div>
<br class="table-break"><p>
        确保这些文件都保存在同一文件夹上，然后运行下面命令来验证分发文件的签名：</p><pre class="programlisting">shell&gt; <strong class="userinput"><code>gpg --verify <em class="replaceable"><code>package_name</code></em>.asc</code></strong>
</pre><p>
        如果下载包是有效的，你将会看到类似于"Good signature"的文字：      </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>gpg --verify mysql-standard-5.6.15-linux-i686.tar.gz.asc</code></strong>
gpg: Signature made Tue 01 Feb 2011 02:38:30 AM CST using DSA key ID 5072E1F5
gpg: Good signature from "MySQL Release Engineering &lt;mysql-build@oss.oracle.com&gt;"
</pre><p>
        <code class="literal">Good signature</code>消息表明文件签名是有效的，和我们网站列的签名一致。也有可能出现警告，类似于： </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>gpg --verify mysql-standard-5.6.15-linux-i686.tar.gz.asc</code></strong>
gpg: Signature made Wed 23 Jan 2013 02:25:45 AM PST using DSA key ID 5072E1F5
gpg: checking the trustdb
gpg: no ultimately trusted keys found
gpg: Good signature from "MySQL Release Engineering &lt;mysql-build@oss.oracle.com&gt;"
gpg: WARNING: This key is not certified with a trusted signature!
gpg:          There is no indication that the signature belongs to the owner.
Primary key fingerprint: A4A9 4068 76FC BD3C 4567  70C8 8C71 8D3B 5072 E1F5
</pre><p>
        这很正常，它和你们设置与配置有关。下面是一些警告的解释：</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <span class="emphasis"><em>gpg: no ultimately trusted keys found</em></span>：
            这句话意思是：这个密钥不是完全可信任的，而你和你的网站是可信任的，这个文件签名验证过程是OK的。          </p></li><li class="listitem"><p>
            <span class="emphasis"><em>WARNING: This key is not certified with a trusted
            signature! There is no indication that the signature belongs
            to the owner.</em></span>： 这指的是用户信赖的信任级别是由自己来掌控我们的实际的公钥，由用户自己来决定是否信任。理想情况下，MySQL研发人员亲自把密钥交给用户，但通常情况下，是用户来下载密钥。下载会篡改密钥吗?也许会，由用户来判断是否可信。设置网站的信任级别来信任它们是解决警告方法之一。</p></li></ul>
</div>
<p>
        参阅GPG文档来获取更多的处理公钥的相关信息。</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="checking-gpg-signature-windows"></a>2.1.4.3. 使用Windows版的<code class="literal">Gpg4win</code>来验证签名</h4>

</div>

</div>

</div>
<p>
        <a class="xref" href="installing.html#checking-gpg-signature" title="2.1.4.2. Signature Checking Using GnuPG">章节 2.1.4.2, “使<code class="literal">GnuPG</code>来验证签名”</a>描述了如何使用GPG来验证MySQL的下载包。 这教程同样适合Microsoft Windows，但我们使用的是名为<a class="ulink" href="http://www.gpg4win.org/" target="_top">Gpg4win</a>图形化工具。也可以使用其他工具，但我们的例子都是基于Gpg4win的，并使用其捆绑的<code class="literal">Kleopatra</code>GUI。    
      </p><p>
        下载并安装完Gpg4win，然后运行Kleopatra，将会出现和下图类似的对话框：</p>
<div class="figure">
<a name="gnupg-kleopatra-home"></a><p class="title"><b>图 2.1. 运行Kleopatra后的初始化画面</b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="images/gnupg-kleopatra-home.png" width="628" height="436" alt="Initial screen after loading Kleopatra">
</div>

</div>

</div>
<br class="figure-break"><p>
        接下来，加入MySQL发布版的工程证书。点击<span class="guimenu">File</span>菜单中的<span class="guimenu">Lookup Certificates
        on Server</span>菜单项，在查询框中输入"Mysql Release Engineering"并按下<span class="guibutton">Search</span>按钮。
</p>
<div class="figure">
<a name="gnupg-kleopatra-find-certificate"></a><p class="title"><b>图 2.2. 查找MySQL发布版的工程证书</b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="images/gnupg-kleopatra-find-certificate.png" width="854" height="330" alt="Finding the MySQL Release Engineering certificate">
</div>

</div>

</div>
<br class="figure-break"><p>
        选中"MySQL Release Engineering"证书。它的Fingerprint和Key-ID字段值必须为"5072E1F5"，或者点击<span class="guibutton">Details...</span>按钮来确认这个证书是合法的。现在点击 <span class="guibutton">Import</span>按钮就可以导入证书了。
        一个导入对话框就会弹出来，按下<span class="guibutton">Okay</span>按钮，这个证书以后就会出现罗列在<span class="guilabel">Imported Certificates</span>标签里。
      </p><p>
        接下来就是配置我们证书的信任级别。选中我们的证书，从我们主菜单中选择<span class="guimenu">Certificates</span>菜单的<span class="guimenu">Change Owner
        Trust...</span>选项。建议对我们的证书选择<span class="guilabel">I believe
        checks are very accurate</span>信任级别，否则你看呢不能验证我们的签名。选中<span class="guilabel">I believe checks are very accurate</span>项并按下<span class="guibutton">OK</span>按钮。
</p>
<div class="figure">
<a name="gnupg-kleopatra-change-trust"></a><p class="title"><b>图 2.3. 修改信任级别</b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="images/gnupg-kleopatra-change-trust.png" width="656" height="472" alt="Changing the Trust level">
</div>

</div>

</div>
<br class="figure-break"><p>
        接下来，验证已下载的MySQL安装包文件。这同时需要安装包文件和签名文件。签名文件必须与安装包文件同名，并增加<code class="filename">.asc</code>扩展名，认同下表展现的示例。签名文件与下载页的每个MySQL产品相关，你必须用这个签名来创建<code class="literal">.asc</code>文件。</p>
<div class="table">
<a name="idp2239184"></a><p class="title"><b>表 2.2. Microsoft Windows平台的MySQL安装包和签名文件</b></p>
<div class="table-contents">
<table summary="MySQL Package and Signature Files for MySQL Installer for Microsoft
Windows" border="1"><colgroup><col><col></colgroup><thead><tr><th scope="col">文件类型</th><th scope="col">文件名称</th></tr></thead><tbody><tr><td scope="row">分发包文件</td><td><code class="literal">mysql-installer-community-5.6.15.msi</code></td></tr><tr><td scope="row">签名文件</td><td><code class="literal">mysql-installer-community-5.6.15.msi.asc</code></td></tr></tbody></table>
</div>

</div>
<br class="table-break"><p>
       确保两个文件都保存在同一个文件夹下，然后运行下面的命令来验证分发版文件的签名。可以拖拽签名文件(<code class="filename">.asc</code>)到Kleopatra软件里，也可以点击<span class="guimenu">File</span>菜单中 <span class="guimenuitem">Decrypt/Verify Files...</span>项来弹出对话框后，选择<code class="filename">.msi</code>或者<code class="filename">.asc</code>文件。 
</p>
<div class="figure">
<a name="gnupg-kleopatra-decrypt-load"></a><p class="title"><b>图 2.4. 解密/验证文件的对话框</b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="images/gnupg-kleopatra-decrypt-load.png" width="576" height="425" alt="The Decrypt/Verify Files dialog">
</div>

</div>

</div>
<br class="figure-break"><p>
        按下<span class="guibutton">Decrypt/Verify</span>按钮来验证文件。接下来会出现两种常见输出结果，接下来那个结果虽然显示结果是黄色的，看起来像是有问题产生，但它意思是文件检查成功，你可以运行这个安装文件。      </p>
<div class="figure">
<a name="gnupg-kleopatra-decrypt-okay-sig"></a><p class="title"><b>图 2.5. 解密/验证的结果：Good</b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="images/gnupg-kleopatra-decrypt-okay-sig.png" width="576" height="424" alt="The Decrypt/Verify Results: Good">
</div>

</div>

</div>
<br class="figure-break"><p>
        看到红色"The signature is bad"的错误意味着这个文件是非法的，如果看到这个错误不要运行这个MSI文件。</p>
<div class="figure">
<a name="gnupg-kleopatra-decrypt-invalid-sig"></a><p class="title"><b>图 2.6. 解密/验证的结果：Bad</b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="images/gnupg-kleopatra-decrypt-invalid-sig.png" width="656" height="518" alt="The Decrypt/Verify Results: Bad">
</div>

</div>

</div>
<br class="figure-break"><p>
        <a class="xref" href="installing.html#checking-gpg-signature" title="2.1.4.2. Signature Checking Using GnuPG">Section 2.1.4.2, “使用<code class="literal">GnuPG</code>来验证签名”</a> 这个章节解释了为什么你不能看的绿色的<code class="literal">Good signature</code> 输出结果的原因。
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="checking-rpm-signature"></a>2.1.4.4. 使用<code class="literal">RPM</code>来验证签名</h4>

</div>

</div>

</div>
<p>
        对RPM包来说，它们没有单独的签名文件。RPM包有内建的GPG签名和MD5校验和。可以直接使用以下命令来验证安装包：</p><pre class="programlisting">shell&gt; <strong class="userinput"><code>rpm --checksig <em class="replaceable"><code>package_name</code></em>.rpm</code></strong>
</pre><p>
        例如：
      </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>rpm --checksig MySQL-server-5.6.15-0.glibc23.i386.rpm</code></strong>
MySQL-server-5.6.15-0.glibc23.i386.rpm: md5 gpg OK
</pre>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
注意
</div>
<p xmlns="">
          如果使用RPM 4.1并且输出结果为<code class="literal">(GPG) NOT OK (MISSING KEYS: GPG#5072e1f5)</code>，即使你已经把密钥导入到你的GPG库中，你还是需要把密钥导入到RPM的GPG库中。RPM 4.1及以上版本不再使用用户的GPG库。RPM维护着一个独立的GPG密钥库，因为它是个系统级别的软件，而用户的公钥GPG库只是个用户级别文件。要把MySQL公钥导入到RPM密钥库，首先得获取这个密钥，然后使用<span class="command"><strong>rpm --import</strong></span>来导入密钥. 例如：</p>
</div>
<pre class="programlisting">shell&gt; gpg --export -a 5072e1f5 &gt; 5072e1f5.asc
shell&gt; rpm --import 5072e1f5.asc</pre><p>
        或者，<span class="command"><strong>rpm</strong></span>也支持直接从URL来导入密钥，例如：</p><pre class="programlisting">shell&gt; <strong class="userinput"><code>rpm --import http://dev.mysql.com/doc/refman/5.6/en/checking-gpg-signature.html</code></strong>
</pre><p>
        如果想获取MySQL的公钥，请参阅<a class="xref" href="installing.html#checking-gpg-signature" title="2.1.4.2. Signature Checking Using GnuPG">章节 2.1.4.2, “使用<code class="literal">GnuPG</code>来验证签名”</a>。
</p>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="installation-layouts"></a>2.1.5. 安装布局</h3>

</div>

</div>

</div>
<a class="indexterm" name="idp2289296"></a><a class="indexterm" name="idp2290368"></a><a class="indexterm" name="idp2291440"></a><a class="indexterm" name="idp2292928"></a><p>
      <span lang="zh-cn">不同的</span>安装文件类型(例如，本地安装包、二进制tar包和源代码tar包)<span lang="zh-cn">的安装布局各不相同</span>，当处理多个操作系统和多个安装文件类型是会带来混淆。下面章节讲述了不同安装文件类型和不同操作系统的的安装布局。注意第三方供应商提供的安装布局可能与Oracle的不相同。</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <a class="xref" href="installing.html#windows-installation-layout" title="2.3.1. MySQL Installation Layout on Microsoft Windows">章节 2.3.1, “在Microsoft Windows上的MySQL安装布局”</a>
        </p></li><li class="listitem"><p>
          <a class="xref" href="installing.html#source-installation-layout" title="2.9.1. MySQL Layout for Source Installation">章节 2.9.1, “MySQL源码安装布局”</a>
        </p></li><li class="listitem"><p>
          <a class="xref" href="installing.html#binary-installation-layout" title="Table 2.3. MySQL Installation Layout for Generic Unix/Linux Binary Package">表 2.3, “通用Unix/Linux二进制包的MySQL安装布局”</a>
        </p></li><li class="listitem"><p>
          <a class="xref" href="installing.html#mysql-installation-layout-linuxrpm" title="Table 2.9. MySQL Installation Layout for Linux RPM Packages">表 2.9, “Linux的RPM包的MySQL安装布局”</a>
        </p></li><li class="listitem"><p>
          <a class="xref" href="installing.html#mysql-installation-layout-macosx" title="Table 2.6. MySQL Installation Layout on Mac OS X">表 2.6, “在Mac OS X的MySQL安装布局”</a>
</p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="compiler-characteristics"></a>2.1.6. 特定编译器来构建特性 </h3>

</div>

</div>

</div>
<a class="indexterm" name="idp2302976"></a><p>
      在某些情况下，需要特定编译器来构建一些特性来使用。本章节提到的二进制分发版可以由Oracle官方提供，也可以你自己使用源代码来编译。 </p><p>
      <span class="bold"><strong><span class="command"><strong>icc</strong></span> (Intel C++ Compiler)
      Builds</strong></span>
    </p><p>
      使用<span class="command"><strong>icc</strong></span>编译的服务器程序有以下特性：</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          SSL支持</p></li></ul>
</div>

</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both"><a name="binary-installation"></a>2.2. 在Unix/Linux上使用通用二进制文件来安装MySQL</h2>

</div>

</div>

</div>
<a class="indexterm" name="idp2310320"></a><a class="indexterm" name="idp2311808"></a><p>
    Oracle公司提供一系列的MySQL二进制发布版。These
    include binary distributions in the form of compressed
    <span class="command"><strong>tar</strong></span> files (files with a
    <code class="filename">.tar.gz</code> extension) for a number of platforms,
    as well as binaries in platform-specific package formats for
    selected platforms.
  </p><p>
    本章讲述了使用了压缩<span class="command"><strong>tar</strong></span>包的二进制发布版来安装MySQL。其他特定平台的安装包格式，请参阅其他特定平台章节。例如，Windows平台的发布版，可以参阅<a class="xref" href="installing.html#windows-installation" title="2.3. Installing MySQL on Microsoft Windows">章节 2.3, “在Microsoft Windows上安装MySQL”</a>.
  </p><p>
    如果获取MySQL，请参阅<a class="xref" href="installing.html#getting-mysql" title="2.1.3. How to Get MySQL">章节 2.1.3, “何获取MySQL”</a>.
  </p><p>
    MySQL的压缩<span class="command"><strong>tar</strong></span>文件方式的二进制分发版的命名格式为：<code class="filename">mysql-<em class="replaceable"><code>VERSION</code></em>-<em class="replaceable"><code>OS</code></em>.tar.gz</code>，
    这里的<code class="literal"><em class="replaceable"><code>VERSION</code></em></code>是数字版本号(例如， <code class="literal">5.6.15</code>)，
    <em class="replaceable"><code>OS</code></em>表明是分发版适用的操作系统类型(例如，<code class="literal">pc-linux-i686</code> or <code class="literal">winx64</code>)。
  </p><p>
    想要使用压缩<span class="command"><strong>tar</strong></span>文件方式的二进制分发版来安装MySQL，操作系统中必须有GNU
    <code class="literal">gunzip</code>软件来解压缩分发版并使用<span class="command"><strong>tar</strong></span>来解包。如果<span class="command"><strong>tar</strong></span>软件支持<code class="literal">z</code>选项，则这个软件可以解压缩并解包分发版文件。</p><p>
    GNU <span class="command"><strong>tar</strong></span>可以完成该项工作。 有些操作系统的提供的标准<span class="command"><strong>tar</strong></span>程序不能解包MySQL分发版中的长文件名。所以建议去下载和安装GNU <span class="command"><strong>tar</strong></span>程序，如果操作系统中含有GNU Tar程序，可使用预装版的GNU Tar。GNU Tar程序放在GNU或者自由软件文件夹下，例如<code class="filename">/usr/sfw/bin</code>或
    <code class="filename">/usr/local/bin</code>，程序以<span class="command"><strong>gnutar</strong></span>， <span class="command"><strong>gtar</strong></span>和<span class="command"><strong>tar</strong></span>的方式来提供。GNU <span class="command"><strong>tar</strong></span>程序可以在<a class="ulink" href="http://www.gnu.org/software/tar/" target="_top">http://www.gnu.org/software/tar/</a>页面上找到。
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
警告
</div>
<p xmlns="">
      如果先前使用操作系统的本地安装包管理系统安装过MySQL，例如使用了<code class="literal">yum</code>或<code class="literal">apt-get</code>，很可能在使用本地二进制包安装MySQL时遇到问题。确保先前安装的MySQL要被卸载干净(使用安装包管理系统来卸载)，其他额外文件包括旧版系统的数据文件也需要删除。还需检查配置文件例如<code class="filename">/etc/my.cnf</code>或<code class="filename">/etc/mysql</code>文件夹也要被删除。 </p>
</div>
<p>
    如果安装遇到问题并且你想提出一个缺陷报告，请阅读<a class="xref" href="introduction.html#bug-reports" title="1.7. How to Report Bugs or Problems">章节 1.7, “如何提交bug和问题”</a>.
  </p><p> 在Unix平台上，要安装一个压缩 <span class="command"><strong>tar</strong></span>文件的二进制分发版，先把它解包到你选中的安装路径下(通常是<code class="filename">/usr/local/mysql</code>)。那么会创建下表所示的文件夹。</p>
<div class="table">
<a name="binary-installation-layout"></a><p class="title"><b><span lang="zh-cn">
表</span> 2.3. 通用Unix/Linux二进制包的MySQL安装布局</b></p>
<div class="table-contents">
<table summary="MySQL Installation Layout for Generic Unix/Linux Binary Package" border="1"><colgroup><col><col></colgroup><thead><tr><th scope="col">
	<span lang="zh-cn">文件夹</span></th><th scope="col">文件夹内容</th></tr></thead><tbody><tr><td scope="row"><code class="filename">bin</code></td><td>客户端程序和<a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>服务器程序</td></tr><tr><td scope="row"><code class="filename">data</code></td><td>日志文件，数据库文件</td></tr><tr><td scope="row"><code class="filename">docs</code></td><td>Info格式的用户手册t</td></tr><tr><td scope="row"><code class="filename">man</code></td><td>Unix平台用户手册页面</td></tr><tr><td scope="row"><code class="filename">include</code></td><td>头文件</td></tr><tr><td scope="row"><code class="filename">lib</code></td><td>运行库</td></tr><tr><td scope="row"><code class="filename">scripts</code></td><td><a class="link" href="programs.html#mysql-install-db" title="4.4.3. mysql_install_db — Initialize MySQL Data Directory"><span class="command"><strong>mysql_install_db</strong></span></a></td></tr><tr><td scope="row"><code class="filename">share</code></td><td>各种支持文件，包括错误信息、配置文件样例、数据库安装的SQL脚本</td></tr><tr><td scope="row"><code class="filename">sql-bench</code></td><td>基准测试</td></tr></tbody></table>
</div>

</div>
<br class="table-break"><p>
    调试版的<a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>二进制程序命名为<a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld-debug</strong></span></a>。 使用源代码分发版就可以编译出你自己的MySQL调试版本，只要对配置属性适当配置就可以开启调试支持。 获取更多关于编译源代码的信息，请参阅<a class="xref" href="installing.html#source-installation" title="2.9. Installing MySQL from Source">章节 2.9, “使用源码安装MySQL”</a>.
  </p><a class="indexterm" name="idp2366864"></a><p>
    使用MySQL二进制分发版来安装MySQL，基本操作命令步骤如下： </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>groupadd mysql</code></strong>
shell&gt; <strong class="userinput"><code>useradd -r -g mysql mysql</code></strong>
shell&gt; <strong class="userinput"><code>cd /usr/local</code></strong>
shell&gt; <strong class="userinput"><code>tar zxvf <em class="replaceable"><code>/path/to/mysql-VERSION-OS</code></em>.tar.gz</code></strong>
shell&gt; <strong class="userinput"><code>ln -s <em class="replaceable"><code>full-path-to-mysql-VERSION-OS</code></em> mysql</code></strong>
shell&gt; <strong class="userinput"><code>cd mysql</code></strong>
shell&gt; <strong class="userinput"><code>chown -R mysql .</code></strong>
shell&gt; <strong class="userinput"><code>chgrp -R mysql .</code></strong>
shell&gt; <strong class="userinput"><code>scripts/mysql_install_db --user=mysql</code></strong>
shell&gt; <strong class="userinput"><code>chown -R root .</code></strong>
shell&gt; <strong class="userinput"><code>chown -R mysql data</code></strong>
shell&gt; <strong class="userinput"><code>bin/mysqld_safe --user=mysql &amp;</code></strong>
# Next command is optional
shell&gt; <strong class="userinput"><code>cp support-files/mysql.server /etc/init.d/mysql.server</code></strong>
</pre><p>
    <a class="link" href="programs.html#mysql-install-db" title="4.4.3. mysql_install_db — Initialize MySQL Data Directory"><span class="command"><strong>mysql_install_db</strong></span></a> 创建了一个名为 <code class="filename">my.cnf</code>的默认设置文件到基本安装目录里。这个设置文件是通过包含在分发版安装中名为<code class="filename">my-default.cnf</code>的模板来创建的。更多相关信息请参阅<a class="xref" href="server-administration.html#server-default-configuration-file" title="5.1.2.2. Using a Sample Default Server Configuration File">章节 5.1.2.2, “使用示例默认服务器配置文件”</a>.
  </p><p>
    下文提供了先前讲述的安装二进制分发版的更详细的安装步骤。</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
注意
</div>
<p xmlns="">
      这个操作过程是假定你有系统<code class="literal">root</code>(管理员)权限，或者你可以在每条命令前面使用<span class="command"><strong>sudo</strong></span> (Linux)或<span class="command"><strong>pfexec</strong></span> (OpenSolaris)命令。</p><p xmlns="">
      这个操作过程并没有设置MySQL账户的密码，完成上面操作过程后，继续<a class="xref" href="installing.html#default-privileges" title="2.10.2. Securing the Initial MySQL Accounts">章节 2.10.2, “保护MySQL初始账号”</a>的操作。
</p>
</div>
<h3><a name="binary-installation-createsysuser"></a>
    创建<code class="literal">mysql</code>用户和用户组
</h3>
<p>
    如果你的系统还没运行<a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>的用户和用户组，你就得建立它们。下面的命令可以来添加<code class="literal">mysql</code>用户组和<code class="literal">mysql</code>用户。你可以不用<code class="literal">mysql</code>而用其他名字来命名分组和用户，如果这样，在下面的说明文档中得做相应替换。不同版本的Unix的<span class="command"><strong>useradd</strong></span>和
    <span class="command"><strong>groupadd</strong></span>命令语法可能有略微区别，也许这两个命令以其他名字来命名，如<span class="command"><strong>adduser</strong></span>和<span class="command"><strong>addgroup</strong></span>。
  </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>groupadd mysql</code></strong>
shell&gt; <strong class="userinput"><code>useradd -r -g mysql mysql</code></strong>
</pre>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
注意
</div>
<p xmlns="">
      由于这个用户只用于所有者权限目的而无需登录，<span class="command"><strong>useradd</strong></span>命令使用<code class="option">-r</code>选项就可以在服务器上创建无登录权限的用户，省略这个选项就允许创建的用户可以登录(也许你的<span class="command"><strong>useradd</strong></span>不支持这个选项)。
</p>
</div>
<h3><a name="binary-installation-unpack"></a>
    获取并解压分发版文件</h3>
<p>
    选择一个目录然后把分发版解包到该目录下。下面的例子是把分发版解包到<code class="filename">/usr/local</code>目录下。这个操作假设你在<code class="filename">/usr/local</code>文件夹有创建文件和文件夹的权限。如果这个文件夹是受保护的，你必须使用<code class="literal">root</code>权限来进行安装。    .
  </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>cd /usr/local</code></strong>
</pre><p>
    如何获取分发版文件请参阅<a class="xref" href="installing.html#getting-mysql" title="2.1.3. How to Get MySQL">章节 2.1.3, “如何获取MySQL”</a>。对给定的发布版，其所有平台的二进制分发包都是从同一份源代码分发版构建出来的。 </p><p>
    对分发版解包，会创建安装文件夹，然后对这个文件夹创建一个符号链接，如果<span class="command"><strong>tar</strong>命令支持<code class="literal">z</code>选项那都不需要对分发版解压缩和解包</span>： </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>tar zxvf <em class="replaceable"><code>/path/to/mysql-VERSION-OS</code></em>.tar.gz</code></strong>
shell&gt; <strong class="userinput"><code>ln -s <em class="replaceable"><code>full-path-to-mysql-VERSION-OS</code></em> mysql</code></strong>
</pre><p>
    <span class="command"><strong>tar</strong></span>命令创建了名为<code class="filename">mysql-<em class="replaceable"><code>VERSION</code></em>-<em class="replaceable"><code>OS</code></em></code>的文件夹，<code class="literal">ln</code>命令对那个文件夹创建了一个符号链接。这样操作比安装文件夹设为<code class="filename">/usr/local/mysql</code>来的简单。
  </p><p>
    如果<span class="command"><strong>tar</strong></span>不支持<code class="literal">z</code>选项，就使用<span class="command"><strong>gunzip</strong></span>来解压缩分发版接着使用<span class="command"><strong>tar</strong></span>命令来解包。使用下面的命令来替换先前<span class="command"><strong>tar</strong></span>命令对分发版进行解压缩和提取：  </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>gunzip &lt; <em class="replaceable"><code>/path/to/mysql-VERSION-OS</code></em>.tar.gz | tar xvf -</code></strong>
</pre>
<h3><a name="binary-installation-postinstall"></a>
    进行安装后的设置
</h3>
<p>
    剩余的安装步骤包括设置配置文件、创建核心数据库和启动MySQL服务器。下面的步骤内容请参阅 <a class="xref" href="installing.html#postinstallation" title="2.10. Postinstallation Setup and Testing">章节 2.10, “安装完成后的设置和测试”</a>.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
注意
</div>
<p xmlns="">
      MySQL授权表的帐户在起初并没有密码，在启动数据库服务器后，你得查阅<a class="xref" href="installing.html#default-privileges" title="2.10.2. Securing the Initial MySQL Accounts">章节 2.10.2, “保护MySQL初始账号”</a>来设置密码。
</p>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both"><a name="windows-installation"></a>2.3. 在Microsoft Windows上安装MySQL</h2>

</div>

</div>

</div>
<div class="toc">
<dl><dt><span class="section"><a href="installing.html#windows-installation-layout">2.3.1. 在Microsoft Windows上的MySQL安装布局 </a></span></dt><dt><span class="section"><a href="installing.html#windows-choosing-package">2.3.2. 选择一个安装包</a></span></dt><dt><span class="section"><a href="installing.html#mysql-installer">2.3.3. 在Microsoft Windows上使用MySQL Installer来安装MySQL</a></span></dt><dt><span class="section"><a href="installing.html#windows-notifier">2.3.4. MySQL Notifier for Microsoft Windows</a></span></dt><dt><span class="section"><a href="installing.html#windows-install-archive">2.3.5. 在Microsoft Windows上使用<code class="literal">noinstall</code> Zip压缩包来安装MySQL</a></span></dt><dt><span class="section"><a href="installing.html#windows-troubleshooting">2.3.6. Troubleshooting a Microsoft Windows MySQL Server Installation</a></span></dt><dt><span class="section"><a href="installing.html#windows-upgrading">2.3.7. Upgrading MySQL on Windows</a></span></dt><dt><span class="section"><a href="installing.html#windows-postinstallation">2.3.8. Windows Postinstallation Procedures</a></span></dt></dl>
</div>
<p>
    Microsoft Windows平台上MySQL有很多版本。Microsoft Windows操作系统例如Windows Vista、
    Windows 7、 Windows 8、 Windows Server 2008、or Windows Server 2012，这些操作系统的32位和64位版本都被MySQL所支持。MySQL所支持的平台信息，可以访问<code class="uri">http://www.mysql.com/support/supportedplatforms/database.html</code>。
  </p><p>
    MySQL除了可以作为标准应用程序运行外，还可以把MySQL服务器程序作为Windows的服务来运行。当作为服务运行时，就可以使用Windows服务管理工具来监控和控制MySQL服务器程序。想要获取更多相关信息，请参阅<a class="xref" href="installing.html#windows-start-service" title="2.3.5.7. Starting MySQL as a Windows Service">章节 2.3.5.7, “MySQL作为Windows服务来启动”</a>.
  </p><p>
    通常，在Windows平台上安装MySQL需要一个具有管理员权限的帐户。否则，你会在诸如编辑<code class="literal">PATH</code>环境变量或者访问服务控制管理器等操作上遇到问题。MySQL安装完成后，就不需要管理员权限来运行了。</p><p>
    Windows平台的MySQL局限性列表可以参阅<a class="xref" href="restrictions.html#limits-windows" title="E.10.6. Windows Platform Limitations">章节 E.10.6, “Windows平台的局限性 ”</a>.
  </p><p>
    除MySQL服务器安装包外，你可能还需要其他组件来通过你的应用程序货开发环境来操作MySQL。这包括但不局限于下面的组件：</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
        如果你想通过ODBC来连接MySQL服务器程序，则需要Connector/ODBC驱动。更多关于Connector/ODBC包括安装和配置说明的信息，请参阅<a class="xref" href="connectors-apis.html#connector-odbc" title="22.1. MySQL Connector/ODBC">章节 22.1, “MySQL的ODBC驱动(Connector/ODBC)”</a>。需要注意的是MySQL Installer会给你安装和配置Connector/ODBC。
      </p></li><li class="listitem"><p>
        如果你想通过.NET应用程序来使用MySQL服务器程序，你需要Connector/Net驱动。更多关于Connector/net包括安装和配置说明的信息，请参阅<a class="xref" href="connectors-apis.html#connector-net" title="22.2. MySQL Connector/Net">Section 22.2, “MySQL的Net驱动(Connector/Net)”</a>。需要注意的是MySQL Installer会给你安装和配置Connector/Net。</p></li></ul>
</div>
<p>
    Windows平台MySQL分发版可以从<a class="ulink" href="http://dev.mysql.com/downloads/" target="_top">http://dev.mysql.com/downloads/</a>页面来下载，详情请参阅<a class="xref" href="installing.html#getting-mysql" title="2.1.3. How to Get MySQL">章节 2.1.3, “如何获取MySQL”</a>.
  </p><p>
    Windows平台上提供的多种分发包格式的MySQL，下面有这些格式的详细说明。通常，你会使用MySQL Installer，它比Zip包文件安装简单，也无需另外下载其他MySQL的额外工具。MySQL Installer会字段安装MySQL服务器程序，安装额外的MySQL产品，创建配置文件，启动服务器并且会创建默认用户账户。更多关于选择安装包的信息，请参阅<a class="xref" href="installing.html#windows-choosing-package" title="2.3.2. Choosing An Installation Package">章节 2.3.2, “选择一个安装包”</a>.
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
        MySQL Installer：它包含了MySQL服务器程序和额外的MySQL产品，如MySQL Workbench, MySQL Notifier, and MySQL for Excel等。并且MySQL Installer将来也可以对这些产品进行升级。      </p><p>
        使用MySQL Installer来安装MySQL的说明，可以参阅<a class="xref" href="installing.html#mysql-installer" title="2.3.3. Installing MySQL on Microsoft Windows Using MySQL Installer">章节 2.3.3, “在Microsoft Windows上使用MySQL Installer来安装MySQL ”</a>.
      </p></li><li class="listitem"><p>
        标准二进制分发版格式包是以Zip文件提供，它需要把所包含的所有必需的文件解压到你选择的路径下。这个包里含有Windows MSI Installer包中所有的文件除了安装程序。     </p><p>
        使用Zip包来安装MySQL的说明，可以参阅<a class="xref" href="installing.html#windows-install-archive" title="2.3.5. Installing MySQL on Microsoft Windows Using a noinstall Zip Archive">章节2.3.5, “在Microsoft Windows上使用<code class="literal">noinstall</code>的Zip压缩包来安装MySQL”</a>.
      </p></li><li class="listitem"><p>
        源代码发布版中包含了所有的代码和支持文件，可以使用Visual Studio编译器系统来构建这些可执行程序。      </p><p>
        在Windows使用源代码来构建MySQL的说明，可以参阅<a class="xref" href="installing.html#source-installation" title="2.9. Installing MySQL from Source">Section 2.9, “使用源码安装”</a>.
</p></li></ul>
</div>
<p>
    <span class="bold"><strong>MySQL在Windows平台上的注意事项：</strong></span>
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
        <span class="bold"><strong>大表支持</strong></span>
      </p><p>
        如果需要支持超过4GB容量的表，则需要安装MySQL在NTFS或者更新的文件系统上，并且不要忘记在创建表时设置<code class="literal">MAX_ROWS</code>和
        <code class="literal">AVG_ROW_LENGTH</code>选项。<a class="xref" href="sql-syntax.html#create-table" title="13.1.17. CREATE TABLE Syntax">章节 13.1.17, “<code class="literal">CREATE TABLE</code>语法”</a>.
      </p></li><li class="listitem"><p>
        <span class="bold"><strong>MySQL和杀毒软件</strong></span>
      </p><p>
        Using virus scanning software such as Norton/Symantec Anti-Virus
        on directories containing MySQL data and temporary tables can
        cause issues, both in terms of the performance of MySQL and the
        virus-scanning software mis-identifying the contents of the
        files as containing spam. This is because of the fingerprinting
        mechanism used by the virus scanning software, and the way in
        which MySQL rapidly updates different files, which may be
        identified as a potential security risk.
      </p><p>
        安装完MySQL Server服务器后,建议关闭杀毒软件对主数据目录(<a class="link" href="server-administration.html#sysvar_datadir"><code class="literal">datadir</code></a>)的扫描。通常杀毒软件都有这样的系统来允许某些文件夹可以在病毒扫描时被忽略掉。</p><p>
        另外，MySQL会默认在标准Windows临时文件夹中创建临时文件，为了复制这些临时文件被扫描到，需要配置一个单独的临时文件夹来存放MySQL的临时文件并要把这个文件夹添加到杀毒软件的排除列表中。要完成这个任务，需要在<code class="filename">my.ini</code>配置文件中添加一个<a class="link" href="server-administration.html#option_mysqld_tmpdir"><code class="option">tmpdir</code></a>的参数配置项。更多相关内容请参阅<a class="xref" href="installing.html#windows-create-option-file" title="2.3.5.2. Creating an Option File">章节 2.3.5.2, “创建一个配置文件”</a>.
</p></li></ul>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="windows-installation-layout"></a>2.3.1. 在Microsoft Windows上的MySQL安装布局</h3>

</div>

</div>

</div>
<p>
      Windows平台的MySQL 5.6默认安装路径是<code class="filename">C:\Program Files\MySQL\MySQL Server
      5.6</code>。一些Windows的用户更喜欢安装在<code class="filename">C:\mysql</code>目录里，因为这就是以前的缺省安装目录。不过子文件夹的布局是一样的。</p><p>
      所有的文件都放在上面的父文件夹里，它们的目录结构如下表所示。
</p>
<div class="table">
<a name="idp2462320"></a><p class="title"><b>表 2.4. Microsoft Windows上的MySQL默认安装布局</b></p>
<div class="table-contents">
<table summary="Default MySQL Installation Layout for Microsoft Windows" border="1"><colgroup><col><col><col></colgroup><thead><tr><th scope="col">
	文件夹</th><th scope="col">文件夹内容of Directory</th><th scope="col">说明</th></tr></thead><tbody><tr><td scope="row"><code class="filename">bin</code></td><td>客户端程序和<a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>服务器程序</td><td> </td></tr><tr><td scope="row"><code class="filename">%ALLUSERSPROFILE%\MySQL\MySQL Server
              5.6\</code></td><td>日志文件，数据库文件(Windows XP, Windows Server 2003)</td><td>indows系统变量<code class="varname">%ALLUSERSPROFILE%</code>默认值为<code class="filename">C:\Documents and Settings\All
              Users\Application Data</code></td></tr><tr><td scope="row"><code class="filename">%PROGRAMDATA%\MySQL\MySQL Server 5.6\</code></td><td>日志文件，数据库文件(Vista, Windows 7, Windows Server 2008, and newer)</td><td>Windows系统变量<code class="varname">%PROGRAMDATA%</code>值默认为<code class="filename">C:\ProgramData</code></td></tr><tr><td scope="row"><code class="filename">examples</code></td><td>示例程序和示例脚本</td><td> </td></tr><tr><td scope="row"><code class="filename">include</code></td><td>头文件</td><td> </td></tr><tr><td scope="row"><code class="filename">lib</code></td><td>运行库</td><td> </td></tr><tr><td scope="row"><code class="filename">scripts</code></td><td>工具脚本</td><td> </td></tr><tr><td scope="row"><code class="filename">share</code></td><td>
		其他支持文件，包括错误信息、字符集文集，示例配置文件和数据库安装SQL脚本</td><td> </td></tr></tbody></table>
</div>

</div>
<br class="table-break"><p>
      如果使用了MySQL Installer来安装MySQL，这个安装包会创建和设置供服务器程序使用的数据文件夹，当然也会在MySQL安装路径下创建一个名为<code class="filename">data</code>的原始模板数据文件夹。当安装完毕后，这个模板数据文件夹可以拷贝给其他MySQL实例使用。See <a class="xref" href="server-administration.html#multiple-servers" title="5.6. Running Multiple MySQL Instances on One Machine">章节 5.6, “在一台主机上运行多个MySQL实例”</a>.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="windows-choosing-package"></a>2.3.2. 选择一个安装包</h3>

</div>

</div>

</div>
<p>
      针对MySQL 5.6，在Windows平台上有下面几种安装包格式可供选择：</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <span class="bold"><strong>MySQL Installer</strong></span>: 这个安装包的名字格式类似于<code class="filename">mysql-installer-community-5.6.15.0.msi</code>
          或          <code class="filename">mysql-installer-commercial-5.6.15.0.msi</code>
，我们可以利用MSI安装包来自动安装MySQL服务器程序和其它产品，并且可以通过MSI安装包来下载和升级所有的已安装的产品，当然它也可以用来配置其它非服务器产品。
        </p><p>
          这些已安装的产品都是可配置的，它们包括：样本文档和示例，连接驱动(例如C，C++、J、NET和ODBC等连接驱动)， MySQL Notifier for Microsoft Windows，MySQL for Excel，还有MySQL服务器程序及其相关组件。 </p><p>
          MySQL Installer will run on all Windows platforms that are supported by
          MySQL (see <code class="uri">http://www.mysql.com/support/supportedplatforms/database.html</code>). 注意:
          由于MySQL并不是Windows原生组件，而且依赖着.Net，它不能运行在类似于Windows Server 2008的"Server Core"版本之类的Windows最小安装环境下。         </p><p>
          使用MySQL Installe来安装MySQL的相关说明，可以参阅<a class="xref" href="installing.html#mysql-installer" title="2.3.3. Installing MySQL on Microsoft Windows Using MySQL Installer">章节 2.3.3, “在Microsoft Windows上使用MySQL Installer来安装MySQL”</a>.
        </p></li><li class="listitem"><p>
          <span class="bold"><strong>The Noinstall Archive</strong></span>：这个安装包的名字格式类似于<code class="filename">mysql-5.6.15-win32.zip</code>或
          <code class="filename">mysql-5.6.15-winx64.zip</code>，这个完整安装包中含有除了GUI工具以外的所有文件，它不包含自动安装程序，必须手动安装和配置。</p></li></ul>
</div>
<p>
      安装包的选择将会影响到后面锁遵循的安装过程。如果选择了MySQL Installer，请参阅<a class="xref" href="installing.html#mysql-installer" title="2.3.3. Installing MySQL on Microsoft Windows Using MySQL Installer">章节 2.3.3, “在Microsoft Windows上使用MySQL Installer来安装MySQL”</a>。如果选择了noinstall压缩包，请参阅<a class="xref" href="installing.html#windows-install-archive" title="2.3.5. Installing MySQL on Microsoft Windows Using a noinstall Zip Archive">章节 2.3.5, “在Microsoft Windows上使用<code class="literal">noinstall</code>的Zip压缩包来安装MySQL”</a>.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="mysql-installer"></a>2.3.3. 在Microsoft Windows上使用MySQL Installer来安装MySQL </h3>

</div>

</div>

</div>
<div class="toc">
<dl><dt><span class="section"><a href="installing.html#mysql-installer-gui">2.3.3.1. MySQL Installer GUI</a></span></dt><dt><span class="section"><a href="installing.html#MySQLInstallerConsole">2.3.3.2. MySQL Installer Console</a></span></dt></dl>
</div>
<a class="indexterm" name="idp2503840"></a><a class="indexterm" name="idp2504912"></a><p>
    MySQL Installer是一个应用程序，它简化了大部分MySQL的产品的安装和升级过程，这些产品包括<a class="link" href="installing.html#windows-notifier" title="2.3.4. MySQL Notifier for Microsoft Windows">MySQL Notifier for Microsoft Windows</a>，
    <a class="link" href="workbench.html" title="Chapter 25. MySQL Workbench">MySQL Workbench</a>和
    <a class="link" href="mysql-for-excel.html" title="Chapter 26. MySQL for Excel">MySQL for Excel</a>。通过这个中枢软件，你可以查看已安装了哪些MySQL产品，也可以配置这些软件，必要时还可以升级和卸载这些软件。这个安装软件也可以安装插件、文档、教程和示例数据库。 MySQL Installer程序只提供给Microsoft Windows，它有GUI和命令行两种界面。</p>
<h4><a name="idp2509056"></a>
    安装程序包类型</h4>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
        <code class="literal">Full:</code>捆绑了所有的MySQL产品(包括MySQL服务器软件)。这个文件超过160MB，它的命名格式为<code class="filename">mysql-installer-community-<em class="replaceable"><code>VERSION</code></em>.<em class="replaceable"><code>N</code></em>.msi</code>，这里的
<code class="literal">VERSION</code>就是MySQL服务器软件的版本号例如5.6，这里的<code class="literal">N</code>就是包的版本号，它从0开始。</p></li><li class="listitem"><p>
        <code class="literal">Web:</code>只包含了安装软件和配置文件，它只下载你所需的MySQL产品。这个文件大约2MB，它的命名格式为<code class="filename">mysql-installer-community-<code class="literal">web</code>-<em class="replaceable"><code>VERSION</code></em>.<em class="replaceable"><code>N</code></em>.msi</code>，这里的<code class="literal">VERSION</code>就是MySQL服务器软件的版本号例如5.6，这里的 <code class="literal">N</code>就是包的版本号，它从0开始。</p></li></ul>
</div>
<h4><a name="idp2520768"></a>
    安装程序包版本
</h4>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
        <code class="literal">Community edition:</code>下载于
        <a class="ulink" href="http://dev.mysql.com/downloads/installer/" target="_top">http://dev.mysql.com/downloads/installer/</a>。它会安装所有的MySQL产品的社区版。      </p></li><li class="listitem"><p>
        <code class="literal">Commercial edition:</code> 从<a class="ulink" href="https://support.oracle.com/" target="_top">My Oracle
        Support</a> (MOS)或者
        <a class="ulink" href="https://edelivery.oracle.com/" target="_top">https://edelivery.oracle.com/</a>下载。它安装所有MySQL产品的商业版，包括Workbench
        SE。它也和MOS帐户有关联，输入MOS认证信息后可以自动接收你商业版MySQL产品的升级。</p></li></ul>
</div>
<p>
    每个MySQL Installer发行版的发行说明中列举的变更内容，请参阅<a class="ulink" href="http://dev.mysql.com/doc/relnotes/mysql-installer/en/" target="_top">MySQL Installer
    Release Notes</a>.
  </p><p>
    MySQL Installer也适用于已安装的MySQL产品，它能把已经安装的MySQL产品添加到已安装组件列表中。虽然MySQL Installer与某个特定版本MySQL捆绑在一起，但一个MySQL Install实例可以安装和管理多个版本的MySQL服务器。例如，一个MySQL Installer实例可以安装5.1，5.5和5.6版本的软件，它既可以管理商业版的MySQL服务器软件也可以管理社区版的MySQL服务器软件。 </p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
注意
</div>
<p xmlns="">
      一个主机上不能同时安装商业版和社区版的MySQL服务器软件。例如，如果你想在一台主机上安装MySQL5.5和MySQL5.6，它们必须同为商业版或社区版。</p>
</div>
<p>
    MySQL Installer掌控着初始化配置和应用软件的设置。例如：</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
        它会在MySQL Workbench里创建MySQL服务器的连接。</p></li><li class="listitem"><p>
        它会创建配置MySQL服务器软件的配置文件(<code class="filename">my.ini</code>)。文件里所写入的值受你在安装过程中的选择影响。     </p></li><li class="listitem"><p>
        它会导入示例数据库。      </p></li><li class="listitem"><p>
        它创建基于一般角色的可配置权限的MySQL服务器用户账户，例如DB管理员、DB设计者、和备份管理员。它可选择性的创建名为<code class="literal">MysqlSys</code>的有限权限的Windows用户帐户，这个用户用来运行MySQL服务器软件。      </p><p>
        这个功能值在MySQL服务器初始化安装时提供，对后期的升级不生效。用户帐号也可以通过MySQL Workbench来添加。
      </p></li><li class="listitem"><p>
        如果"Advanced Configuration"复选框被选中，则<span class="guilabel">Logging Options</span>也会被配置。它包括定义错误日志、general日志、慢查询日志(包括语句执行秒数的配置)和二进制日志等日志的路径的定义。</p></li></ol>
</div>
<p>
    MySQL Installer可以有选择性的检查组件的升级包并自动下载这些升级包。</p>
<div class="section">

<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-installer-gui"></a>2.3.3.1. MySQL Installer GUI</h4>
</div>
</div>
</div>
<p>
      在图形化版本的安装完成后，安装程序会把它自身添加到开始菜单中MySQL子菜单里：</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
注意
</div>
<p xmlns="">
        MySQL Installer创建的文件都被赋予运行MySQL Installer程序的用户的所有权限，但有些特定产品创建的文件和文件夹的权限却不是这样的，例如MySQL服务器的数据文件夹在<code class="filename">ProgramData</code>里，它的所有者是<code class="literal">SYSTEM</code>用户。
</p>
</div>
<p>
      当这个安装程序运行启动后，将会弹出下面窗体：</p>
<div class="figure">
<a name="mysql-installer-welcome"></a><p class="title"><b>图 2.7. MySQL Installer - 欢迎窗口</b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="images/mi-welcome-win.png" width="795" height="593" alt="MySQL Installer - Welcome Screen">
</div>

</div>

</div>
<br class="figure-break"><p>
      这里有3个选项：</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
          Install MySQL Products - <span lang="zh-cn">安装向导。</span>
        </p></li><li class="listitem"><p>
          About MySQL - <span lang="zh-cn">学习MySQL产品及其相关特性。</span></p></li><li class="listitem"><p>
          Resources - <span lang="zh-cn">安装和配置MySQL的帮助信息。</span></p></li></ol>
</div>
<p>
      在第一次运行MySQL Installer后并选择了<span class="guilabel">Install MySQL Products</span>后，你必须在安装过程中接受许可证协议后才能让安装进行下去。</p>
<div class="figure">
<a name="mysql-installer-license-agreement"></a><p class="title"><b>图 2.8. MySQL Installer - 许可证协议</b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="images/mi-license-agreement-win.png" width="795" height="593" alt="MySQL Installer - License Agreement">
</div>

</div>

</div>
<br class="figure-break"><p>
      如果机器处理联网状态，安装程序会从互联网上查找最新的MySQL组件并把它们加入安装包中。要么点击<span class="guibutton">Connect to the
      Internet</span>按钮来完成这步操作，要么选中<code class="literal">Skip</code>复选框并点击<span class="guibutton">Continue</span>按钮进行下一步。
</p>
<div class="figure">
<a name="mysql-installer-find-latest-products-win"></a><p class="title"><b>图 2.9. MySQL Installer - 查找最新版的产品</b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="images/mi-find-latest-products-win.png" width="795" height="593" alt="MySQL Installer - Find latest products">
</div>

</div>

</div>
<br class="figure-break"><p><a name="mysql-installer-choose-setup-type"></a>
      如果选择"Connect to the Internet"，下一窗体将会显示MySQL Installer查找已有的升级的进度。当查找结束后(或者你选择取消这个查找)，将会出现<span class="guilabel">Choose Setup Type</span>窗体：
</p>
<div class="figure">
<a name="mysql-installer-choose-setup-page-win"></a><p class="title"><b>图 2.10. MySQL Installer - 选择安装类型</b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="images/mi-choose-setup-type-win.png" width="795" height="593" alt="MySQL Installer - Choosing a Setup Type">
</div>

</div>

</div>
<br class="figure-break"><p>
      通过阅读<span class="guilabel">Setup Type Description</span>的描述来决定何种设定最符合你的要求。    </p><p>
      安装软件和数据路径也是在这里定义的，如果数据路径已经存在则会有警告标志来提醒你。     </p><p>
      在选择了安装类型后，MySQL Installer将会检查系统的所需组件，并去下载和安装系统缺失组件。</p>
<div class="figure">
<a name="mysql-installer-check-requirements-win"></a><p class="title"><b>图 2.11. MySQL Installer - 检测环境</b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="images/mi-check-requirements-win.png" width="795" height="593" alt="MySQL Installer - Check Requirements">
</div>

</div>

</div>
<br class="figure-break"><p>
      下个窗体罗列了将要安装的MySQL产品：</p>
<div class="figure">
<a name="mysql-installer-installation-progress-win"></a><p class="title"><b>图 2.12. MySQL Installer - 安装进度</b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="images/mi-installation-progress-win.png" width="795" height="593" alt="MySQL Installer - Installation Progress">
</div>

</div>

</div>
<br class="figure-break"><p>
      当一个组件安装完毕后，你将会看到它的状态从"to be installed"变成"install success"。
</p>
<div class="figure">
<a name="mysql-installer-installation-progress-status-win"></a><p class="title"><b>图 2.13. MySQL Installer - 安装进度状态Progress status</b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="images/mi-installation-progress-status-win.png" width="795" height="593" alt="MySQL Installer - Installation Progress status">
</div>

</div>

</div>
<br class="figure-break"><p>
      当一个组件安装完成后，下个步骤就涉及到配置这个产品。 <code class="literal">Configuration
      Overview</code>窗体会显示进度并根据需求来弹出配置窗口。</p>
<div class="figure">
<a name="mysql-installer-initial-configuration-overview"></a><p class="title"><b>图 2.14. MySQL Installer - 配置概览</b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="images/mi-initial-configuration-overview-win.png" width="795" height="593" alt="MySQL Installer - Configuration Overview">
</div>

</div>

</div>
<br class="figure-break"><p>
      理想的MySQL服务器配置取决于你的预期用途，在下面窗体中根据上面的描述文字选择最适合你机器的那种用途。    </p><p>
      你要允许TCP/IP网络，否则只能本机连接。</p><p>
      选中"Advanced Configuration"复选框将会提供额外的<span class="guilabel">Logging Options</span>配置。这包括了错误日志、general日志，慢查询日志(包括语句执行秒数的定义)和二进制日志的路径定义。</p>
<div class="figure">
<a name="mysql-installer-mysql-server-configuration-choice"></a><p class="title"><b>图 2.15. MySQL Installer - MySQL服务器配置：定义平台、网络和日志选项</b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="images/mi-mysql-server-configuration-choice-win.png" width="795" height="593" alt="MySQL Installer- MySQL Server Configuration: Define platform, networking, and logging options">
</div>

</div>

</div>
<br class="figure-break"><p>
      接下来是设定帐户信息。根据需求来决定是否设置root密码，而创建额外的用户账户则不是必须的步骤。这里预定义了一些不同权限级别的用户角色，例如"DB Admin"角色的权限就比"DB Designer"大。
</p>
<div class="figure">
<a name="mysql-installer-configuration-setup-win"></a><p class="title"><b>图 2.16. MySQL Installer - MySQL服务器配置：用户账户</b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="images/mi-mysql-server-configuration-setup-win.png" width="795" height="593" alt="MySQL Installer - MySQL Server Configuration: User accounts">
</div>

</div>

</div>
<br class="figure-break">
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
注意
</div>
<p xmlns="">
        如果MySQL Server先前已经安装了，这里所需的就是<code class="literal">Current Root Password</code>。</p>
</div>
<p>
      接下来是配置<span class="guilabel">Windows Service Details</span>，它包括设定服务名，设定MySQL服务器在系统启动时启动，设定MySQL服务器的Windows服务以哪个帐户运行。</p>
<div class="figure">
<a name="mysql-installer-installation-configuration-win-service-details"></a><p class="title"><b>图 2.17. MySQL Installer - MySQL服务器配置：Windows服务详细设置</b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="images/mi-installation-configuration-win-service-details.png" width="795" height="593" alt="MySQL Installer - MySQL Server Configuration: Windows service details">
</div>

</div>

</div>
<br class="figure-break">
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
注意
</div>
<p xmlns="">
        在配置<span class="guilabel">Run Windows Services as
        ...</span>时选择<span class="guilabel">Custom User</span>，则这个自定义用户必须有登录Windows作为服务运行的权限，这个<span class="guibutton">Next</span>按钮会一直不可用直到赋予用户权限。      </p><p xmlns="">
        在Microsoft Windows 7平台上， 在运行<code class="literal">开始菜单、控制面板、管理工具、本地安全策略、本地策略、用户权限和作为服务运行</code>时都会被配置，选中<code class="literal">Add User or Group</code>窗体里添加的自定义用户，然后按下<span class="guibutton">OK</span>后保存。</p>
</div>
<p>
     如果<span class="guilabel">Advanced Configuration</span>复选框被选中，则最后一个配置窗体将会出现，它包含的配置选项都与日志名称相关：</p>
<div class="figure">
<a name="mysql-installer-installation-configuration-log-options"></a><p class="title"><b>图 2.18. MySQL Installer - MySQL服务器配置：日志选项</b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="images/mi-installation-configuration-log-options.png" width="795" height="593" alt="MySQL Installer - MySQL Server Configuration: Logging options">
</div>

</div>

</div>
<br class="figure-break"><p>
      MySQL Installer配置过程完成后，你可以保存安装日志，如果选中了<span class="guilabel">Start MySQL Workbench after Setup</span>复选框则MySQL Workbench也会被启动：</p>
<div class="figure">
<a name="mysql-installer-installation-complete-win"></a><p class="title"><b>图 2.19. MySQL Installer - 安装完成</b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="images/mi-installation-complete-win.png" width="795" height="593" alt="MySQL Installer - Installation Complete">
</div>

</div>

</div>
<br class="figure-break"><p>
      现在可以从Windows开始菜单中的<code class="literal">MySQL</code>组来启动MySQL Installer，这时它会启动MySQL Installer的<code class="literal">Maintenance Screen</code>，它被用来添加、升级、卸载MySQL产品。</p>
<div class="figure">
<a name="mysql-installer-maintenance-win"></a><p class="title"><b>图 2.20. MySQL Installer - 维护窗体</b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="images/mi-maintenance-win.png" width="795" height="593" alt="MySQL Installer - Maintenance Screen">
</div>

</div>

</div>
<br class="figure-break">
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
注意
</div>
<p xmlns="">
        在使用MySQL Installer安装的老版本MySQL产品中，<code class="literal">Update Screen</code>窗体的作用是与这里的<code class="literal">Maintenance Screen</code>窗体是一致的。</p>
</div>
<p>
      <span class="guilabel">Add/Modify Products and Features</span>将会罗列已经安装的MySQL产品和已经可供下载的MySQL产品。</p>
<div class="figure">
<a name="mysql-installer-maintenance-feature-selection-win"></a><p class="title"><b>图 2.21. MySQL Installer - "添加/修改" 产品和特性 Products and Features</b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="images/mi-maintenance-feature-selection-win.png" width="795" height="593" alt="MySQL Installer - Add/Modify Products and Features">
</div>

</div>

</div>
<br class="figure-break"><p>
      这个安装过程就完成了，MySQL服务器将会运行起来，大部分MySQL产品都已安装可供使用了。    </p><p>
      MySQL Workbench的文档请参阅(<a class="ulink" href="http://dev.mysql.com/doc/workbench/en/" target="_top">http://dev.mysql.com/doc/workbench/en/</a>)。
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="MySQLInstallerConsole"></a>2.3.3.2. MySQL Installer Console</h4>

</div>

</div>

</div>
<a class="indexterm" name="idp2694256"></a><a class="indexterm" name="idp2695328"></a><a class="indexterm" name="idp2696400"></a><a class="indexterm" name="idp2697888"></a><p>
      <a class="link" href="installing.html#MySQLInstallerConsole" title="2.3.3.2. MySQL Installer Console"><span class="command"><strong>MySQLInstallerConsole</strong></span></a> provides functionality
      similar to the GUI version of MySQL Installer, but from the command-line. It
      is installed when MySQL Installer is initially executed, and then available
      within the <code class="filename">MySQL Installer</code> directory.
      Typically that is in <code class="filename">C:\Program Files (x86)\MySQL\MySQL
      Installer\</code>, and the console must be executed with
      administrative privileges.
    </p><p>
      To use, invoke the Command Prompt with administrative privileges
      by choosing <span class="guimenu">Start</span>,
      <span class="guimenu">Accessories</span>, then right-click on
      <span class="guimenu">Command Prompt</span> and choose <code class="literal">Run as
      administrator</code>. And from the command-line, optionally
      change the directory to where
      <a class="link" href="installing.html#MySQLInstallerConsole" title="2.3.3.2. MySQL Installer Console"><span class="command"><strong>MySQLInstallerConsole</strong></span></a> is located:
    </p><pre class="programlisting">C:\&gt; <strong class="userinput"><code>cd "C:\Program Files (x86)\MySQL\MySQL Installer"</code></strong>
</pre><p>
      <a class="link" href="installing.html#MySQLInstallerConsole" title="2.3.3.2. MySQL Installer Console"><span class="command"><strong>MySQLInstallerConsole</strong></span></a> supports the following
      options, which are specified on the command line:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="MySQLInstallerConsole-help"></a>
          <a class="indexterm" name="idp2710016"></a>

          <a class="indexterm" name="idp2711504"></a>

          <code class="literal">--help</code>, <code class="literal">-h</code>, or
          <code class="literal">-?</code>
        </p><p>
          Displays a help message with usage examples, and then exits.
        </p><pre class="programlisting">C:\&gt; <strong class="userinput"><code>MySQLInstallerConsole <em class="replaceable"><code>--help</code></em></code></strong>
</pre></li><li class="listitem"><p><a name="MySQLInstallerConsole-updates"></a>
          <a class="indexterm" name="idp2718224"></a>

          <a class="indexterm" name="idp2719712"></a>

          <code class="literal">--updates</code> (or <code class="literal">-u</code>)
        </p><p>
          Checks for new products before any further action is taken.
          Disabled by default.
        </p></li><li class="listitem"><p><a name="MySQLInstallerConsole-nowait"></a>
          <a class="indexterm" name="idp2724224"></a>

          <a class="indexterm" name="idp2725712"></a>

          <code class="literal">--nowait</code>
        </p><p>
          Skips the final pause when the program finishes. Otherwise, a
          "<code class="literal">Press Enter to continue.</code>" dialogue is
          generated. It is used in conjunction with other options.
        </p></li><li class="listitem"><p><a name="MySQLInstallerConsole-catalog"></a>
          <a class="indexterm" name="idp2730240"></a>

          <a class="indexterm" name="idp2731728"></a>

          <code class="literal">--catalog</code>=<em class="replaceable"><code>catalog_name</code></em>
          (or <code class="literal">-c</code>)
        </p><p>
          Sets the default catalog. Use <code class="literal">--list</code> to
          view a list of available catalogs.
        </p></li><li class="listitem"><p><a name="MySQLInstallerConsole-type"></a>
          <a class="indexterm" name="idp2737312"></a>

          <a class="indexterm" name="idp2738800"></a>

          <code class="literal">--type</code>=<em class="replaceable"><code>installation_type</code></em>
          (or <code class="literal">-t</code>)
        </p><p>
          Sets the installation type.
        </p><p>
          The possible values for <code class="literal">installation_type</code>
          are: developer, server, client, full, and custom.
        </p></li><li class="listitem"><p><a name="MySQLInstallerConsole-action"></a>
          <a class="indexterm" name="idp2745552"></a>

          <a class="indexterm" name="idp2747040"></a>

          <code class="literal">--action</code>=<em class="replaceable"><code>action_name</code></em>
        </p><p>
          The action being performed.
        </p><p>
          The possible values are: install, remove, upgrade, list, and
          status.
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><a class="indexterm" name="idp2751216"></a><p>
              <span class="bold"><strong>install</strong></span>: Installs a
              product or products, as defined by
              <code class="literal">--products</code>
            </p></li><li class="listitem"><a class="indexterm" name="idp2754944"></a><p>
              <span class="bold"><strong>upgrade</strong></span>: Upgrades a
              product or products, as defined by
              <code class="literal">--products</code>.
            </p></li><li class="listitem"><a class="indexterm" name="idp2758704"></a><p>
              <span class="bold"><strong>remove</strong></span>: Removes a product
              or products, as defined by <code class="literal">--products</code>.
            </p></li><li class="listitem"><a class="indexterm" name="idp2762448"></a><p>
              <span class="bold"><strong>list</strong></span>: Lists the product
              manifest, both installed and available products.
            </p></li><li class="listitem"><a class="indexterm" name="idp2765504"></a><p>
              <span class="bold"><strong>status</strong></span>: Shows the status
              after another action is performed.
</p></li></ul>
</div>
</li><li class="listitem"><p><a name="MySQLInstallerConsole-product"></a>
          <a class="indexterm" name="idp2769344"></a>

          <a class="indexterm" name="idp2770832"></a>

          <code class="literal">--product</code>=<em class="replaceable"><code>product_name</code></em>[<em class="replaceable"><code>:feature1</code></em>],[<em class="replaceable"><code>feature2</code></em>],
          [...] (or <code class="literal">-p</code>)
        </p><p>
          Set the feature list of a product. Use
          <code class="literal">--list</code> to view available products, or pass
          in <code class="literal">--product=*</code> (an asterisk) to install all
          available products.
        </p></li><li class="listitem"><p><a name="MySQLInstallerConsole-config"></a>
          <a class="indexterm" name="idp2778016"></a>

          <a class="indexterm" name="idp2779504"></a>

          <code class="literal">--config</code>=<em class="replaceable"><code>product_name</code></em>:passwd=<em class="replaceable"><code>root_password</code></em>[<em class="replaceable"><code>;parameter1=value</code></em>],[;<em class="replaceable"><code>parameter2=value</code></em>],
          ...
        </p><p>
          The configuration parameters for the most recently listed
          products.
        </p></li><li class="listitem"><p><a name="MySQLInstallerConsole-user"></a>
          <a class="indexterm" name="idp2785008"></a>

          <a class="indexterm" name="idp2786496"></a>

          <code class="literal">--user</code>=<em class="replaceable"><code>product_name</code></em>:name=<em class="replaceable"><code>username</code></em>,host:<em class="replaceable"><code>hostname</code></em>,role=<em class="replaceable"><code>rolename</code></em>,password=<em class="replaceable"><code>password</code></em>
          or
          <code class="literal">--user</code>=<em class="replaceable"><code>product_name</code></em>:name=<em class="replaceable"><code>username</code></em>,host:<em class="replaceable"><code>hostname</code></em>,role=<em class="replaceable"><code>rolename</code></em>,tokens=<em class="replaceable"><code>tokens</code></em>
        </p><p>
          Creates a new user.
        </p><p>
          Requires: name, host, role, and the password or tokens. Tokens
          are separated by pipe ("|") characters.
</p></li></ul>
</div>

</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="windows-notifier"></a>2.3.4. MySQL Notifier for Microsoft Windows</h3>

</div>

</div>

</div>
<div class="toc">
<dl><dt><span class="section"><a href="installing.html#windows-notifier-installation">2.3.4.1. Remote monitoring set up and installation instructions</a></span></dt></dl>
</div>
<a class="indexterm" name="idp2796672"></a><a class="indexterm" name="idp2797744"></a><p>
    The MySQL Notifier for Microsoft Windows is a tool that enables you to monitor and adjust the
    status of your local and remote MySQL Server instances through an
    indicator that resides in the system tray. The MySQL Notifier for Microsoft Windows also
    gives quick access to several MySQL GUI tools (such as MySQL Workbench)
    through its context menu.
  </p><p>
    The MySQL Notifier for Microsoft Windows is installed by MySQL Installer, and (by default) will start-up
    when Microsoft Windows is started.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
      To install, download and execute the
      <a class="ulink" href="http://dev.mysql.com/downloads/installer/" target="_top">MySQL Installer</a>, be sure
      the MySQL Notifier for Microsoft Windows product is selected, then proceed with the
      installation. See the <a class="link" href="installing.html#mysql-installer" title="2.3.3. Installing MySQL on Microsoft Windows Using MySQL Installer">MySQL Installer
      manual</a> for additional details.
    </p><p xmlns="">
      For release notes detailing the changes in each release of
      MySQL Notifier for Microsoft Windows, see the
      <a class="ulink" href="http://dev.mysql.com/doc/relnotes/mysql-notifier/en/" target="_top">MySQL Notifier
      Release Notes</a>.
    </p><p xmlns="">
      Visit the <a class="ulink" href="http://forums.mysql.com/list.php?173" target="_top">MySQL
      Notifier forum</a> for additional MySQL Notifier for Microsoft Windows help and
      support.
</p>
</div>
<p>
    Features include:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
        Start, Stop, and Restart instances of the MySQL Server.
      </p></li><li class="listitem"><p>
        Automatically detects (and adds) new MySQL Server services.
        These are listed under <span class="guimenu">Manage Monitored
        Items</span>, and may also be configured.
      </p></li><li class="listitem"><p>
        The Tray icon changes, depending on the status. It's green if
        all monitored MySQL Server instances are running, or red if at
        least one service is stopped. The <span class="guilabel">Update MySQL
        Notifier tray icon based on service status</span> option,
        which dictates this behavior, is enabled by default for each
        service.
      </p></li><li class="listitem"><p>
        Links to other applications like MySQL Workbench, MySQL Installer, and the
        MySQL Utilities. For example, choosing <span class="guimenu">Configure
        Instance</span> will load the MySQL Workbench Server
        Administration window for that particular instance.
      </p></li><li class="listitem"><p>
        If MySQL Workbench is also installed, then the <span class="guimenu">Configure
        Instance</span> and <span class="guimenu">SQL Editor</span> options are
        available for local (but not remote) MySQL instances.
      </p></li><li class="listitem"><p>
        Monitoring of both local and remote MySQL instances.
</p></li></ul>
</div>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<div class="admon-title">
Note
</div>
<p xmlns="">
      Remote monitoring is available since MySQL Notifier for Microsoft Windows 1.1.0.
</p>
</div>
<p>
    The MySQL Notifier for Microsoft Windows resides in the system tray and provides visual
    status information for your MySQL Server instances. A green icon is
    displayed at the top left corner of the tray icon if the current
    MySQL Server is running, or a red icon if the service is stopped.
  </p><p>
    The MySQL Notifier for Microsoft Windows automatically adds discovered MySQL Services on the
    local machine, and each service is saved and configurable. By
    default, the <span class="guilabel">Automatically add new services whose name
    contains</span> option is enabled and set to
    <code class="literal">mysql</code>. Related <span class="guilabel">Notifications
    Options</span> include being notified when new services are
    either discovered or experience status changes, and are also enabled
    by default. And uninstalling a service will also remove the service
    from the MySQL Notifier for Microsoft Windows.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
      The <span class="guilabel">Automatically add new services whose name
      contains</span> option default changed from ".*mysqld.*" to
      "mysql" in Notifier 1.1.0.
</p>
</div>
<p>
    Clicking the system tray icon will reveal several options, as seen
    in the screenshots below:
  </p><p>
    The Service Instance menu is the main MySQL Notifier for Microsoft Windows window, and
    enables you to Stop, Start, and Restart the MySQL Server.
</p>
<div class="figure">
<a name="windows-notifier-server-instance"></a><p class="title"><b>Figure 2.22. MySQL Notifier for Microsoft Windows Service Instance menu</b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="images/windows-notifier-server-instance.png" width="341" height="213" alt="MySQL Notifier for Microsoft Windows Service Instance menu">
</div>

</div>

</div>
<br class="figure-break"><p>
    The <span class="guimenu">Actions</span> menu includes several links to
    external applications (if they are installed), and a a
    <span class="guilabel">Refresh Status</span> option to manually refresh the
    status of all monitored services (in both local and remote
    computers) and MySQL instances.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
      The main menu will not show the <span class="guimenu">Actions</span> menu
      when there are no services being monitored by MySQL Notifier for Microsoft Windows.
</p>
</div>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<div class="admon-title">
Note
</div>
<p xmlns="">
      The <span class="guilabel">Refresh Status</span> feature is available since
      MySQL Notifier for Microsoft Windows 1.1.0.
</p>
</div>

<div class="figure">
<a name="windows-notifier-actions"></a><p class="title"><b>Figure 2.23. MySQL Notifier for Microsoft Windows Actions menu</b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="images/windows-notifier-actions.png" width="423" height="206" alt="MySQL Notifier for Microsoft Windows Actions menu">
</div>

</div>

</div>
<br class="figure-break"><p>
    The <span class="guimenu">Actions</span>, <span class="guimenu">Options</span> menu
    configures MySQL Notifier for Microsoft Windows and includes options to:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
        <span class="guilabel">Use colorful status icons</span>: Enables a
        colorful style of icons for the tray of the MySQL Notifier for Microsoft Windows.
      </p></li><li class="listitem"><p>
        <span class="guilabel">Run at Windows Startup</span>: Allows the
        application to be loaded when Microsoft Windows starts.
      </p></li><li class="listitem"><p>
        <span class="guilabel">Automatically Check For Updates Every</span> #
        Weeks: Checks for a new version of MySQL Notifier for Microsoft Windows, and runs this
        check every # weeks.
      </p></li><li class="listitem"><p>
        <span class="guilabel">Automatically add new services whose name
        contains</span>: The text used to filter services and add
        them automatically to the monitored list of the local computer
        running MySQL Notifier, and on remote computers already
        monitoring Windows services. monitored services, and also
        filters the list of the Microsoft Windows services for the
        <span class="guilabel">Add New Service</span> dialog.
      </p><p>
        Prior to version 1.1.0, this option was named "Automatically add
        new services that match this pattern."
      </p></li><li class="listitem"><p>
        <span class="guilabel">Notify me when a service is automatically
        added</span>: Will display a balloon notification from the
        taskbar when a newly discovered service is added to the
        monitored services list.
      </p></li><li class="listitem"><p>
        <span class="guilabel">Notify me when a service changes status</span>:
        Will display a balloon notification from the taskbar when a
        monitored service changes its status.
</p></li></ul>
</div>

<div class="figure">
<a name="windows-notifier-options"></a><p class="title"><b>Figure 2.24. MySQL Notifier for Microsoft Windows Options menu</b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="images/windows-notifier-options.png" width="428" height="480" alt="MySQL Notifier for Microsoft Windows Options menu">
</div>

</div>

</div>
<br class="figure-break"><p>
    The <span class="guimenu">Actions</span>, <span class="guimenu">Manage Monitored
    Items</span> menu enables you to configure the monitored services
    and MySQL instances. First, with the <span class="guilabel">Services</span>
    tab open:
</p>
<div class="figure">
<a name="windows-notifier-manage-services"></a><p class="title"><b>Figure 2.25. MySQL Notifier for Microsoft Windows Manage Services menu</b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="images/windows-notifier-manage-services.png" width="602" height="529" alt="MySQL Notifier for Microsoft Windows Manage Services menu">
</div>

</div>

</div>
<br class="figure-break"><p>
    The <span class="guilabel">Instances</span> tab is similar:
</p>
<div class="figure">
<a name="windows-notifier-manage-instances"></a><p class="title"><b>Figure 2.26. MySQL Notifier for Microsoft Windows Manage Instances menu</b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="images/windows-notifier-manage-instances.png" width="602" height="529" alt="MySQL Notifier for Microsoft Windows Manage Instances menu">
</div>

</div>

</div>
<br class="figure-break"><p>
    Adding a service or instance (after clicking
    <span class="guibutton">Add</span> in the <span class="guimenu">Manage Monitored
    Items</span> window) enables you to select a running Microsoft
    Windows service or instance connection, and configure MySQL Notifier for Microsoft Windows to
    monitor it. Add a new service or instance by clicking service name
    from the list, then <span class="guibutton">OK</span> to accept. Multiple
    services and instances may be selected.
</p>
<div class="figure">
<a name="windows-notifier-add-services"></a><p class="title"><b>Figure 2.27. MySQL Notifier for Microsoft Windows Adding new services</b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="images/windows-notifier-manage-services-add.png" width="504" height="578" alt="MySQL Notifier for Microsoft Windows Adding new services">
</div>

</div>

</div>
<br class="figure-break"><p>
    And instances:
</p>
<div class="figure">
<a name="windows-notifier-add-instances"></a><p class="title"><b>Figure 2.28. MySQL Notifier for Microsoft Windows Adding new instances</b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="images/windows-notifier-manage-instances-add.png" width="610" height="600" alt="MySQL Notifier for Microsoft Windows Adding new instances">
</div>

</div>

</div>
<br class="figure-break">
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
      The <span class="guilabel">Instances</span> tab available since MySQL Notifier for Microsoft Windows
      1.1.0.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="windows-notifier-installation"></a>2.3.4.1. Remote monitoring set up and installation instructions</h4>

</div>

</div>

</div>
<p>
      The MySQL Notifier for Microsoft Windows uses Windows Management Instrumentation (WMI) to
      manage and monitor services in remote computers running Windows XP
      or later. This guide explains how it works, and how to set up your
      system to monitor remote MySQL instances.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
        Remote monitoring is available since MySQL Notifier for Microsoft Windows 1.1.0.
</p>
</div>
<p>
      In order to configure WMI, it is important to understand that the
      underlying Distributed Component Object Model (DCOM) architecture
      is doing the WMI work. Specifically, MySQL Notifier for Microsoft Windows is using
      asynchronous notification queries on remote Microsoft Windows
      hosts as .NET events. These events send an asynchronous callback
      to the computer running the MySQL Notifier for Microsoft Windows so it knows when a service
      status has changed on the remote computer. Asynchronous
      notifications offer the best performance compared to
      semi-synchronous notifications or synchronous notifications that
      use timers.
    </p><p>
      Asynchronous notifications requires the remote computer to send a
      callback to the client computer (thus opening a reverse
      connection), so the Windows Firewall and DCOM settings must be
      properly configured for the communication to function properly.
</p>
<div class="figure">
<a name="windows-notifier-installation-wmi"></a><p class="title"><b>Figure 2.29. MySQL Notifier for Microsoft Windows Distributed Component Object Model (DCOM)</b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="images/windows-notifier-wmi-diagram.png" width="661" height="193" alt="MySQL Notifier for Microsoft Windows Distributed Component Object Model (DCOM)">
</div>

</div>

</div>
<br class="figure-break"><p>
      Most of the common errors thrown by asynchronous WMI notifications
      are related to Windows Firewall blocking the communication, or to
      DCOM / WMI settings not being set up properly. For a list of
      common errors with solutions, see
      <a class="xref" href="installing.html#windows-notifier-installation-errors" title="2.3.4.1.  Common Errors">Section 2.3.4.1, “
      Common Errors
    ”</a>.
    </p><p>
      The following steps are required to make WMI function. These steps
      are divided between two machines. A single host computer that runs
      MySQL Notifier for Microsoft Windows (Computer A), and multiple remote machines that are
      being monitored (Computer B).
</p>
<h5><a name="idp2907744"></a>
      Computer running MySQL Notifier for Microsoft Windows (Computer A)
</h5>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
          Allow for remote administration by either editing the
          <span class="guilabel">Group Policy Editor</span>, or using
          <code class="literal">NETSH</code>:
        </p><p>
          Using the <span class="guilabel">Group Policy Editor</span>:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="a"><li class="listitem"><p>
              Click <span class="guibutton">Start</span>, click
              <span class="guibutton">Run</span>, type
              <code class="filename">GPEDIT.MSC</code>, and then click
              <span class="guibutton">OK</span>.
            </p></li><li class="listitem"><p>
              Under the <span class="guilabel">Local Computer Policy</span>
              heading, double-click <span class="guilabel">Computer
              Configuration</span>.
            </p></li><li class="listitem"><p>
              Double-click <span class="guilabel">Administrative
              Templates</span>, then <span class="guilabel">Network</span>,
              <span class="guilabel">Network Connections</span>, and then
              <span class="guilabel">Windows Firewall</span>.
            </p></li><li class="listitem"><p>
              If the computer is in the domain, then double-click
              <span class="guilabel">Domain Profile</span>; otherwise,
              double-click <span class="guilabel">Standard Profile</span>.
            </p></li><li class="listitem"><p>
              Click <span class="guilabel">Windows Firewall: Allow inbound remote
              administration exception</span>.
            </p></li><li class="listitem"><p>
              On the Action menu either select
              <span class="guibutton">Edit</span>, or double-click the selection
              from the previous step.
            </p></li><li class="listitem"><p>
              Check the <span class="guibutton">Enabled</span> radio button, and
              then click <span class="guibutton">OK</span>.
</p></li></ol>
</div>
<p>
          Using the <code class="literal">NETSH</code> command:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="a"><li class="listitem"><p>
              Open a command prompt window with Administrative rights
              (you can right-click the Command Prompt icon and click
              <span class="guilabel">Run as Administrator</span>).
            </p></li><li class="listitem"><p>
              Execute the following command:

</p><pre class="programlisting">NETSH firewall set service RemoteAdmin enable</pre></li></ol>
</div>
</li><li class="listitem"><p>
          Open the DCOM port TCP 135:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="a"><li class="listitem"><p>
              Open a command prompt window with Administrative rights
              (you can right-click the Command Prompt icon and click
              <span class="guilabel">Run as Administrator</span>) .
            </p></li><li class="listitem"><p>
              Execute the following command:

</p><pre class="programlisting">NETSH firewall add portopening protocol=tcp port=135 name=DCOM_TCP135</pre></li></ol>
</div>
</li><li class="listitem"><p>
          Add the client application which contains the sink for the
          callback (<code class="filename">MySqlNotifier.exe</code>) to the
          Windows Firewall Exceptions List (use either the Windows
          Firewall configuration or <code class="literal">NETSH</code>):
        </p><p>
          Using the Windows Firewall configuration:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="a"><li class="listitem"><p>
              In the Control Panel, double-click <span class="guilabel">Windows
              Firewall</span>.
            </p></li><li class="listitem"><p>
              In the Windows Firewall window's left panel, click
              <span class="guilabel">Allow a program or feature through Windows
              Firewall</span>.
            </p></li><li class="listitem"><p>
              In the Allowed Programs window, click <span class="guibutton">Change
              Settings</span>.
            </p></li><li class="listitem"><p>
              If <code class="filename">MySqlNotifier.exe</code> is in the
              Allowed programs and features list, make sure it is
              checked for the type of networks the computer connects to
              (Private, Public or both).
            </p></li><li class="listitem"><p>
              If <code class="filename">MySqlNotifier.exe</code> is not in the
              list, click <span class="guibutton">Allow another
              program...</span>.
            </p></li><li class="listitem"><p>
              In the <span class="guilabel">Add a Program</span> window, select
              the <code class="filename">MySqlNotifier.exe</code> if it exists in
              the Programs list, otherwise click Browse... and go to the
              directory where <code class="filename">MySqlNotifier.exe</code> was
              installed to select it, then click
              <span class="guibutton">Add</span>.
            </p></li><li class="listitem"><p>
              Make sure <code class="filename">MySqlNotifier.exe</code> is
              checked for the type of networks the computer connects to
              (Private, Public or both).
</p></li></ol>
</div>
<p>
          Using the <code class="literal">NETSH</code> command:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="a"><li class="listitem"><p>
              Open a command prompt window with Administrative rights
              (you can right-click the Command Prompt icon and click
              <span class="guibutton">Run as Administrator</span>).
            </p></li><li class="listitem"><p>
              Execute the following command, where you change
              "<em class="replaceable"><code>[YOUR_INSTALL_DIRECTORY]</code></em>":
</p><pre class="programlisting">NETSH firewall add allowedprogram program=[YOUR_INSTALL_DIRECTORY]\MySqlNotifier.exe name=MySqlNotifier</pre></li></ol>
</div>
</li><li class="listitem"><p>
          If Computer B is either a member of
          <code class="literal">WORKGROUP</code> or is in a different domain that
          is untrusted by Computer A, then the callback connection
          (Connection 2) is created as an Anonymous connection. To grant
          Anonymous connections DCOM Remote Access permissions:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="a"><li class="listitem"><p>
              Click <span class="guibutton">Start</span>, click
              <span class="guibutton">Run</span>, type
              <code class="literal">DCOMCNFG</code>, and then click
              <span class="guibutton">OK</span>.
            </p></li><li class="listitem"><p>
              In the Component Services dialog box, expand Component
              Services, expand Computers, and then right-click
              <span class="guilabel">My Computer</span> and click
              <span class="guibutton">Properties</span>.
            </p></li><li class="listitem"><p>
              In the My Computer Properties dialog box, click the
              <span class="guilabel">COM Security</span> tab.
            </p></li><li class="listitem"><p>
              Under Access Permissions, click <span class="guibutton">Edit
              Limits</span>.
            </p></li><li class="listitem"><p>
              In the Access Permission dialog box, select
              <span class="guilabel">ANONYMOUS LOGON name</span> in the Group or
              user names box. In the Allow column under Permissions for
              User, select <span class="guilabel">Remote Access</span>, and then
              click <span class="guibutton">OK</span>.
</p></li></ol>
</div>
</li></ol>
</div>
<h5><a name="idp2980112"></a>
      Monitored Remote Computer (Computer B)
</h5>
<p>
      If the user account that is logged into the computer running the
      MySQL Notifier for Microsoft Windows (Computer A) is a local administrator on the remote
      computer (Computer B), such that the same account is an
      administrator on Computer B, you can skip to the "Allow for remote
      administration" step.
    </p><p>
      Setting DCOM security to allow a non-administrator user to access
      a computer remotely:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
          Grant "DCOM remote launch" and activation permissions for a
          user or group:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="a"><li class="listitem"><p>
              Click <span class="guibutton">Start</span>, click
              <span class="guibutton">Run</span>, type
              <code class="literal">DCOMCNFG</code>, and then click
              <span class="guibutton">OK</span>.
            </p></li><li class="listitem"><p>
              In the Component Services dialog box, expand Component
              Services, expand Computers, and then right-click
              <span class="guilabel">My Computer</span> and click
              <span class="guibutton">Properties</span>.
            </p></li><li class="listitem"><p>
              In the My Computer Properties dialog box, click the
              <span class="guilabel">COM Security</span> tab.
            </p></li><li class="listitem"><p>
              Under Access Permissions, click <span class="guibutton">Edit
              Limits</span>.
            </p></li><li class="listitem"><p>
              In the <span class="guilabel">Launch Permission</span> dialog box,
              follow these steps if your name or your group does not
              appear in the Groups or user names list:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="i"><li class="listitem"><p>
                  In the <span class="guilabel">Launch Permission</span> dialog
                  box, click <span class="guibutton">Add</span>.
                </p></li><li class="listitem"><p>
                  In the Select Users, Computers, or Groups dialog box,
                  add your name and the group in the "Enter the object
                  names to select" box, and then click
                  <span class="guibutton">OK</span>.
</p></li></ol>
</div>
</li><li class="listitem"><p>
              In the <span class="guilabel">Launch Permission</span> dialog box,
              select your user and group in the Group or user names box.
              In the Allow column under Permissions for User, select
              <span class="guilabel">Remote Launch</span>, select
              <span class="guilabel">Remote Activation</span>, and then click
              <span class="guibutton">OK</span>.
</p></li></ol>
</div>
<p>
          Grant DCOM remote access permissions:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="a"><li class="listitem"><p>
              Click <span class="guibutton">Start</span>, click
              <span class="guibutton">Run</span>, type
              <code class="literal">DCOMCNFG</code>, and then click
              <span class="guibutton">OK</span>.
            </p></li><li class="listitem"><p>
              In the Component Services dialog box, expand Component
              Services, expand Computers, and then right-click
              <span class="guilabel">My Computer</span> and click
              <span class="guibutton">Properties</span>.
            </p></li><li class="listitem"><p>
              In the My Computer Properties dialog box, click the
              <span class="guilabel">COM Security</span> tab.
            </p></li><li class="listitem"><p>
              Under Access Permissions, click <span class="guibutton">Edit
              Limits</span>.
            </p></li><li class="listitem"><p>
              In the Access Permission dialog box, select
              <span class="guilabel">ANONYMOUS LOGON name</span> in the Group or
              user names box. In the Allow column under Permissions for
              User, select <span class="guilabel">Remote Access</span>, and then
              click <span class="guibutton">OK</span>.
</p></li></ol>
</div>
</li><li class="listitem"><p>
          Allowing non-administrator users access to a specific WMI
          namespace:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="a"><li class="listitem"><p>
              In the Control Panel, double-click
              <span class="guilabel">Administrative Tools</span>.
            </p></li><li class="listitem"><p>
              In the Administrative Tools window, double-click
              <span class="guilabel">Computer Management</span>.
            </p></li><li class="listitem"><p>
              In the Computer Management window, expand the
              <span class="guilabel">Services and Applications</span> tree and
              double-click the <span class="guilabel">WMI Control</span>.
            </p></li><li class="listitem"><p>
              Right-click the WMI Control icon and select
              <span class="guilabel">Properties</span>.
            </p></li><li class="listitem"><p>
              In the WMI Control Properties window, click the
              <span class="guilabel">Security</span> tab.
            </p></li><li class="listitem"><p>
              In the Security tab, select the namespace and click
              <span class="guilabel">Security</span>.
            </p></li><li class="listitem"><p>
              Locate the appropriate account and check <span class="guilabel">Remote
              Enable in the Permissions list</span>.
</p></li></ol>
</div>
</li><li class="listitem"><p>
          Allow for remote administration by either editing the
          <span class="guilabel">Group Policy Editor</span> or using
          <code class="literal">NETSH</code>:
        </p><p>
          Using the <span class="guilabel">Group Policy Editor</span>:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="a"><li class="listitem"><p>
              Click <span class="guibutton">Start</span>, click
              <span class="guibutton">Run</span>, type
              <code class="filename">GPEDIT.MSC</code>, and then click
              <span class="guibutton">OK</span>.
            </p></li><li class="listitem"><p>
              Under the Local Computer Policy heading, double-click
              <span class="guilabel">Computer Configuration</span>.
            </p></li><li class="listitem"><p>
              Double-click <span class="guilabel">Administrative
              Templates</span>, then <span class="guilabel">Network</span>,
              <span class="guilabel">Network Connections</span>, and then
              <span class="guilabel">Windows Firewall</span>.
            </p></li><li class="listitem"><p>
              If the computer is in the domain, then double-click
              <span class="guilabel">Domain Profile</span>; otherwise,
              double-click <span class="guilabel">Standard Profile</span>.
            </p></li><li class="listitem"><p>
              Click <span class="guilabel">Windows Firewall: Allow inbound remote
              administration exception</span>.
            </p></li><li class="listitem"><p>
              On the Action menu either select
              <span class="guibutton">Edit</span>, or double-click the selection
              from the previous step.
            </p></li><li class="listitem"><p>
              Check the <span class="guibutton">Enabled</span> radio button, and
              then click <span class="guibutton">OK</span>.
</p></li></ol>
</div>
<p>
          Using the <code class="literal">NETSH</code> command:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="a"><li class="listitem"><p>
              Open a command prompt window with Administrative rights
              (you can right-click the Command Prompt icon and click Run
              as Administrator).
            </p></li><li class="listitem"><p>
              Execute the following command:

</p><pre class="programlisting">NETSH firewall set service RemoteAdmin enable</pre></li></ol>
</div>
</li><li class="listitem"><p>
          Now, be sure the user you are logging in with uses the
          <code class="literal">Name</code> value and not the <code class="literal">Full
          Name</code> value:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="a"><li class="listitem"><p>
              In the <span class="guilabel">Control Panel</span>, double-click
              <span class="guilabel">Administrative Tools</span>.
            </p></li><li class="listitem"><p>
              In the <span class="guilabel">Administrative Tools</span> window,
              double-click <span class="guilabel">Computer Management</span>.
            </p></li><li class="listitem"><p>
              In the <span class="guilabel">Computer Management</span> window,
              expand the <span class="guilabel">System Tools then Local Users and
              Groups</span>.
            </p></li><li class="listitem"><p>
              Click the <span class="guilabel">Users</span> node, and on the
              right side panel locate your user and make sure it uses
              the <span class="guilabel">Name</span> value to connect, and not
              the <span class="guilabel">Full Name</span> value.
</p></li></ol>
</div>
</li><li class="listitem"><p>
          If the remote computer is running on <code class="literal">Windows XP
          Professional</code>, make sure that remote logins are not
          being forcefully changed to the guest account user (also known
          as <code class="literal">ForceGuest</code>), which is enabled by default
          on computers that are not attached to a domain.
</p>
<div class="orderedlist">
<ol class="orderedlist" type="a"><li class="listitem"><p>
              Click Start, click Run, type
              <code class="filename">SECPOL.MSC</code>, and then click
              <span class="guibutton">OK</span>.
            </p></li><li class="listitem"><p>
              Under the <span class="guilabel">Local Policies</span> node,
              double-click <span class="guilabel">Security Options</span>.
            </p></li><li class="listitem"><p>
              Select <span class="guilabel">Network Access: Sharing and security
              model for local accounts</span> and save.
</p></li></ol>
</div>
</li></ol>
</div>
<h5><a name="windows-notifier-installation-errors"></a>
      Common Errors
</h5>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <code class="literal">0x80070005</code>
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              DCOM Security was not configured properly (see Computer B,
              the <code class="literal">Setting DCOM security...</code> step).
            </p></li><li class="listitem"><p>
              The remote computer (Computer B) is a member of WORKGROUP
              or is in a domain that is untrusted by the client computer
              (Computer A) (see Computer A, the <code class="literal">Grant Anonymous
              connections DCOM Remote Access permissions</code>
              step).
</p></li></ul>
</div>
</li><li class="listitem"><p>
          <code class="literal">0x8007000E</code>
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              The remote computer (Computer B) is a member of WORKGROUP
              or is in a domain that is untrusted by the client computer
              (Computer A) (see Computer A, the <code class="literal">Grant Anonymous
              connections DCOM Remote Access permissions</code>
              step).
</p></li></ul>
</div>
</li><li class="listitem"><p>
          <code class="literal">0x80041003</code>
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              Access to the remote WMI namespace was not configured
              properly (see Computer B, the <code class="literal">Allowing
              non-administrator users access to a specific WMI
              namespace</code> step).
</p></li></ul>
</div>
</li><li class="listitem"><p>
          <code class="literal">0x800706BA</code>
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              The DCOM port is not open on the client computers
              (Computer A) firewall. See the <code class="literal">Open the DCOM port
              TCP 135</code> step for Computer A.
            </p></li><li class="listitem"><p>
              The remote computer (Computer B) is inaccessible because
              its network location is set to Public. Make sure you can
              access it through the Windows Explorer.
</p></li></ul>
</div>
</li></ul>
</div>

</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="windows-install-archive"></a>2.3.5. Installing MySQL on Microsoft Windows Using a
<code class="literal">noinstall</code> Zip Archive</h3>

</div>

</div>

</div>
<div class="toc">
<dl><dt><span class="section"><a href="installing.html#windows-extract-archive">2.3.5.1. Extracting the Install Archive</a></span></dt><dt><span class="section"><a href="installing.html#windows-create-option-file">2.3.5.2. Creating an Option File</a></span></dt><dt><span class="section"><a href="installing.html#windows-select-server">2.3.5.3. Selecting a MySQL Server Type</a></span></dt><dt><span class="section"><a href="installing.html#windows-server-first-start">2.3.5.4. Starting the Server for the First Time</a></span></dt><dt><span class="section"><a href="installing.html#windows-start-command-line">2.3.5.5. Starting MySQL from the Windows Command Line</a></span></dt><dt><span class="section"><a href="installing.html#mysql-installation-windows-path">2.3.5.6. Customizing the PATH for MySQL Tools</a></span></dt><dt><span class="section"><a href="installing.html#windows-start-service">2.3.5.7. Starting MySQL as a Windows Service</a></span></dt><dt><span class="section"><a href="installing.html#windows-testing">2.3.5.8. Testing The MySQL Installation</a></span></dt></dl>
</div>
<p>
      Users who are installing from the <code class="literal">noinstall</code>
      package can use the instructions in this section to manually
      install MySQL. The process for installing MySQL from a Zip archive
      is as follows:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
          Extract the archive to the desired install directory
        </p></li><li class="listitem"><p>
          Create an option file
        </p></li><li class="listitem"><p>
          Choose a MySQL server type
        </p></li><li class="listitem"><p>
          Start the MySQL server
        </p></li><li class="listitem"><p>
          Secure the default user accounts
</p></li></ol>
</div>
<p>
      This process is described in the sections that follow.
</p>
<div class="section">

<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="windows-extract-archive"></a>2.3.5.1. Extracting the Install Archive</h4>
</div>
</div>
</div>
<p>
        To install MySQL manually, do the following:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
            If you are upgrading from a previous version please refer to
            <a class="xref" href="installing.html#windows-upgrading" title="2.3.7. Upgrading MySQL on Windows">Section 2.3.7, “Upgrading MySQL on Windows”</a>, before beginning the
            upgrade process.
          </p></li><li class="listitem"><p>
            Make sure that you are logged in as a user with
            administrator privileges.
          </p></li><li class="listitem"><p>
            Choose an installation location. Traditionally, the MySQL
            server is installed in <code class="filename">C:\mysql</code>. The
            MySQL Installer installs MySQL under <code class="filename">C:\Program
            Files\MySQL</code>. If you do not install MySQL at
            <code class="filename">C:\mysql</code>, you must specify the path to
            the install directory during startup or in an option file.
            See <a class="xref" href="installing.html#windows-create-option-file" title="2.3.5.2. Creating an Option File">Section 2.3.5.2, “Creating an Option File”</a>.
          </p></li><li class="listitem"><p>
            Extract the install archive to the chosen installation
            location using your preferred Zip archive tool. Some tools
            may extract the archive to a folder within your chosen
            installation location. If this occurs, you can move the
            contents of the subfolder into the chosen installation
            location.
</p></li></ol>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="windows-create-option-file"></a>2.3.5.2. Creating an Option File</h4>

</div>

</div>

</div>
<p>
        If you need to specify startup options when you run the server,
        you can indicate them on the command line or place them in an
        option file. For options that are used every time the server
        starts, you may find it most convenient to use an option file to
        specify your MySQL configuration. This is particularly true
        under the following circumstances:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            The installation or data directory locations are different
            from the default locations (<code class="filename">C:\Program
            Files\MySQL\MySQL Server 5.6</code> and
            <code class="filename">C:\Program Files\MySQL\MySQL Server
            5.6\data</code>).
          </p></li><li class="listitem"><p>
            You need to tune the server settings, such as memory, cache,
            or InnoDB configuration information.
</p></li></ul>
</div>
<p>
        When the MySQL server starts on Windows, it looks for option
        files in several locations, such as the Windows directory,
        <code class="filename">C:\</code>, and the MySQL installation directory
        (for the full list of locations, see
        <a class="xref" href="programs.html#option-files" title="4.2.3.3. Using Option Files">Section 4.2.3.3, “Using Option Files”</a>). The Windows directory typically
        is named something like <code class="filename">C:\WINDOWS</code>. You can
        determine its exact location from the value of the
        <code class="literal">WINDIR</code> environment variable using the
        following command:
      </p><pre class="programlisting">C:\&gt; <strong class="userinput"><code>echo %WINDIR%</code></strong>
</pre><p>
        MySQL looks for options in each location first in the
        <code class="filename">my.ini</code> file, and then in the
        <code class="filename">my.cnf</code> file. However, to avoid confusion,
        it is best if you use only one file. If your PC uses a boot
        loader where <code class="filename">C:</code> is not the boot drive, your
        only option is to use the <code class="filename">my.ini</code> file.
        Whichever option file you use, it must be a plain text file.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
          When using the MySQL Installer to install MySQL Server, it will create
          the <code class="filename">my.ini</code> at the default location. And
          as of MySQL Server 5.5.27, the user running MySQL Installer is granted
          full permissions to this new <code class="filename">my.ini</code>.
        </p><p xmlns="">
          In other words, be sure that the MySQL Server user has
          permission to read the <code class="filename">my.ini</code> file.
</p>
</div>
<p>
        You can also make use of the example option files included with
        your MySQL distribution; see
        <a class="xref" href="server-administration.html#server-configuration-defaults" title="5.1.2. Server Configuration Defaults">Section 5.1.2, “Server Configuration Defaults”</a>.
      </p><p>
        An option file can be created and modified with any text editor,
        such as Notepad. For example, if MySQL is installed in
        <code class="filename">E:\mysql</code> and the data directory is in
        <code class="filename">E:\mydata\data</code>, you can create an option
        file containing a <code class="literal">[mysqld]</code> section to specify
        values for the <code class="option">basedir</code> and
        <code class="option">datadir</code> options:
      </p><pre class="programlisting">[mysqld]
# set basedir to your installation path
basedir=E:/mysql
# set datadir to the location of your data directory
datadir=E:/mydata/data</pre><p>
        Note that Windows path names are specified in option files using
        (forward) slashes rather than backslashes. If you do use
        backslashes, double them:
      </p><pre class="programlisting">[mysqld]
# set basedir to your installation path
basedir=E:\\mysql
# set datadir to the location of your data directory
datadir=E:\\mydata\\data</pre><p>
        The rules for use of backslash in option file values are given
        in <a class="xref" href="programs.html#option-files" title="4.2.3.3. Using Option Files">Section 4.2.3.3, “Using Option Files”</a>.
      </p><p>
        The data directory is located within the
        <code class="filename">AppData</code> directory for the user running
        MySQL.
      </p><p>
        If you would like to use a data directory in a different
        location, you should copy the entire contents of the
        <code class="filename">data</code> directory to the new location. For
        example, if you want to use <code class="filename">E:\mydata</code> as
        the data directory instead, you must do two things:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
            Move the entire <code class="filename">data</code> directory and all
            of its contents from the default location (for example
            <code class="filename">C:\Program Files\MySQL\MySQL Server
            5.6\data</code>) to
            <code class="filename">E:\mydata</code>.
          </p></li><li class="listitem"><p>
            Use a <a class="link" href="server-administration.html#option_mysqld_datadir"><code class="option">--datadir</code></a> option to
            specify the new data directory location each time you start
            the server.
</p></li></ol>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="windows-select-server"></a>2.3.5.3. Selecting a MySQL Server Type</h4>

</div>

</div>

</div>
<p>
        The following table shows the available servers for Windows in
        MySQL 5.6.
</p>
<div class="informaltable">
<table summary="This table shows the available servers for Windows in
          MySQL 5.6." border="1"><colgroup><col><col></colgroup><thead><tr><th scope="col">Binary</th><th scope="col">Description</th></tr></thead><tbody><tr><td scope="row"><a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a></td><td>Optimized binary with named-pipe support</td></tr><tr><td scope="row"><a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld-debug</strong></span></a></td><td>Like <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>, but compiled with full debugging and
automatic memory allocation checking</td></tr></tbody></table>
</div>
<p>
        All of the preceding binaries are optimized for modern Intel
        processors, but should work on any Intel i386-class or higher
        processor.
      </p><p>
        Each of the servers in a distribution support the same set of
        storage engines. The <a class="link" href="sql-syntax.html#show-engines" title="13.7.5.17. SHOW ENGINES Syntax"><code class="literal">SHOW ENGINES</code></a>
        statement displays which engines a given server supports.
      </p><p>
        All Windows MySQL 5.6 servers have support for
        symbolic linking of database directories.
      </p><a class="indexterm" name="idp3164944"></a><a class="indexterm" name="idp3166016"></a><p>
        MySQL supports TCP/IP on all Windows platforms. MySQL servers on
        Windows support named pipes as indicated in the following list.
        However, the default is to use TCP/IP regardless of platform.
        (Named pipes are slower than TCP/IP in many Windows
        configurations.)
      </p><p>
        Named pipes are enabled only if you start the server with the
        <a class="link" href="server-administration.html#option_mysqld_enable-named-pipe"><code class="option">--enable-named-pipe</code></a> option. It is
        necessary to use this option explicitly because some users have
        experienced problems with shutting down the MySQL server when
        named pipes were used.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="windows-server-first-start"></a>2.3.5.4. Starting the Server for the First Time</h4>

</div>

</div>

</div>
<p>
        This section gives a general overview of starting the MySQL
        server. The following sections provide more specific information
        for starting the MySQL server from the command line or as a
        Windows service.
      </p><p>
        The information here applies primarily if you installed MySQL
        using the <code class="literal">Noinstall</code> version, or if you wish
        to configure and test MySQL manually rather than with the GUI
        tools.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
          The MySQL server will automatically start after using the
          MySQL Installer, and the
          <a class="link" href="installing.html#windows-notifier" title="2.3.4. MySQL Notifier for Microsoft Windows">MySQL Notifier for Microsoft Windows</a> GUI can be
          used to start/stop/restart at any time.
</p>
</div>
<p>
        The examples in these sections assume that MySQL is installed
        under the default location of <code class="filename">C:\Program
        Files\MySQL\MySQL Server 5.6</code>. Adjust the
        path names shown in the examples if you have MySQL installed in
        a different location.
      </p><p>
        Clients have two options. They can use TCP/IP, or they can use a
        named pipe if the server supports named-pipe connections.
      </p><p>
        MySQL for Windows also supports shared-memory connections if the
        server is started with the
        <a class="link" href="server-administration.html#option_mysqld_shared-memory"><code class="option">--shared-memory</code></a> option. Clients
        can connect through shared memory by using the
        <a class="link" href="programs.html#option_general_protocol"><code class="option">--protocol=MEMORY</code></a> option.
      </p><p>
        For information about which server binary to run, see
        <a class="xref" href="installing.html#windows-select-server" title="2.3.5.3. Selecting a MySQL Server Type">Section 2.3.5.3, “Selecting a MySQL Server Type”</a>.
      </p><p>
        Testing is best done from a command prompt in a console window
        (or <span class="quote">“<span class="quote">DOS window</span>”</span>). In this way you can have the
        server display status messages in the window where they are easy
        to see. If something is wrong with your configuration, these
        messages make it easier for you to identify and fix any
        problems.
      </p><p>
        To start the server, enter this command:
      </p><pre class="programlisting">C:\&gt; <strong class="userinput"><code>"C:\Program Files\MySQL\MySQL Server 5.6\bin\mysqld" --console</code></strong>
</pre><p>
        For a server that includes <code class="literal">InnoDB</code> support,
        you should see the messages similar to those following as it
        starts (the path names and sizes may differ):
      </p><pre class="programlisting">InnoDB: The first specified datafile c:\ibdata\ibdata1 did not exist:
InnoDB: a new database to be created!
InnoDB: Setting file c:\ibdata\ibdata1 size to 209715200
InnoDB: Database physically writes the file full: wait...
InnoDB: Log file c:\iblogs\ib_logfile0 did not exist: new to be created
InnoDB: Setting log file c:\iblogs\ib_logfile0 size to 31457280
InnoDB: Log file c:\iblogs\ib_logfile1 did not exist: new to be created
InnoDB: Setting log file c:\iblogs\ib_logfile1 size to 31457280
InnoDB: Log file c:\iblogs\ib_logfile2 did not exist: new to be created
InnoDB: Setting log file c:\iblogs\ib_logfile2 size to 31457280
InnoDB: Doublewrite buffer not found: creating new
InnoDB: Doublewrite buffer created
InnoDB: creating foreign key constraint system tables
InnoDB: foreign key constraint system tables created
011024 10:58:25  InnoDB: Started</pre><p>
        When the server finishes its startup sequence, you should see
        something like this, which indicates that the server is ready to
        service client connections:
      </p><pre class="programlisting">mysqld: ready for connections
Version: '5.6.15'  socket: ''  port: 3306</pre><p>
        The server continues to write to the console any further
        diagnostic output it produces. You can open a new console window
        in which to run client programs.
      </p><p>
        If you omit the <a class="link" href="server-administration.html#option_mysqld_console"><code class="option">--console</code></a> option,
        the server writes diagnostic output to the error log in the data
        directory (<code class="filename">C:\Program Files\MySQL\MySQL Server
        5.6\data</code> by default). The error log is
        the file with the <code class="filename">.err</code> extension, and may
        be set using the <a class="link" href="server-administration.html#option_mysqld_log-error"><code class="option">--log-error</code></a>
        option.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
          The accounts that are listed in the MySQL grant tables
          initially have no passwords. After starting the server, you
          should set up passwords for them using the instructions in
          <a class="xref" href="installing.html#default-privileges" title="2.10.2. Securing the Initial MySQL Accounts">Section 2.10.2, “Securing the Initial MySQL Accounts”</a>.
</p>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="windows-start-command-line"></a>2.3.5.5. Starting MySQL from the Windows Command Line</h4>

</div>

</div>

</div>
<p>
        The MySQL server can be started manually from the command line.
        This can be done on any version of Windows.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
          The <a class="link" href="installing.html#windows-notifier" title="2.3.4. MySQL Notifier for Microsoft Windows">MySQL Notifier for Microsoft Windows</a> GUI
          can also be used to start/stop/restart the MySQL server.
</p>
</div>
<p>
        To start the <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> server from the command
        line, you should start a console window (or <span class="quote">“<span class="quote">DOS
        window</span>”</span>) and enter this command:
      </p><pre class="programlisting">C:\&gt; <strong class="userinput"><code>"C:\Program Files\MySQL\MySQL Server 5.6\bin\mysqld"</code></strong>
</pre><p>
        The path to <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> may vary depending on the
        install location of MySQL on your system.
      </p><p>
        You can stop the MySQL server by executing this command:
      </p><pre class="programlisting">C:\&gt; <strong class="userinput"><code>"C:\Program Files\MySQL\MySQL Server 5.6\bin\mysqladmin" -u root shutdown</code></strong>
</pre>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
          If the MySQL <code class="literal">root</code> user account has a
          password, you need to invoke <a class="link" href="programs.html#mysqladmin" title="4.5.2. mysqladmin — Client for Administering a MySQL Server"><span class="command"><strong>mysqladmin</strong></span></a>
          with the <code class="option">-p</code> option and supply the password
          when prompted.
</p>
</div>
<p>
        This command invokes the MySQL administrative utility
        <a class="link" href="programs.html#mysqladmin" title="4.5.2. mysqladmin — Client for Administering a MySQL Server"><span class="command"><strong>mysqladmin</strong></span></a> to connect to the server and tell
        it to shut down. The command connects as the MySQL
        <code class="literal">root</code> user, which is the default
        administrative account in the MySQL grant system. Note that
        users in the MySQL grant system are wholly independent from any
        login users under Windows.
      </p><p>
        If <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> doesn't start, check the error log
        to see whether the server wrote any messages there to indicate
        the cause of the problem. By default, the error log is located
        in the <code class="filename">C:\Program Files\MySQL\MySQL Server
        5.6\data</code> directory. It is the file with
        a suffix of <code class="filename">.err</code>, or may be specified by
        passing in the <a class="link" href="server-administration.html#option_mysqld_log-error"><code class="option">--log-error</code></a>
        option. Alternatively, you can try to start the server as
        <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld --console</strong></span></a>; in this case, you may get
        some useful information on the screen that may help solve the
        problem.
      </p><p>
        The last option is to start <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> with the
        <a class="link" href="server-administration.html#option_mysqld_standalone"><code class="option">--standalone</code></a> and
        <a class="link" href="server-administration.html#option_mysqld_debug"><code class="option">--debug</code></a> options. In this case,
        <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> writes a log file
        <code class="filename">C:\mysqld.trace</code> that should contain the
        reason why <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> doesn't start. See
        <a class="xref" href="extending-mysql.html#dbug-package" title="23.4.3. The DBUG Package">Section 23.4.3, “The DBUG Package”</a>.
      </p><p>
        Use <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld --verbose --help</strong></span></a> to display all
        the options that <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> supports.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-installation-windows-path"></a>2.3.5.6. Customizing the PATH for MySQL Tools</h4>

</div>

</div>

</div>
<p>
        To make it easier to invoke MySQL programs, you can add the path
        name of the MySQL <code class="filename">bin</code> directory to your
        Windows system <code class="literal">PATH</code> environment variable:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            On the Windows desktop, right-click the <span class="guiicon">My
            Computer</span> icon, and select
            <span class="guimenuitem">Properties</span>.
          </p></li><li class="listitem"><p>
            Next select the <span class="guimenuitem">Advanced</span> tab from
            the <span class="guimenu">System Properties</span> menu that appears,
            and click the <span class="guibutton">Environment Variables</span>
            button.
          </p></li><li class="listitem"><p>
            Under <span class="guilabel">System Variables</span>, select
            <span class="guimenuitem">Path</span>, and then click the
            <span class="guibutton">Edit</span> button. The <span class="guimenu">Edit System
            Variable</span> dialogue should appear.
          </p></li><li class="listitem"><p>
            Place your cursor at the end of the text appearing in the
            space marked <span class="guilabel">Variable Value</span>. (Use the
            <span class="keycap"><strong>End</strong></span> key to ensure that your cursor is
            positioned at the very end of the text in this space.) Then
            enter the complete path name of your MySQL
            <code class="filename">bin</code> directory (for example,
            <code class="literal">C:\Program Files\MySQL\MySQL Server
            5.6\bin</code>)
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
              There must be a semicolon separating this path from any
              values present in this field.
</p>
</div>
<p>
            Dismiss this dialogue, and each dialogue in turn, by
            clicking <span class="guibutton">OK</span> until all of the
            dialogues that were opened have been dismissed. You should
            now be able to invoke any MySQL executable program by typing
            its name at the DOS prompt from any directory on the system,
            without having to supply the path. This includes the
            servers, the <a class="link" href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span class="command"><strong>mysql</strong></span></a> client, and all MySQL
            command-line utilities such as <a class="link" href="programs.html#mysqladmin" title="4.5.2. mysqladmin — Client for Administering a MySQL Server"><span class="command"><strong>mysqladmin</strong></span></a>
            and <a class="link" href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span class="command"><strong>mysqldump</strong></span></a>.
          </p><p>
            You should not add the MySQL <code class="filename">bin</code>
            directory to your Windows <code class="literal">PATH</code> if you are
            running multiple MySQL servers on the same machine.
</p></li></ul>
</div>
<div xmlns="http://www.w3.org/1999/xhtml" class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">
<div class="admon-title">
Warning
</div>
<p xmlns="">
          You must exercise great care when editing your system
          <code class="literal">PATH</code> by hand; accidental deletion or
          modification of any portion of the existing
          <code class="literal">PATH</code> value can leave you with a
          malfunctioning or even unusable system.
</p>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="windows-start-service"></a>2.3.5.7. Starting MySQL as a Windows Service</h4>

</div>

</div>

</div>
<p>
        On Windows, the recommended way to run MySQL is to install it as
        a Windows service, so that MySQL starts and stops automatically
        when Windows starts and stops. A MySQL server installed as a
        service can also be controlled from the command line using
        <span class="command"><strong>NET</strong></span> commands, or with the graphical
        <span class="command"><strong>Services</strong></span> utility. Generally, to install MySQL
        as a Windows service you should be logged in using an account
        that has administrator rights.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
          The <a class="link" href="installing.html#windows-notifier" title="2.3.4. MySQL Notifier for Microsoft Windows">MySQL Notifier for Microsoft Windows</a> GUI
          can also be used to monitor the status of the MySQL service.
</p>
</div>
<p>
        The <span class="command"><strong>Services</strong></span> utility (the Windows
        <span class="command"><strong>Service Control Manager</strong></span>) can be found in the
        Windows Control Panel (under <span class="guimenuitem">Administrative
        Tools</span> on Windows 2000, XP, Vista, and Server
        2003). To avoid conflicts, it is advisable to close the
        <span class="command"><strong>Services</strong></span> utility while performing server
        installation or removal operations from the command line.
</p>
<h5><a name="idp3254704"></a>
        Installing the service
</h5>
<p>
        Before installing MySQL as a Windows service, you should first
        stop the current server if it is running by using the following
        command:
      </p><pre class="programlisting">C:\&gt; <strong class="userinput"><code>"C:\Program Files\MySQL\MySQL Server 5.6\bin\mysqladmin"</code></strong>
          <strong class="userinput"><code>-u root shutdown</code></strong>
</pre>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
          If the MySQL <code class="literal">root</code> user account has a
          password, you need to invoke <a class="link" href="programs.html#mysqladmin" title="4.5.2. mysqladmin — Client for Administering a MySQL Server"><span class="command"><strong>mysqladmin</strong></span></a>
          with the <code class="option">-p</code> option and supply the password
          when prompted.
</p>
</div>
<p>
        This command invokes the MySQL administrative utility
        <a class="link" href="programs.html#mysqladmin" title="4.5.2. mysqladmin — Client for Administering a MySQL Server"><span class="command"><strong>mysqladmin</strong></span></a> to connect to the server and tell
        it to shut down. The command connects as the MySQL
        <code class="literal">root</code> user, which is the default
        administrative account in the MySQL grant system. Note that
        users in the MySQL grant system are wholly independent from any
        login users under Windows.
      </p><p>
        Install the server as a service using this command:
      </p><pre class="programlisting">C:\&gt; <strong class="userinput"><code>"C:\Program Files\MySQL\MySQL Server 5.6\bin\mysqld" --install</code></strong>
</pre><p>
        The service-installation command does not start the server.
        Instructions for that are given later in this section.
      </p><p>
        To make it easier to invoke MySQL programs, you can add the path
        name of the MySQL <code class="filename">bin</code> directory to your
        Windows system <code class="literal">PATH</code> environment variable:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            On the Windows desktop, right-click the <span class="guiicon">My
            Computer</span> icon, and select
            <span class="guimenuitem">Properties</span>.
          </p></li><li class="listitem"><p>
            Next select the <span class="guimenuitem">Advanced</span> tab from
            the <span class="guimenu">System Properties</span> menu that appears,
            and click the <span class="guibutton">Environment Variables</span>
            button.
          </p></li><li class="listitem"><p>
            Under <span class="guilabel">System Variables</span>, select
            <span class="guimenuitem">Path</span>, and then click the
            <span class="guibutton">Edit</span> button. The <span class="guimenu">Edit System
            Variable</span> dialogue should appear.
          </p></li><li class="listitem"><p>
            Place your cursor at the end of the text appearing in the
            space marked <span class="guilabel">Variable Value</span>. (Use the
            <span class="keycap"><strong>End</strong></span> key to ensure that your cursor is
            positioned at the very end of the text in this space.) Then
            enter the complete path name of your MySQL
            <code class="filename">bin</code> directory (for example,
            <code class="literal">C:\Program Files\MySQL\MySQL Server
            5.6\bin</code>), Note that there should be a
            semicolon separating this path from any values present in
            this field. Dismiss this dialogue, and each dialogue in
            turn, by clicking <span class="guibutton">OK</span> until all of the
            dialogues that were opened have been dismissed. You should
            now be able to invoke any MySQL executable program by typing
            its name at the DOS prompt from any directory on the system,
            without having to supply the path. This includes the
            servers, the <a class="link" href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span class="command"><strong>mysql</strong></span></a> client, and all MySQL
            command-line utilities such as <a class="link" href="programs.html#mysqladmin" title="4.5.2. mysqladmin — Client for Administering a MySQL Server"><span class="command"><strong>mysqladmin</strong></span></a>
            and <a class="link" href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span class="command"><strong>mysqldump</strong></span></a>.
          </p><p>
            You should not add the MySQL <code class="filename">bin</code>
            directory to your Windows <code class="literal">PATH</code> if you are
            running multiple MySQL servers on the same machine.
</p></li></ul>
</div>
<div xmlns="http://www.w3.org/1999/xhtml" class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">
<div class="admon-title">
Warning
</div>
<p xmlns="">
          You must exercise great care when editing your system
          <code class="literal">PATH</code> by hand; accidental deletion or
          modification of any portion of the existing
          <code class="literal">PATH</code> value can leave you with a
          malfunctioning or even unusable system.
</p>
</div>
<p>
        The following additional arguments can be used when installing
        the service:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            You can specify a service name immediately following the
            <code class="option">--install</code> option. The default service name
            is <code class="literal">MySQL</code>.
          </p></li><li class="listitem"><p>
            If a service name is given, it can be followed by a single
            option. By convention, this should be
            <a class="link" href="programs.html#option_general_defaults-file"><code class="option">--defaults-file=<em class="replaceable"><code>file_name</code></em></code></a>
            to specify the name of an option file from which the server
            should read options when it starts.
          </p><p>
            The use of a single option other than
            <a class="link" href="programs.html#option_general_defaults-file"><code class="option">--defaults-file</code></a> is possible
            but discouraged.
            <a class="link" href="programs.html#option_general_defaults-file"><code class="option">--defaults-file</code></a> is more
            flexible because it enables you to specify multiple startup
            options for the server by placing them in the named option
            file.
          </p></li><li class="listitem"><p>
            You can also specify a <code class="option">--local-service</code>
            option following the service name. This causes the server to
            run using the <code class="literal">LocalService</code> Windows
            account that has limited system privileges. This account is
            available only for Windows XP or newer. If both
            <a class="link" href="programs.html#option_general_defaults-file"><code class="option">--defaults-file</code></a> and
            <code class="option">--local-service</code> are given following the
            service name, they can be in any order.
</p></li></ul>
</div>
<p>
        For a MySQL server that is installed as a Windows service, the
        following rules determine the service name and option files that
        the server uses:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            If the service-installation command specifies no service
            name or the default service name (<code class="literal">MySQL</code>)
            following the <code class="option">--install</code> option, the server
            uses the a service name of <code class="literal">MySQL</code> and
            reads options from the <code class="literal">[mysqld]</code> group in
            the standard option files.
          </p></li><li class="listitem"><p>
            If the service-installation command specifies a service name
            other than <code class="literal">MySQL</code> following the
            <code class="option">--install</code> option, the server uses that
            service name. It reads options from the
            <code class="literal">[mysqld]</code> group and the group that has the
            same name as the service in the standard option files. This
            enables you to use the <code class="literal">[mysqld]</code> group for
            options that should be used by all MySQL services, and an
            option group with the service name for use by the server
            installed with that service name.
          </p></li><li class="listitem"><p>
            If the service-installation command specifies a
            <a class="link" href="programs.html#option_general_defaults-file"><code class="option">--defaults-file</code></a> option after
            the service name, the server reads options the same way as
            described in the previous item, except that it reads options
            only from the the named file and ignores the standard option
            files.
</p></li></ul>
</div>
<p>
        As a more complex example, consider the following command:
      </p><pre class="programlisting">C:\&gt; <strong class="userinput"><code>"C:\Program Files\MySQL\MySQL Server 5.6\bin\mysqld"</code></strong>
          <strong class="userinput"><code>--install MySQL --defaults-file=C:\my-opts.cnf</code></strong>
</pre><p>
        Here, the default service name (<code class="literal">MySQL</code>) is
        given after the <code class="option">--install</code> option. If no
        <a class="link" href="programs.html#option_general_defaults-file"><code class="option">--defaults-file</code></a> option had been
        given, this command would have the effect of causing the server
        to read the <code class="literal">[mysqld]</code> group from the standard
        option files. However, because the
        <a class="link" href="programs.html#option_general_defaults-file"><code class="option">--defaults-file</code></a> option is
        present, the server reads options from the
        <code class="literal">[mysqld]</code> option group, and only from the
        named file.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
          On Windows, if the server is started with the
          <a class="link" href="programs.html#option_general_defaults-file"><code class="option">--defaults-file</code></a> and
          <a class="link" href="server-administration.html#option_mysqld_install"><code class="option">--install</code></a> options,
          <a class="link" href="server-administration.html#option_mysqld_install"><code class="option">--install</code></a> must be first.
          Otherwise, <code class="literal">mysqld.exe</code> will attempt to start
          the MySQL server.
</p>
</div>
<p>
        You can also specify options as Start parameters in the Windows
        <span class="command"><strong>Services</strong></span> utility before you start the MySQL
        service.
</p>
<h5><a name="idp3323552"></a>
        Starting the service
</h5>
<p>
        Once a MySQL server has been installed as a service, Windows
        starts the service automatically whenever Windows starts. The
        service also can be started immediately from the
        <span class="command"><strong>Services</strong></span> utility, or by using a <span class="command"><strong>NET
        START MySQL</strong></span> command. The <span class="command"><strong>NET</strong></span>
        command is not case sensitive.
      </p><p>
        When run as a service, <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> has no access
        to a console window, so no messages can be seen there. If
        <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> does not start, check the error log to
        see whether the server wrote any messages there to indicate the
        cause of the problem. The error log is located in the MySQL data
        directory (for example, <code class="filename">C:\Program Files\MySQL\MySQL
        Server 5.6\data</code>). It is the file with a
        suffix of <code class="filename">.err</code>.
      </p><p>
        When a MySQL server has been installed as a service, and the
        service is running, Windows stops the service automatically when
        Windows shuts down. The server also can be stopped manually by
        using the <code class="literal">Services</code> utility, the <span class="command"><strong>NET
        STOP MySQL</strong></span> command, or the <a class="link" href="programs.html#mysqladmin" title="4.5.2. mysqladmin — Client for Administering a MySQL Server"><span class="command"><strong>mysqladmin
        shutdown</strong></span></a> command.
      </p><p>
        You also have the choice of installing the server as a manual
        service if you do not wish for the service to be started
        automatically during the boot process. To do this, use the
        <code class="option">--install-manual</code> option rather than the
        <code class="option">--install</code> option:
      </p><pre class="programlisting">C:\&gt; <strong class="userinput"><code>"C:\Program Files\MySQL\MySQL Server 5.6\bin\mysqld" --install-manual</code></strong>
</pre>
<h5><a name="idp3336576"></a>
        Removing the service
</h5>
<p>
        To remove a server that is installed as a service, first stop it
        if it is running by executing <span class="command"><strong>NET STOP MySQL</strong></span>.
        Then use the <a class="link" href="server-administration.html#option_mysqld_remove"><code class="option">--remove</code></a> option to
        remove it:
      </p><pre class="programlisting">C:\&gt; <strong class="userinput"><code>"C:\Program Files\MySQL\MySQL Server 5.6\bin\mysqld" --remove</code></strong>
</pre><p>
        If <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> is not running as a service, you
        can start it from the command line. For instructions, see
        <a class="xref" href="installing.html#windows-start-command-line" title="2.3.5.5. Starting MySQL from the Windows Command Line">Section 2.3.5.5, “Starting MySQL from the Windows Command Line”</a>.
      </p><p>
        If you encounter difficulties during installation. see
        <a class="xref" href="installing.html#windows-troubleshooting" title="2.3.6. Troubleshooting a Microsoft Windows MySQL Server Installation">Section 2.3.6, “Troubleshooting a Microsoft Windows MySQL Server Installation”</a>.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="windows-testing"></a>2.3.5.8. Testing The MySQL Installation</h4>

</div>

</div>

</div>
<a class="indexterm" name="idp3344592"></a><a class="indexterm" name="idp3345664"></a><p>
        You can test whether the MySQL server is working by executing
        any of the following commands:
      </p><pre class="programlisting">C:\&gt; <strong class="userinput"><code>"C:\Program Files\MySQL\MySQL Server 5.6\bin\mysqlshow"</code></strong>
C:\&gt; <strong class="userinput"><code>"C:\Program Files\MySQL\MySQL Server 5.6\bin\mysqlshow" -u root mysql</code></strong>
C:\&gt; <strong class="userinput"><code>"C:\Program Files\MySQL\MySQL Server 5.6\bin\mysqladmin" version status proc</code></strong>
C:\&gt; <strong class="userinput"><code>"C:\Program Files\MySQL\MySQL Server 5.6\bin\mysql" test</code></strong>
</pre><p>
        If <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> is slow to respond to TCP/IP
        connections from client programs, there is probably a problem
        with your DNS. In this case, start <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>
        with the <a class="link" href="server-administration.html#option_mysqld_skip-name-resolve"><code class="option">--skip-name-resolve</code></a>
        option and use only <code class="literal">localhost</code> and IP
        addresses in the <code class="literal">Host</code> column of the MySQL
        grant tables.
      </p><p>
        You can force a MySQL client to use a named-pipe connection
        rather than TCP/IP by specifying the
        <a class="link" href="programs.html#option_general_pipe"><code class="option">--pipe</code></a> or
        <a class="link" href="programs.html#option_general_protocol"><code class="option">--protocol=PIPE</code></a> option, or by
        specifying <code class="literal">.</code> (period) as the host name. Use
        the <a class="link" href="programs.html#option_general_socket"><code class="option">--socket</code></a> option to specify
        the name of the pipe if you do not want to use the default pipe
        name.
      </p><p>
        Note that if you have set a password for the
        <code class="literal">root</code> account, deleted the anonymous account,
        or created a new user account, then you must use the appropriate
        <code class="option">-u</code> and <code class="option">-p</code> options with the
        commands shown above to connect with the MySQL Server. See
        <a class="xref" href="programs.html#connecting" title="4.2.2. Connecting to the MySQL Server">Section 4.2.2, “Connecting to the MySQL Server”</a>.
      </p><p>
        For more information about <a class="link" href="programs.html#mysqlshow" title="4.5.6. mysqlshow — Display Database, Table, and Column Information"><span class="command"><strong>mysqlshow</strong></span></a>, see
        <a class="xref" href="programs.html#mysqlshow" title="4.5.6. mysqlshow — Display Database, Table, and Column Information">Section 4.5.6, “<span class="command"><strong>mysqlshow</strong></span> — Display Database, Table, and Column Information”</a>.
</p>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="windows-troubleshooting"></a>2.3.6. Troubleshooting a Microsoft Windows MySQL Server Installation</h3>

</div>

</div>

</div>
<p>
      When installing and running MySQL for the first time, you may
      encounter certain errors that prevent the MySQL server from
      starting. This section helps you diagnose and correct some of
      these errors.
    </p><p>
      Your first resource when troubleshooting server issues is the
      <a class="link" href="glossary.html#glos_error_log" title="error log">error log</a>. The MySQL server
      uses the error log to record information relevant to the error
      that prevents the server from starting. The error log is located
      in the <a class="link" href="glossary.html#glos_data_directory" title="data directory">data directory</a>
      specified in your <code class="filename">my.ini</code> file. The default
      data directory location is <code class="filename">C:\Program Files\MySQL\MySQL
      Server 5.6\data</code>, or
      <code class="filename">C:\ProgramData\Mysql</code> on Windows 7 and Windows
      Server 2008. The <code class="filename">C:\ProgramData</code> directory is
      hidden by default. You need to change your folder options to see
      the directory and contents. For more information on the error log
      and understanding the content, see <a class="xref" href="server-administration.html#error-log" title="5.2.2. The Error Log">Section 5.2.2, “The Error Log”</a>.
    </p><p>
      For information regarding possible errors, also consult the
      console messages displayed when the MySQL service is starting. Use
      the <span class="command"><strong>NET START MySQL</strong></span> command from the command
      line after installing <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> as a service to
      see any error messages regarding the starting of the MySQL server
      as a service. See <a class="xref" href="installing.html#windows-start-service" title="2.3.5.7. Starting MySQL as a Windows Service">Section 2.3.5.7, “Starting MySQL as a Windows Service”</a>.
    </p><p>
      The following examples show other common error messages you might
      encounter when installing MySQL and starting the server for the
      first time:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          If the MySQL server cannot find the <code class="literal">mysql</code>
          privileges database or other critical files, it displays these
          messages:
        </p><pre class="programlisting">System error 1067 has occurred.
Fatal error: Can't open and lock privilege tables:
Table 'mysql.user' doesn't exist</pre><p>
          These messages often occur when the MySQL base or data
          directories are installed in different locations than the
          default locations (<code class="filename">C:\Program Files\MySQL\MySQL
          Server 5.6</code> and <code class="filename">C:\Program
          Files\MySQL\MySQL Server 5.6\data</code>,
          respectively).
        </p><p>
          This situation can occur when MySQL is upgraded and installed
          to a new location, but the configuration file is not updated
          to reflect the new location. In addition, old and new
          configuration files might conflict. Be sure to delete or
          rename any old configuration files when upgrading MySQL.
        </p><p>
          If you have installed MySQL to a directory other than
          <code class="filename">C:\Program Files\MySQL\MySQL Server
          5.6</code>, ensure that the MySQL server is
          aware of this through the use of a configuration
          (<code class="filename">my.ini</code>) file. Put the
          <code class="filename">my.ini</code> file in your Windows directory,
          typically <code class="filename">C:\WINDOWS</code>. To determine its
          exact location from the value of the <code class="literal">WINDIR</code>
          environment variable, issue the following command from the
          command prompt:
        </p><pre class="programlisting">C:\&gt; <strong class="userinput"><code>echo %WINDIR%</code></strong>
</pre><p>
          You can create or modify an option file with any text editor,
          such as Notepad. For example, if MySQL is installed in
          <code class="filename">E:\mysql</code> and the data directory is
          <code class="filename">D:\MySQLdata</code>, you can create the option
          file and set up a <code class="literal">[mysqld]</code> section to
          specify values for the <code class="option">basedir</code> and
          <code class="option">datadir</code> options:
        </p><pre class="programlisting">[mysqld]
# set basedir to your installation path
basedir=E:/mysql
# set datadir to the location of your data directory
datadir=D:/MySQLdata</pre><p>
          Note that Windows path names are specified in option files
          using (forward) slashes rather than backslashes. If you do use
          backslashes, double them:
        </p><pre class="programlisting">[mysqld]
# set basedir to your installation path
basedir=C:\\Program Files\\MySQL\\MySQL Server 5.6
# set datadir to the location of your data directory
datadir=D:\\MySQLdata</pre><p>
          The rules for use of backslash in option file values are given
          in <a class="xref" href="programs.html#option-files" title="4.2.3.3. Using Option Files">Section 4.2.3.3, “Using Option Files”</a>.
        </p><p>
          If you change the <code class="option">datadir</code> value in your MySQL
          configuration file, you must move the contents of the existing
          MySQL data directory before restarting the MySQL server.
        </p><p>
          See <a class="xref" href="installing.html#windows-create-option-file" title="2.3.5.2. Creating an Option File">Section 2.3.5.2, “Creating an Option File”</a>.
        </p></li><li class="listitem"><p>
          If you reinstall or upgrade MySQL without first stopping and
          removing the existing MySQL service and install MySQL using
          the MySQL Installer, you might see this error:
        </p><pre class="programlisting">Error: Cannot create Windows service for MySql. Error: 0</pre><p>
          This occurs when the Configuration Wizard tries to install the
          service and finds an existing service with the same name.
        </p><p>
          One solution to this problem is to choose a service name other
          than <code class="literal">mysql</code> when using the configuration
          wizard. This enables the new service to be installed
          correctly, but leaves the outdated service in place. Although
          this is harmless, it is best to remove old services that are
          no longer in use.
        </p><p>
          To permanently remove the old <code class="literal">mysql</code>
          service, execute the following command as a user with
          administrative privileges, on the command line:
        </p><pre class="programlisting">C:\&gt; <strong class="userinput"><code>sc delete mysql</code></strong>
[SC] DeleteService SUCCESS
</pre><p>
          If the <code class="literal">sc</code> utility is not available for your
          version of Windows, download the <code class="literal">delsrv</code>
          utility from
          <a class="ulink" href="http://www.microsoft.com/windows2000/techinfo/reskit/tools/existing/delsrv-o.asp" target="_top">http://www.microsoft.com/windows2000/techinfo/reskit/tools/existing/delsrv-o.asp</a>
          and use the <code class="literal">delsrv mysql</code> syntax.
</p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="windows-upgrading"></a>2.3.7. Upgrading MySQL on Windows</h3>

</div>

</div>

</div>
<a class="indexterm" name="idp3406352"></a><p>
      This section lists some of the steps to take when upgrading MySQL
      on Windows.
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
          Review <a class="xref" href="installing.html#upgrading" title="2.11.1. Upgrading MySQL">Section 2.11.1, “Upgrading MySQL”</a>, for additional information
          on upgrading MySQL that is not specific to Windows.
        </p></li><li class="listitem"><p>
          Always back up your current MySQL installation before
          performing an upgrade. See <a class="xref" href="backup-and-recovery.html#backup-methods" title="7.2. Database Backup Methods">Section 7.2, “Database Backup Methods”</a>.
        </p></li><li class="listitem"><p>
          Download the latest Windows distribution of MySQL from
          <a class="ulink" href="http://dev.mysql.com/downloads/" target="_top">http://dev.mysql.com/downloads/</a>.
        </p></li><li class="listitem"><p>
          Before upgrading MySQL, stop the server. If the server is
          installed as a service, stop the service with the following
          command from the command prompt:
        </p><pre class="programlisting">C:\&gt; <strong class="userinput"><code>NET STOP MySQL</code></strong>
</pre><p>
          If you are not running the MySQL server as a service, use
          <a class="link" href="programs.html#mysqladmin" title="4.5.2. mysqladmin — Client for Administering a MySQL Server"><span class="command"><strong>mysqladmin</strong></span></a> to stop it. For example, before
          upgrading from MySQL 5.5 to 5.6,
          use <a class="link" href="programs.html#mysqladmin" title="4.5.2. mysqladmin — Client for Administering a MySQL Server"><span class="command"><strong>mysqladmin</strong></span></a> from MySQL 5.5
          as follows:
        </p><pre class="programlisting">C:\&gt; <strong class="userinput"><code>"C:\Program Files\MySQL\MySQL Server 5.5\bin\mysqladmin" -u root shutdown</code></strong>
</pre>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
            If the MySQL <code class="literal">root</code> user account has a
            password, invoke <a class="link" href="programs.html#mysqladmin" title="4.5.2. mysqladmin — Client for Administering a MySQL Server"><span class="command"><strong>mysqladmin</strong></span></a> with the
            <code class="option">-p</code> option and supply the password when
            prompted.
</p>
</div>
</li><li class="listitem"><p>
          Before upgrading to MySQL 5.6 from a version
          previous to 4.1.5, or from a version of MySQL installed from a
          Zip archive to a version of MySQL installed with the MySQL
          Installation Wizard, you must first manually remove the
          previous installation and MySQL service (if the server is
          installed as a service).
        </p><p>
          To remove the MySQL service, use the following command:
        </p><pre class="programlisting">C:\&gt; <strong class="userinput"><code>C:\mysql\bin\mysqld --remove</code></strong>
</pre><p>
          <span class="bold"><strong>If you do not remove the existing
          service, the MySQL Installation Wizard may fail to properly
          install the new MySQL service.</strong></span>
        </p></li><li class="listitem"><p>
          If you are using the MySQL Installer, start it as described in
          <a class="xref" href="installing.html#mysql-installer" title="2.3.3. Installing MySQL on Microsoft Windows Using MySQL Installer">Section 2.3.3, “Installing MySQL on Microsoft Windows Using MySQL Installer”</a>.
        </p></li><li class="listitem"><p>
          If you are installing MySQL from a Zip archive, extract the
          archive. You may either overwrite your existing MySQL
          installation (usually located at
          <code class="filename">C:\mysql</code>), or install it into a different
          directory, such as <code class="literal">C:\mysql5</code>. Overwriting
          the existing installation is recommended.
        </p></li><li class="listitem"><p>
          If you were running MySQL as a Windows service and you had to
          remove the service earlier in this procedure, reinstall the
          service. (See <a class="xref" href="installing.html#windows-start-service" title="2.3.5.7. Starting MySQL as a Windows Service">Section 2.3.5.7, “Starting MySQL as a Windows Service”</a>.)
        </p></li><li class="listitem"><p>
          Restart the server. For example, use <span class="command"><strong>NET START
          MySQL</strong></span> if you run MySQL as a service, or invoke
          <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> directly otherwise.
        </p></li><li class="listitem"><p>
          As Administrator, run <a class="link" href="programs.html#mysql-upgrade" title="4.4.7. mysql_upgrade — Check and Upgrade MySQL Tables"><span class="command"><strong>mysql_upgrade</strong></span></a> to
          check your tables, attempt to repair them if necessary, and
          update your grant tables if they have changed so that you can
          take advantage of any new capabilities. See
          <a class="xref" href="programs.html#mysql-upgrade" title="4.4.7. mysql_upgrade — Check and Upgrade MySQL Tables">Section 4.4.7, “<span class="command"><strong>mysql_upgrade</strong></span> — Check and Upgrade MySQL Tables”</a>.
        </p></li><li class="listitem"><p>
          If you encounter errors, see
          <a class="xref" href="installing.html#windows-troubleshooting" title="2.3.6. Troubleshooting a Microsoft Windows MySQL Server Installation">Section 2.3.6, “Troubleshooting a Microsoft Windows MySQL Server Installation”</a>.
</p></li></ol>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="windows-postinstallation"></a>2.3.8. Windows Postinstallation Procedures</h3>

</div>

</div>

</div>
<p>
      GUI tools exist that perform most of the tasks described below,
      including:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <a class="link" href="installing.html#mysql-installer" title="2.3.3. Installing MySQL on Microsoft Windows Using MySQL Installer">MySQL Installer</a>: Used to install
          and upgrade MySQL products.
        </p></li><li class="listitem"><p>
          <a class="link" href="workbench.html" title="Chapter 25. MySQL Workbench">MySQL Workbench</a>: Manages the
          MySQL server and edits SQL queries.
        </p></li><li class="listitem"><p>
          <a class="link" href="installing.html#windows-notifier" title="2.3.4. MySQL Notifier for Microsoft Windows">MySQL Notifier</a>:
          Starts, stops, or restarts the MySQL server, and monitors its
          status.
        </p></li><li class="listitem"><p>
          <a class="link" href="mysql-for-excel.html" title="Chapter 26. MySQL for Excel">MySQL for Excel</a>: Edits
          MySQL data with Microsoft Excel.
</p></li></ul>
</div>
<p>
      On Windows, you need not create the data directory and the grant
      tables. MySQL Windows distributions include the grant tables with
      a set of preinitialized accounts in the <code class="literal">mysql</code>
      database under the data directory. Regarding passwords, if you
      installed MySQL using the MySQL Installer, you may have already assigned
      passwords to the accounts. (See
      <a class="xref" href="installing.html#mysql-installer" title="2.3.3. Installing MySQL on Microsoft Windows Using MySQL Installer">Section 2.3.3, “Installing MySQL on Microsoft Windows Using MySQL Installer”</a>.) Otherwise, use the
      password-assignment procedure given in
      <a class="xref" href="installing.html#default-privileges" title="2.10.2. Securing the Initial MySQL Accounts">Section 2.10.2, “Securing the Initial MySQL Accounts”</a>.
    </p><p>
      Before setting up passwords, you might want to try running some
      client programs to make sure that you can connect to the server
      and that it is operating properly. Make sure that the server is
      running (see <a class="xref" href="installing.html#windows-server-first-start" title="2.3.5.4. Starting the Server for the First Time">Section 2.3.5.4, “Starting the Server for the First Time”</a>), and
      then issue the following commands to verify that you can retrieve
      information from the server. You may need to specify directory
      different from <code class="filename">C:\mysql\bin</code> on the command
      line. If you used the MySQL Installer, the default directory is
      <code class="filename">C:\Program Files\MySQL\MySQL Server
      5.6</code>, and the <a class="link" href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span class="command"><strong>mysql</strong></span></a> and
      <a class="link" href="programs.html#mysqlshow" title="4.5.6. mysqlshow — Display Database, Table, and Column Information"><span class="command"><strong>mysqlshow</strong></span></a> client programs are in
      <code class="filename">C:\Program Files\MySQL\MySQL Server
      5.6\bin</code>. See
      <a class="xref" href="installing.html#mysql-installer" title="2.3.3. Installing MySQL on Microsoft Windows Using MySQL Installer">Section 2.3.3, “Installing MySQL on Microsoft Windows Using MySQL Installer”</a>, for more information.
    </p><p>
      Use <a class="link" href="programs.html#mysqlshow" title="4.5.6. mysqlshow — Display Database, Table, and Column Information"><span class="command"><strong>mysqlshow</strong></span></a> to see what databases exist:
    </p><pre class="programlisting">C:\&gt; <strong class="userinput"><code>C:\mysql\bin\mysqlshow</code></strong>
+--------------------+
|     Databases      |
+--------------------+
| information_schema |
| mysql              |
| test               |
+--------------------+
</pre><p>
      The list of installed databases may vary, but will always include
      the minimum of <code class="literal">mysql</code> and
      <code class="literal">information_schema</code>. In most cases, the
      <code class="literal">test</code> database will also be installed
      automatically.
    </p><p>
      The preceding command (and commands for other MySQL programs such
      as <a class="link" href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span class="command"><strong>mysql</strong></span></a>) may not work if the correct MySQL
      account does not exist. For example, the program may fail with an
      error, or you may not be able to view all databases. If you
      installed using MySQL Installer, then the <code class="literal">root</code> user will
      have been created automatically with the password you supplied. In
      this case, you should use the <code class="option">-u root</code> and
      <code class="option">-p</code> options. (You will also need to use the
      <code class="option">-u root</code> and <code class="option">-p</code> options if you
      have already secured the initial MySQL accounts.) With
      <code class="option">-p</code>, you will be prompted for the
      <code class="literal">root</code> password. For example:
    </p><pre class="programlisting">C:\&gt; <strong class="userinput"><code>C:\mysql\bin\mysqlshow -u root -p</code></strong>
Enter password: <em class="replaceable"><code>(enter root password here)</code></em>
+--------------------+
|     Databases      |
+--------------------+
| information_schema |
| mysql              |
| test               |
+--------------------+
</pre><p>
      If you specify a database name, <a class="link" href="programs.html#mysqlshow" title="4.5.6. mysqlshow — Display Database, Table, and Column Information"><span class="command"><strong>mysqlshow</strong></span></a>
      displays a list of the tables within the database:
    </p><pre class="programlisting">C:\&gt; <strong class="userinput"><code>C:\mysql\bin\mysqlshow mysql</code></strong>
Database: mysql
+---------------------------+
|          Tables           |
+---------------------------+
| columns_priv              |
| db                        |
| event                     |
| func                      |
| help_category             |
| help_keyword              |
| help_relation             |
| help_topic                |
| host                      |
| plugin                    |
| proc                      |
| procs_priv                |
| servers                   |
| tables_priv               |
| time_zone                 |
| time_zone_leap_second     |
| time_zone_name            |
| time_zone_transition      |
| time_zone_transition_type |
| user                      |
+---------------------------+
</pre><p>
      Use the <a class="link" href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span class="command"><strong>mysql</strong></span></a> program to select information
      from a table in the <code class="literal">mysql</code> database:
    </p><pre class="programlisting">C:\&gt; <strong class="userinput"><code>C:\mysql\bin\mysql -e "SELECT Host,Db,User FROM mysql.db"</code></strong>
+------+--------+------+
| host | db     | user |
+------+--------+------+
| %    | test   |      |
| %    | test_% |      |
+------+--------+------+
</pre><p>
      For more information about <a class="link" href="programs.html#mysqlshow" title="4.5.6. mysqlshow — Display Database, Table, and Column Information"><span class="command"><strong>mysqlshow</strong></span></a> and
      <a class="link" href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span class="command"><strong>mysql</strong></span></a>, see <a class="xref" href="programs.html#mysqlshow" title="4.5.6. mysqlshow — Display Database, Table, and Column Information">Section 4.5.6, “<span class="command"><strong>mysqlshow</strong></span> — Display Database, Table, and Column Information”</a>, and
      <a class="xref" href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool">Section 4.5.1, “<span class="command"><strong>mysql</strong></span> — The MySQL Command-Line Tool”</a>.
    </p><p>
      If you are running a version of Windows that supports services,
      you can set up the MySQL server to run automatically when Windows
      starts. See <a class="xref" href="installing.html#windows-start-service" title="2.3.5.7. Starting MySQL as a Windows Service">Section 2.3.5.7, “Starting MySQL as a Windows Service”</a>.
</p>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both"><a name="macosx-installation"></a>2.4. Installing MySQL on Mac OS X</h2>

</div>

</div>

</div>
<div class="toc">
<dl><dt><span class="section"><a href="installing.html#macosx-installation-notes">2.4.1. General Notes on Installing MySQL on Mac OS X</a></span></dt><dt><span class="section"><a href="installing.html#macosx-installation-pkg">2.4.2. Installing MySQL on Mac OS X Using Native Packages</a></span></dt><dt><span class="section"><a href="installing.html#macosx-installation-startupitem">2.4.3. Installing the MySQL Startup Item</a></span></dt><dt><span class="section"><a href="installing.html#macosx-installation-prefpane">2.4.4. Installing and Using the MySQL Preference Pane</a></span></dt><dt><span class="section"><a href="installing.html#macosx-installation-server">2.4.5. Using the Bundled MySQL on Mac OS X Server</a></span></dt></dl>
</div>
<a class="indexterm" name="idp3480896"></a><a class="indexterm" name="idp3482384"></a><p>
    MySQL for Mac OS X is available in a number of different forms:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
        Native Package Installer format, which uses the native Mac OS X
        installer to walk you through the installation of MySQL. For
        more information, see <a class="xref" href="installing.html#macosx-installation-pkg" title="2.4.2. Installing MySQL on Mac OS X Using Native Packages">Section 2.4.2, “Installing MySQL on Mac OS X Using Native Packages”</a>.
        You can use the package installer with Mac OS X 10.3 and later,
        and the package is available for both PowerPC and Intel
        architectures, and 32-bit and 64-bit architectures. There is no
        Universal Binary available using the package installation
        method. The user you use to perform the installation must have
        administrator privileges.
      </p></li><li class="listitem"><p>
        Tar package format, which uses a file packaged using the Unix
        <span class="command"><strong>tar</strong></span> and <span class="command"><strong>gzip</strong></span> commands. To
        use this method, you will need to open a
        <span class="command"><strong>Terminal</strong></span> window. You do not need
        administrator privileges using this method, as you can install
        the MySQL server anywhere using this method. For more
        information on using this method, you can use the generic
        instructions for using a tarball,
        <a class="xref" href="installing.html#binary-installation" title="2.2. Installing MySQL on Unix/Linux Using Generic Binaries">Section 2.2, “Installing MySQL on Unix/Linux Using Generic Binaries”</a>.You can use the package
        installer with Mac OS X 10.3 and later, and available for both
        PowerPC and Intel architectures, and both 32-bit and 64-bit
        architectures. A Universal Binary, incorporating both Power PC
        and Intel architectures and 32-bit and 64-bit binaries is
        available.
      </p><p>
        In addition to the core installation, the Package Installer also
        includes <a class="xref" href="installing.html#macosx-installation-startupitem" title="2.4.3. Installing the MySQL Startup Item">Section 2.4.3, “Installing the MySQL Startup Item”</a> and
        <a class="xref" href="installing.html#macosx-installation-prefpane" title="2.4.4. Installing and Using the MySQL Preference Pane">Section 2.4.4, “Installing and Using the MySQL Preference Pane”</a>, both of which
        simplify the management of your installation.
      </p></li><li class="listitem"><p>
        Mac OS X server includes a version of MySQL as standard. If you
        want to use a more recent version than that supplied with the
        Mac OS X server release, you can make use of the package or tar
        formats. For more information on using the MySQL bundled with
        Mac OS X, see <a class="xref" href="installing.html#macosx-installation-server" title="2.4.5. Using the Bundled MySQL on Mac OS X Server">Section 2.4.5, “Using the Bundled MySQL on Mac OS X Server”</a>.
</p></li></ul>
</div>
<p>
    For additional information on using MySQL on Mac OS X, see
    <a class="xref" href="installing.html#macosx-installation-notes" title="2.4.1. General Notes on Installing MySQL on Mac OS X">Section 2.4.1, “General Notes on Installing MySQL on Mac OS X”</a>.
</p>
<div class="section">

<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="macosx-installation-notes"></a>2.4.1. General Notes on Installing MySQL on Mac OS X</h3>
</div>
</div>
</div>
<p>
      You should keep the following issues and notes in mind:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          The default location for the MySQL Unix socket is different on
          Mac OS X and Mac OS X Server depending on the installation
          type you chose. The following table shows the default
          locations by installation type.
</p>
<div class="table">
<a name="idp3497808"></a><p class="title"><b>Table 2.5. MySQL Unix Socket Locations on Mac OS X by Installation Type</b></p>
<div class="table-contents">
<table summary="MySQL Unix Socket Locations on Mac OS X by Installation Type" border="1"><colgroup><col><col></colgroup><thead><tr><th scope="col">Installation Type</th><th scope="col">Socket Location</th></tr></thead><tbody><tr><td scope="row">Package Installer from MySQL</td><td><code class="filename">/tmp/mysql.sock</code></td></tr><tr><td scope="row">Tarball from MySQL</td><td><code class="filename">/tmp/mysql.sock</code></td></tr><tr><td scope="row">MySQL Bundled with Mac OS X Server</td><td><code class="filename">/var/mysql/mysql.sock</code></td></tr></tbody></table>
</div>

</div>
<br class="table-break"><p>
          To prevent issues, you should either change the configuration
          of the socket used within your application (for example,
          changing <code class="filename">php.ini</code>), or you should
          configure the socket location using a MySQL configuration file
          and the <a class="link" href="server-administration.html#option_mysqld_socket"><code class="option">socket</code></a> option. For more
          information, see <a class="xref" href="server-administration.html#server-options" title="5.1.3. Server Command Options">Section 5.1.3, “Server Command Options”</a>.
        </p></li><li class="listitem"><p>
          You may need (or want) to create a specific
          <code class="literal">mysql</code> user to own the MySQL directory and
          data. On Mac OS X 10.4 and lower you can do this by using the
          <span class="command"><strong>Netinfo Manager</strong></span> application, located within
          the <code class="filename">Utilities</code> folder within the
          <code class="filename">Applications</code> folder. On Mac OS X 10.5 and
          later you can do this through the <span class="command"><strong>Directory
          Utility</strong></span>. From Mac OS X 10.5 and later (including Mac
          OS X Server 10.5) the <code class="literal">mysql</code> should already
          exist. For use in single user mode, an entry for
          <code class="literal">_mysql</code> (note the underscore prefix) should
          already exist within the system
          <code class="filename">/etc/passwd</code> file.
        </p></li><li class="listitem"><p>
          Due to a bug in the Mac OS X package installer, you may see
          this error message in the destination disk selection dialog:
        </p><pre class="programlisting">You cannot install this software on this disk. (null)</pre><p>
          If this error occurs, click the <code class="literal">Go Back</code>
          button once to return to the previous screen. Then click
          <code class="literal">Continue</code> to advance to the destination disk
          selection again, and you should be able to choose the
          destination disk correctly. We have reported this bug to Apple
          and it is investigating this problem.
        </p></li><li class="listitem"><p>
          If you get an <span class="quote">“<span class="quote">insecure startup item disabled</span>”</span>
          error when MySQL launches, use the following procedure. Adjust
          the pathnames appropriately for your system.
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
              Modify the <span class="command"><strong>mysql.script</strong></span> using this
              command (enter it on a single line):
            </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>sudo /Applications/TextEdit.app/Contents/MacOS/TextEdit</code></strong>
  <strong class="userinput"><code>/usr/local/mysql/support-files/mysql.server</code></strong>
</pre></li><li class="listitem"><p>
              Locate the option file that defines the
              <code class="literal">basedir</code> value and modify it to contain
              these lines:
            </p><pre class="programlisting">basedir=/usr/local/mysql
datadir=/usr/local/mysql/data</pre><p>
              In the
              <code class="filename">/Library/StartupItems/MySQLCOM/</code>
              directory, make the following group ID changes from
              <code class="literal">staff</code> to <code class="literal">wheel</code>:
            </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>sudo chgrp wheel MySQLCOM StartupParameters.plist</code></strong>
</pre></li><li class="listitem"><p>
              Start the server from System Preferences or Terminal.app.
</p></li></ol>
</div>
</li><li class="listitem"><p>
          Because the MySQL package installer installs the MySQL
          contents into a version and platform specific directory, you
          can use this to upgrade and migrate your database between
          versions. You will need to either copy the
          <code class="filename">data</code> directory from the old version to
          the new version, or alternatively specify an alternative
          <code class="option">datadir</code> value to set location of the data
          directory.
        </p></li><li class="listitem"><p>
          You might want to add aliases to your shell's resource file to
          make it easier to access commonly used programs such as
          <a class="link" href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span class="command"><strong>mysql</strong></span></a> and <a class="link" href="programs.html#mysqladmin" title="4.5.2. mysqladmin — Client for Administering a MySQL Server"><span class="command"><strong>mysqladmin</strong></span></a>
          from the command line. The syntax for <span class="command"><strong>bash</strong></span>
          is:
        </p><pre class="programlisting">alias mysql=/usr/local/mysql/bin/mysql
alias mysqladmin=/usr/local/mysql/bin/mysqladmin</pre><p>
          For <span class="command"><strong>tcsh</strong></span>, use:
        </p><pre class="programlisting">alias mysql /usr/local/mysql/bin/mysql
alias mysqladmin /usr/local/mysql/bin/mysqladmin</pre><p>
          Even better, add <code class="literal">/usr/local/mysql/bin</code> to
          your <code class="literal">PATH</code> environment variable. You can do
          this by modifying the appropriate startup file for your shell.
          For more information, see <a class="xref" href="programs.html#invoking-programs" title="4.2.1. Invoking MySQL Programs">Section 4.2.1, “Invoking MySQL Programs”</a>.
        </p></li><li class="listitem"><p>
          After you have copied over the MySQL database files from the
          previous installation and have successfully started the new
          server, you should consider removing the old installation
          files to save disk space. Additionally, you should also remove
          older versions of the Package Receipt directories located in
          <code class="filename">/Library/Receipts/mysql-<em class="replaceable"><code>VERSION</code></em>.pkg</code>.
</p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="macosx-installation-pkg"></a>2.4.2. Installing MySQL on Mac OS X Using Native Packages</h3>

</div>

</div>

</div>
<p>
      You can install MySQL on Mac OS X 10.3.x (<span class="quote">“<span class="quote">Panther</span>”</span>)
      or newer using a Mac OS X binary package in DMG format instead of
      the binary tarball distribution. Please note that older versions
      of Mac OS X (for example, 10.1.x or 10.2.x) are
      <span class="emphasis"><em>not</em></span> supported by this package.
    </p><p>
      The package is located inside a disk image
      (<code class="literal">.dmg</code>) file that you first need to mount by
      double-clicking its icon in the Finder. It should then mount the
      image and display its contents.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
        Before proceeding with the installation, be sure to stop all
        running MySQL server instances by using either the MySQL Manager
        Application (on Mac OS X Server) or <a class="link" href="programs.html#mysqladmin" title="4.5.2. mysqladmin — Client for Administering a MySQL Server"><span class="command"><strong>mysqladmin
        shutdown</strong></span></a> on the command line.
</p>
</div>
<p>
      When installing from the package version, you should also install
      the MySQL Preference Pane, which will enable you to control the
      startup and execution of your MySQL server from System
      Preferences. For more information, see
      <a class="xref" href="installing.html#macosx-installation-prefpane" title="2.4.4. Installing and Using the MySQL Preference Pane">Section 2.4.4, “Installing and Using the MySQL Preference Pane”</a>.
    </p><p>
      When installing using the package installer, the files are
      installed into a directory within <code class="filename">/usr/local</code>
      matching the name of the installation version and platform. For
      example, the installer file
      <code class="filename">mysql-5.1.39-osx10.5-x86_64.pkg</code> installs
      MySQL into <code class="filename">/usr/local/mysql-5.1.39-osx10.5-x86_64
      </code>. The following table shows the layout of the
      installation directory.
</p>
<div class="table">
<a name="mysql-installation-layout-macosx"></a><p class="title"><b>Table 2.6. MySQL Installation Layout on Mac OS X</b></p>
<div class="table-contents">
<table summary="MySQL Installation Layout on Mac OS X" border="1"><colgroup><col><col></colgroup><thead><tr><th scope="col">Directory</th><th scope="col">Contents of Directory</th></tr></thead><tbody><tr><td scope="row"><code class="filename">bin</code></td><td>Client programs and the <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> server</td></tr><tr><td scope="row"><code class="filename">data</code></td><td>Log files, databases</td></tr><tr><td scope="row"><code class="filename">docs</code></td><td>Manual in Info format</td></tr><tr><td scope="row"><code class="filename">include</code></td><td>Include (header) files</td></tr><tr><td scope="row"><code class="filename">lib</code></td><td>Libraries</td></tr><tr><td scope="row"><code class="filename">man</code></td><td>Unix manual pages</td></tr><tr><td scope="row"><code class="filename">mysql-test</code></td><td>MySQL test suite</td></tr><tr><td scope="row"><code class="filename">scripts</code></td><td><a class="link" href="programs.html#mysql-install-db" title="4.4.3. mysql_install_db — Initialize MySQL Data Directory"><span class="command"><strong>mysql_install_db</strong></span></a></td></tr><tr><td scope="row"><code class="filename">share</code></td><td>Miscellaneous support files, including error messages, sample
configuration files, SQL for database installation</td></tr><tr><td scope="row"><code class="filename">sql-bench</code></td><td>Benchmarks</td></tr><tr><td scope="row"><code class="filename">support-files</code></td><td>Scripts and sample configuration files</td></tr><tr><td scope="row"><code class="filename">/tmp/mysql.sock</code></td><td>Location of the MySQL Unix socket</td></tr></tbody></table>
</div>

</div>
<br class="table-break"><p>
      During the package installer process, a symbolic link from
      <code class="filename">/usr/local/mysql</code> to the version/platform
      specific directory created during installation will be created
      automatically.
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
          Download and open the MySQL package installer, which is
          provided on a disk image (<code class="filename">.dmg</code>) that
          includes the main MySQL installation package, the
          <code class="filename">MySQLStartupItem.pkg</code> installation
          package, and the <code class="filename">MySQL.prefPane</code>.
          Double-click the disk image to open it.
        </p></li><li class="listitem"><p>
          Double-click the MySQL installer package. It will be named
          according to the version of MySQL you have downloaded. For
          example, if you have downloaded MySQL 5.1.39, double-click
          <code class="filename">mysql-5.1.39-osx10.5-x86.pkg</code>.
        </p></li><li class="listitem"><p>
          You will be presented with the opening installer dialog. Click
          <span class="guibutton">Continue</span> to begin installation.
</p>
<div class="mediaobject">
<img src="images/install-osx-pkg-1.png" width="623" height="443" alt="MySQL Package Installer: Step 1">
</div>
</li><li class="listitem"><p>
          A copy of the installation instructions and other important
          information relevant to this installation are displayed. Click
          <span class="guibutton">Continue</span> .
        </p></li><li class="listitem"><p>
          If you have downloaded the community version of MySQL, you
          will be shown a copy of the relevant GNU General Public
          License. Click <span class="guibutton">Continue</span> .
        </p></li><li class="listitem"><p>
          Select the drive you want to use to install the MySQL Startup
          Item. The drive must have a valid, bootable, Mac OS X
          operating system installed. Click
          <span class="guibutton">Continue</span>.
</p>
<div class="mediaobject">
<img src="images/install-osx-pkg-4.png" width="623" height="444" alt="MySQL Package Installer: Step 4">
</div>
</li><li class="listitem"><p>
          You will be asked to confirm the details of the installation,
          including the space required for the installation. To change
          the drive on which the startup item is installed, click either
          <span class="guibutton">Go Back</span> or <span class="guibutton">Change Install
          Location...</span>. To install the startup item, click
          <span class="guibutton">Install</span>.
        </p></li><li class="listitem"><p>
          Once the installation has been completed successfully, you
          will be shown an <span class="guilabel">Install Succeeded</span>
          message.
</p></li></ol>
</div>
<p>
      For convenience, you may also want to install the startup item and
      preference pane. See
      <a class="xref" href="installing.html#macosx-installation-startupitem" title="2.4.3. Installing the MySQL Startup Item">Section 2.4.3, “Installing the MySQL Startup Item”</a>, and
      <a class="xref" href="installing.html#macosx-installation-prefpane" title="2.4.4. Installing and Using the MySQL Preference Pane">Section 2.4.4, “Installing and Using the MySQL Preference Pane”</a>.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="macosx-installation-startupitem"></a>2.4.3. Installing the MySQL Startup Item</h3>

</div>

</div>

</div>
<p>
      The MySQL Installation Package includes a startup item that can be
      used to automatically start and stop MySQL.
    </p><p>
      To install the MySQL Startup Item:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
          Download and open the MySQL package installer, which is
          provided on a disk image (<code class="filename">.dmg</code>) that
          includes the main MySQL installation package, the
          <code class="filename">MySQLStartupItem.pkg</code> installation
          package, and the <code class="filename">MySQL.prefPane</code>.
          Double-click the disk image to open it.
        </p></li><li class="listitem"><p>
          Double-click the <code class="filename">MySQLStartItem.pkg</code> file
          to start the installation process.
        </p></li><li class="listitem"><p>
          You will be presented with the <span class="guilabel">Install MySQL Startup
          Item</span> dialog.
</p>
<div class="mediaobject">
<img src="images/install-osx-startup-1.png" width="621" height="441" alt="MySQL Startup Item Installer: Step 1">
</div>
<p>
          Click <span class="guibutton">Continue</span> to continue the
          installation process.
        </p></li><li class="listitem"><p>
          A copy of the installation instructions and other important
          information relevant to this installation are displayed. Click
          <span class="guibutton">Continue</span> .
        </p></li><li class="listitem"><p>
          Select the drive you want to use to install the MySQL Startup
          Item. The drive must have a valid, bootable, Mac OS X
          operating system installed. Click
          <span class="guibutton">Continue</span>.
</p>
<div class="mediaobject">
<img src="images/install-osx-startup-3.png" width="623" height="442" alt="MySQL Startup Item Installer: Step 3">
</div>
</li><li class="listitem"><p>
          You will be asked to confirm the details of the installation.
          To change the drive on which the startup item is installed,
          click either <span class="guibutton">Go Back</span> or
          <span class="guibutton">Change Install Location...</span>. To install
          the startup item, click <span class="guibutton">Install</span>.
        </p></li><li class="listitem"><p>
          Once the installation has been completed successfully, you
          will be shown an <span class="guilabel">Install Succeeded</span>
          message.
</p>
<div class="mediaobject">
<img src="images/install-osx-startup-5.png" width="622" height="442" alt="MySQL Startup Item Installer: Step 5">
</div>
</li></ol>
</div>
<p>
      The Startup Item for MySQL is installed into
      <code class="filename">/Library/StartupItems/MySQLCOM</code>. The Startup
      Item installation adds a variable
      <code class="literal">MYSQLCOM=-YES-</code> to the system configuration file
      <code class="filename">/etc/hostconfig</code>. If you want to disable the
      automatic startup of MySQL, change this variable to
      <code class="literal">MYSQLCOM=-NO-</code>.
    </p><p>
      After the installation, you can start and stop MySQL by running
      the following commands in a terminal window. You must have
      administrator privileges to perform these tasks, and you may be
      prompted for your password.
    </p><p>
      If you have installed the Startup Item, use this command to start
      the server:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>sudo /Library/StartupItems/MySQLCOM/MySQLCOM start</code></strong>
</pre><p>
      If you have installed the Startup Item, use this command to stop
      the server:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>sudo /Library/StartupItems/MySQLCOM/MySQLCOM stop</code></strong>
</pre>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="macosx-installation-prefpane"></a>2.4.4. Installing and Using the MySQL Preference Pane</h3>

</div>

</div>

</div>
<p>
      The MySQL Package installer disk image also includes a custom
      MySQL Preference Pane that enables you to start, stop, and control
      automated startup during boot of your MySQL installation.
    </p><p>
      To install the MySQL Preference Pane:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
          Download and open the MySQL package installer package, which
          is provided on a disk image (<code class="filename">.dmg</code>) that
          includes the main MySQL installation package, the
          <code class="filename">MySQLStartupItem.pkg</code> installation
          package, and the <code class="filename">MySQL.prefPane</code>.
          Double-click the disk image to open it.
        </p></li><li class="listitem"><p>
          Double-click the <code class="filename">MySQL.prefPane</code>. The
          MySQL System Preferences will open.
        </p></li><li class="listitem"><p>
          If this is the first time you have installed the preference
          pane, you will be asked to confirm installation and whether
          you want to install the preference pane for all users, or only
          the current user. To install the preference pane for all users
          you will need administrator privileges. If necessary, you will
          be prompted for the username and password for a user with
          administrator privileges.
        </p></li><li class="listitem"><p>
          If you already have the MySQL Preference Pane installed, you
          will be asked to confirm whether you want to overwrite the
          existing MySQL Preference Pane.
</p></li></ol>
</div>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<div class="admon-title">
Note
</div>
<p xmlns="">
        The MySQL Preference Pane only starts and stops MySQL
        installation installed from the MySQL package installation that
        have been installed in the default location.
</p>
</div>
<p>
      Once the MySQL Preference Pane has been installed, you can control
      your MySQL server instance using the preference pane. To use the
      preference pane, open the <span class="guilabel">System
      Preferences...</span> from the Apple menu. Select the MySQL
      preference pane by clicking the MySQL logo within the
      <span class="guilabel">Other</span> section of the preference panes list.
</p>
<div class="mediaobject">
<img src="images/install-osx-prefpane.png" width="669" height="333" alt="MySQL Preference Pane">
</div>
<p>
      The MySQL Preference Pane shows the current status of the MySQL
      server, showing <span class="guilabel">stopped</span> (in red) if the
      server is not running and <span class="guilabel">running</span> (in green)
      if the server has already been started. The preference pane also
      shows the current setting for whether the MySQL server has been
      set to start automatically.
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <span class="bold"><strong>To start MySQL using the preference
          pane: </strong></span>
        </p><p>
          Click <span class="guibutton">Start MySQL Server</span>. You may be
          prompted for the username and password of a user with
          administrator privileges to start the MySQL server.
        </p></li><li class="listitem"><p>
          <span class="bold"><strong>To stop MySQL using the preference pane:
          </strong></span>
        </p><p>
          Click <span class="guibutton">Stop MySQL Server</span>. You may be
          prompted for the username and password of a user with
          administrator privileges to stop the MySQL server.
        </p></li><li class="listitem"><p>
          <span class="bold"><strong>To automatically start the MySQL server
          when the system boots:</strong></span>
        </p><p>
          Check the check box next to <span class="guilabel">Automatically Start
          MySQL Server on Startup</span>.
        </p></li><li class="listitem"><p>
          <span class="bold"><strong>To disable automatic MySQL server
          startup when the system boots:</strong></span>
        </p><p>
          Uncheck the check box next to <span class="guilabel">Automatically Start
          MySQL Server on Startup</span>.
</p></li></ul>
</div>
<p>
      You can close the <span class="command"><strong>System Preferences...</strong></span> window
      once you have completed your settings.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="macosx-installation-server"></a>2.4.5. Using the Bundled MySQL on Mac OS X Server</h3>

</div>

</div>

</div>
<p>
      If you are running Mac OS X Server, a version of MySQL should
      already be installed. The following table shows the versions of
      MySQL that ship with Mac OS X Server versions.
</p>
<div class="table">
<a name="idp3690128"></a><p class="title"><b>Table 2.7. MySQL Versions Preinstalled with Mac OS X Server</b></p>
<div class="table-contents">
<table summary="MySQL Versions Preinstalled with Mac OS X Server" border="1"><colgroup><col><col></colgroup><thead><tr><th scope="col">Mac OS X Server Version</th><th scope="col">MySQL Version</th></tr></thead><tbody><tr><td scope="row">10.2-10.2.2</td><td>3.23.51</td></tr><tr><td scope="row">10.2.3-10.2.6</td><td>3.23.53</td></tr><tr><td scope="row">10.3</td><td>4.0.14</td></tr><tr><td scope="row">10.3.2</td><td>4.0.16</td></tr><tr><td scope="row">10.4.0</td><td>4.1.10a</td></tr><tr><td scope="row">10.5.0</td><td>5.0.45</td></tr><tr><td scope="row">10.6.0</td><td>5.0.82</td></tr></tbody></table>
</div>

</div>
<br class="table-break"><p>
      The following table shows the installation layout of MySQL on Mac
      OS X Server.
</p>
<div class="table">
<a name="idp3703568"></a><p class="title"><b>Table 2.8. MySQL Directory Layout for Preinstalled MySQL Installations on Mac OS X
Server</b></p>
<div class="table-contents">
<table summary="MySQL Directory Layout for Preinstalled MySQL Installations on Mac OS X
        Server" border="1"><colgroup><col><col></colgroup><thead><tr><th scope="col">Directory</th><th scope="col">Contents of Directory</th></tr></thead><tbody><tr><td scope="row"><code class="filename">/usr/bin</code></td><td>Client programs</td></tr><tr><td scope="row"><code class="filename">/var/mysql</code></td><td>Log files, databases</td></tr><tr><td scope="row"><code class="filename">/usr/libexec</code></td><td>The <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> server</td></tr><tr><td scope="row"><code class="filename">/usr/share/man</code></td><td>Unix manual pages</td></tr><tr><td scope="row"><code class="filename">/usr/share/mysql/mysql-test</code></td><td>MySQL test suite</td></tr><tr><td scope="row"><code class="filename">/usr/share/mysql</code></td><td>Miscellaneous support files, including error messages, character set
              files, sample configuration files, SQL for database
installation</td></tr><tr><td scope="row"><code class="filename">/var/mysql/mysql.sock</code></td><td>Location of the MySQL Unix socket</td></tr></tbody></table>
</div>

</div>
<br class="table-break">
<h4><a name="idp3720368"></a>
      Additional Resources
</h4>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          For more information on managing the bundled MySQL instance in
          Mac OS X Server 10.5, see
          <a class="ulink" href="http://images.apple.com/server/macosx/docs/Web_Technologies_Admin_v10.5.pdf" target="_top">Mac
          OS X Server: Web Technologies Administration For Version 10.5
          Leopard</a>.
        </p></li><li class="listitem"><p>
          For more information on managing the bundled MySQL instance in
          Mac OS X Server 10.6, see
          <a class="ulink" href="http://manuals.info.apple.com/en_US/WebTech_v10.6.pdf" target="_top">Mac
          OS X Server: Web Technologies Administration Version 10.6 Snow
          Leopard</a>.
        </p></li><li class="listitem"><p>
          The MySQL server bundled with Mac OS X Server does not include
          the MySQL client libraries and header files required to access
          and use MySQL from a third-party driver, such as Perl DBI or
          PHP. For more information on obtaining and installing MySQL
          libraries, see
          <a class="ulink" href="http://support.apple.com/kb/TA25017" target="_top">Mac OS X
          Server version 10.5: MySQL libraries available for
          download</a>. Alternatively, you can ignore the bundled
          MySQL server and install MySQL from the package or tarball
          installation.
</p></li></ul>
</div>

</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both"><a name="linux-installation"></a>2.5. Installing MySQL on Linux</h2>

</div>

</div>

</div>
<div class="toc">
<dl><dt><span class="section"><a href="installing.html#linux-installation-rpm">2.5.1. Installing MySQL on Linux Using RPM Packages</a></span></dt><dt><span class="section"><a href="installing.html#linux-installation-debian">2.5.2. Installing MySQL on Linux Using Debian Packages</a></span></dt><dt><span class="section"><a href="installing.html#linux-installation-native">2.5.3. Installing MySQL on Linux Using Native Package Managers</a></span></dt></dl>
</div>
<p>
    Linux supports a number of different solutions for installing MySQL.
    The recommended method is to use one of the distributions from
    Oracle. If you choose this method, there are several options
    available:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
        Installing from a generic binary package in
        <code class="filename">.tar.gz</code> format. See
        <a class="xref" href="installing.html#binary-installation" title="2.2. Installing MySQL on Unix/Linux Using Generic Binaries">Section 2.2, “Installing MySQL on Unix/Linux Using Generic Binaries”</a> for more information.
      </p></li><li class="listitem"><p>
        Extracting and compiling MySQL from a source distribution. For
        detailed instructions, see
        <a class="xref" href="installing.html#source-installation" title="2.9. Installing MySQL from Source">Section 2.9, “Installing MySQL from Source”</a>.
      </p></li><li class="listitem"><p>
        Installing using a precompiled RPM package. For more
        information, see <a class="xref" href="installing.html#linux-installation-rpm" title="2.5.1. Installing MySQL on Linux Using RPM Packages">Section 2.5.1, “Installing MySQL on Linux Using RPM Packages”</a>.
      </p></li><li class="listitem"><p>
        Installing using a precompiled Debian package. For more
        information, see <a class="xref" href="installing.html#linux-installation-debian" title="2.5.2. Installing MySQL on Linux Using Debian Packages">Section 2.5.2, “Installing MySQL on Linux Using Debian Packages”</a>.
</p></li></ul>
</div>
<p>
    As an alternative, you can use the native package manager within
    your Linux distribution to automatically download and install MySQL
    for you. Native package installations can take of the download and
    dependencies required to run MySQL, but the MySQL version will often
    be some versions behind the currently available release. You will
    also normally be unable to install development releases, as these
    are not usually made available in the native repository. For more
    information on using the native package installers, see
    <a class="xref" href="installing.html#linux-installation-native" title="2.5.3. Installing MySQL on Linux Using Native Package Managers">Section 2.5.3, “Installing MySQL on Linux Using Native Package Managers”</a>.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
      For many Linux installations, you will want to set up MySQL to be
      started automatically when your machine starts. Many of the native
      package installations perform this operation for you, but for
      source, binary and RPM solutions you may need to set this up
      separately. The required script, <a class="link" href="programs.html#mysql-server" title="4.3.3. mysql.server — MySQL Server Startup Script"><span class="command"><strong>mysql.server</strong></span></a>,
      can be found in the <code class="filename">support-files</code> directory
      under the MySQL installation directory or in a MySQL source tree.
      You can install it as <code class="filename">/etc/init.d/mysql</code> for
      automatic MySQL startup and shutdown. See
      <a class="xref" href="installing.html#automatic-start" title="2.10.1.2. Starting and Stopping MySQL Automatically">Section 2.10.1.2, “Starting and Stopping MySQL Automatically”</a>.
</p>
</div>

<div class="section">

<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="linux-installation-rpm"></a>2.5.1. Installing MySQL on Linux Using RPM Packages</h3>

</div>

</div>

</div>
<a class="indexterm" name="idp3742080"></a><a class="indexterm" name="idp3743152"></a><a class="indexterm" name="idp3744224"></a>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
        To install or upgrade to MySQL 5.6.11, be sure to read the
        special instructions at the end of this section.
</p>
</div>
<p>
      The recommended way to install MySQL on RPM-based Linux
      distributions is by using the RPM packages. The RPMs that we
      provide to the community should work on all versions of Linux that
      support RPM packages and use <code class="literal">glibc</code> 2.3. To
      obtain RPM packages, see <a class="xref" href="installing.html#getting-mysql" title="2.1.3. How to Get MySQL">Section 2.1.3, “How to Get MySQL”</a>.
    </p><p>
      For non-RPM Linux distributions, you can install MySQL using a
      <code class="filename">.tar.gz</code> package. See
      <a class="xref" href="installing.html#binary-installation" title="2.2. Installing MySQL on Unix/Linux Using Generic Binaries">Section 2.2, “Installing MySQL on Unix/Linux Using Generic Binaries”</a>.
    </p><p>
      Installations created from our Linux RPM distributions result in
      files under the system directories shown in the following table.
</p>
<div class="table">
<a name="mysql-installation-layout-linuxrpm"></a><p class="title"><b>Table 2.9. MySQL Installation Layout for Linux RPM Packages</b></p>
<div class="table-contents">
<table summary="MySQL Installation Layout for Linux RPM Packages" border="1"><colgroup><col><col></colgroup><thead><tr><th scope="col">Directory</th><th scope="col">Contents of Directory</th></tr></thead><tbody><tr><td scope="row"><code class="filename">/usr/bin</code></td><td>Client programs and scripts</td></tr><tr><td scope="row"><code class="filename">/usr/sbin</code></td><td>The <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> server</td></tr><tr><td scope="row"><code class="filename">/var/lib/mysql</code></td><td>Log files, databases</td></tr><tr><td scope="row"><code class="filename">/usr/share/info</code></td><td>Manual in Info format</td></tr><tr><td scope="row"><code class="filename">/usr/share/man</code></td><td>Unix manual pages</td></tr><tr><td scope="row"><code class="filename">/usr/include/mysql</code></td><td>Include (header) files</td></tr><tr><td scope="row"><code class="filename">/usr/lib/mysql</code></td><td>Libraries</td></tr><tr><td scope="row"><code class="filename">/usr/share/mysql</code></td><td>Miscellaneous support files, including error messages, character set
              files, sample configuration files, SQL for database
installation</td></tr><tr><td scope="row"><code class="filename">/usr/share/sql-bench</code></td><td>Benchmarks</td></tr></tbody></table>
</div>

</div>
<br class="table-break">
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
        RPM distributions of MySQL are also provided by other vendors.
        Be aware that they may differ from those built by us in
        features, capabilities, and conventions (including communication
        setup), and that the instructions in this manual do not
        necessarily apply to installing them. The vendor's instructions
        should be consulted instead. Because of these differences, RPM
        packages built by us check whether such RPMs built by other
        vendors are installed. If so, the RPM does not install and
        produces a message explaining this.
</p>
</div>
<p>
      In most cases, you need to install only the
      <code class="literal">MySQL-server</code> and
      <code class="literal">MySQL-client</code> packages to get a functional MySQL
      installation. The other packages are not required for a standard
      installation.
    </p><p>
      As of MySQL 5.6.8, new RPM install operations (not upgrades)
      invoke <a class="link" href="programs.html#mysql-install-db" title="4.4.3. mysql_install_db — Initialize MySQL Data Directory"><span class="command"><strong>mysql_install_db</strong></span></a> with the
      <code class="option">--random-passwords</code> option that provides for more
      secure MySQL installation. Invoking
      <a class="link" href="programs.html#mysql-install-db" title="4.4.3. mysql_install_db — Initialize MySQL Data Directory"><span class="command"><strong>mysql_install_db</strong></span></a> with
      <a class="link" href="programs.html#option_mysql_install_db_random-passwords"><code class="option">--random-passwords</code></a> causes
      it to assign a random password to the MySQL
      <code class="literal">root</code> accounts, set the <span class="quote">“<span class="quote">password
      expired</span>”</span> flag for those accounts, and remove the
      anonymous-user MySQL accounts. It will be necessary after
      installation to start the server, connect as
      <code class="literal">root</code> using the password written to the
      <code class="filename">$HOME/.mysql_secret</code> file, and assign a new
      <code class="literal">root</code> password. Until this is done,
      <code class="literal">root</code> cannot do anything else. This must be done
      for each <code class="literal">root</code> account you intend to use. To
      change the password, you can use the <a class="link" href="sql-syntax.html#set-password" title="13.7.1.7. SET PASSWORD Syntax"><code class="literal">SET
      PASSWORD</code></a> statement (for example, with the
      <a class="link" href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span class="command"><strong>mysql</strong></span></a> client). You can also use
      <a class="link" href="programs.html#mysqladmin" title="4.5.2. mysqladmin — Client for Administering a MySQL Server"><span class="command"><strong>mysqladmin</strong></span></a> or
      <a class="link" href="programs.html#mysql-secure-installation" title="4.4.5. mysql_secure_installation — Improve MySQL Installation Security"><span class="command"><strong>mysql_secure_installation</strong></span></a>. For additional
      details, see <a class="xref" href="programs.html#mysql-install-db" title="4.4.3. mysql_install_db — Initialize MySQL Data Directory">Section 4.4.3, “<span class="command"><strong>mysql_install_db</strong></span> — Initialize MySQL Data Directory”</a>. (Install
      operations using RPMs for Unbreakable Linux Network are unaffected
      because they do not use <a class="link" href="programs.html#mysql-install-db" title="4.4.3. mysql_install_db — Initialize MySQL Data Directory"><span class="command"><strong>mysql_install_db</strong></span></a>.)
    </p><p><b>RPMs for MySQL Cluster. </b>
        Standard MySQL server RPMs built by MySQL do not provide support
        for the <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDBCLUSTER</code></a> storage engine.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="important" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Important
</div>
<p xmlns="">
        When upgrading a MySQL Cluster RPM installation, you must
        upgrade <span class="emphasis"><em>all</em></span> installed RPMs, including the
        <code class="literal">Server</code> and <code class="literal">Client</code> RPMs.
</p>
</div>
<p>
      For more information about installing MySQL Cluster from RPMs, see
      <a class="xref" href="mysql-cluster.html#mysql-cluster-installation" title="17.2. MySQL Cluster Installation">Section 17.2, “MySQL Cluster Installation”</a>.
    </p><p>
      For upgrades, if your installation was originally produced by
      installing multiple RPM packages, it is best to upgrade all the
      packages, not just some. For example, if you previously installed
      the server and client RPMs, do not upgrade just the server RPM.
    </p><p>
      If you get a dependency failure when trying to install MySQL
      packages (for example, <code class="literal">error: removing these packages
      would break dependencies: libmysqlclient.so.10 is needed by
      ...</code>), you should also install the
      <code class="literal">MySQL-shared-compat</code> package, which includes the
      shared libraries for older releases for backward compatibility.
    </p><p>
      The RPM packages shown in the following list are available. The
      names shown here use a suffix of
      <code class="filename">.glibc23.i386.rpm</code>, but particular packages
      can have different suffixes, described later.
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <code class="literal">MySQL-server-<em class="replaceable"><code>VERSION</code></em>.glibc23.i386.rpm</code>
        </p><p>
          The MySQL server. You need this unless you only want to
          connect to a MySQL server running on another machine.
        </p></li><li class="listitem"><p>
          <code class="literal">MySQL-client-<em class="replaceable"><code>VERSION</code></em>.glibc23.i386.rpm</code>
        </p><p>
          The standard MySQL client programs. You probably always want
          to install this package.
        </p></li><li class="listitem"><p>
          <code class="literal">MySQL-devel-<em class="replaceable"><code>VERSION</code></em>.glibc23.i386.rpm</code>
        </p><p>
          The libraries and include files that are needed if to compile
          other MySQL clients, such as the Perl modules. Install this
          RPM if you intend to compile C API applications.
        </p></li><li class="listitem"><p>
          <code class="literal">MySQL-shared-<em class="replaceable"><code>VERSION</code></em>.glibc23.i386.rpm</code>
        </p><p>
          This package contains the shared libraries
          (<code class="literal">libmysqlclient.so*</code>) that certain languages
          and applications need to dynamically load and use MySQL. It
          contains single-threaded and thread-safe libraries. Install
          this RPM if you intend to compile or run C API applications
          that depend on the shared client library.
        </p></li><li class="listitem"><p>
          <code class="literal">MySQL-shared-compat-<em class="replaceable"><code>VERSION</code></em>.glibc23.i386.rpm</code>
        </p><p>
          This package includes the shared libraries for older releases,
          but not the libraries for the current release. It contains
          single-threaded and thread-safe libraries. Install this
          package if you have applications installed that are
          dynamically linked against older versions of MySQL but you
          want to upgrade to the current version without breaking the
          library dependencies.
        </p><p>
          As of MySQL 5.6.5, the <code class="literal">MySQL-shared-compat</code>
          RPM package enables users of Red Hat-provided
          <code class="literal">mysql-*-5.1</code> RPM packages to migrate to
          Oracle-provided <code class="literal">MySQL-*-5.5</code> packages.
          <code class="literal">MySQL-shared-compat</code> replaces the Red Hat
          <code class="literal">mysql-libs</code> package by replacing
          <code class="filename">libmysqlclient.so</code> files of the latter
          package, thus satisfying dependencies of other packages on
          <code class="literal">mysql-libs</code>. This change affects only users
          of Red Hat (or Red Hat-compatible) RPM packages. Nothing is
          different for users of Oracle RPM packages.
        </p></li><li class="listitem"><p>
          <code class="literal">MySQL-embedded-<em class="replaceable"><code>VERSION</code></em>.glibc23.i386.rpm</code>
        </p><p>
          The embedded MySQL server library.
        </p></li><li class="listitem"><p>
          <code class="literal">MySQL-test-<em class="replaceable"><code>VERSION</code></em>.glibc23.i386.rpm</code>
        </p><p>
          This package includes the MySQL test suite.
        </p></li><li class="listitem"><p>
          <code class="literal">MySQL-<em class="replaceable"><code>VERSION</code></em>.src.rpm</code>
        </p><p>
          This contains the source code for all of the previous
          packages. It can also be used to rebuild the RPMs on other
          architectures (for example, Alpha or SPARC).
</p></li></ul>
</div>
<p>
      The suffix of RPM package names (following the
      <em class="replaceable"><code>VERSION</code></em> value) has the following
      syntax:
    </p><pre class="programlisting">.<em class="replaceable"><code>PLATFORM</code></em>.<em class="replaceable"><code>CPU</code></em>.rpm
</pre><p>
      The <em class="replaceable"><code>PLATFORM</code></em> and
      <em class="replaceable"><code>CPU</code></em> values indicate the type of system
      for which the package is built.
      <em class="replaceable"><code>PLATFORM</code></em> indicates the platform and
      <em class="replaceable"><code>CPU</code></em> indicates the processor type or
      family.
    </p><p>
      All packages are dynamically linked against
      <code class="literal">glibc</code> 2.3. The
      <em class="replaceable"><code>PLATFORM</code></em> value indicates whether the
      package is platform independent or intended for a specific
      platform, as shown in the following table.
</p>
<div class="table">
<a name="idp3831696"></a><p class="title"><b>Table 2.10. MySQL Linux Installation Packages</b></p>
<div class="table-contents">
<table summary="MySQL Linux Installation Packages" border="1"><colgroup><col><col></colgroup><thead><tr><th scope="col"><em class="replaceable"><code>PLATFORM</code></em> Value</th><th scope="col">Intended Use</th></tr></thead><tbody><tr><td scope="row"><code class="literal">glibc23</code></td><td>Platform independent, should run on any Linux distribution that supports
<code class="literal">glibc</code> 2.3</td></tr><tr><td scope="row"><code class="literal">rhel4</code>, <code class="literal">rhel5</code></td><td>Red Hat Enterprise Linux 4 or 5</td></tr><tr><td scope="row"><code class="literal">el6</code></td><td>Enterprise Linux 6</td></tr><tr><td scope="row"><code class="literal">sles10</code>, <code class="literal">sles11</code></td><td>SuSE Linux Enterprise Server 10 or 11</td></tr></tbody></table>
</div>

</div>
<br class="table-break"><p>
      In MySQL 5.6, only <code class="literal">glibc23</code>
      packages are available currently.
    </p><p>
      The <em class="replaceable"><code>CPU</code></em> value indicates the processor
      type or family for which the package is built.
</p>
<div class="table">
<a name="idp3847120"></a><p class="title"><b>Table 2.11. MySQL Installation Packages for Linux CPU Identifiers</b></p>
<div class="table-contents">
<table summary="MySQL Installation Packages for Linux CPU Identifiers" border="1"><colgroup><col><col></colgroup><thead><tr><th scope="col"><em class="replaceable"><code>CPU</code></em> Value</th><th scope="col">Intended Processor Type or Family</th></tr></thead><tbody><tr><td scope="row"><code class="literal">i386</code>, <code class="literal">i586</code>,
<code class="literal">i686</code></td><td>Pentium processor or better, 32 bit</td></tr><tr><td scope="row"><code class="literal">x86_64</code></td><td>64-bit x86 processor</td></tr><tr><td scope="row"><code class="literal">ia64</code></td><td>Itanium (IA-64) processor</td></tr></tbody></table>
</div>

</div>
<br class="table-break"><p>
      To see all files in an RPM package (for example, a
      <code class="literal">MySQL-server</code> RPM), run a command like this:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>rpm -qpl MySQL-server-<em class="replaceable"><code>VERSION</code></em>.glibc23.i386.rpm</code></strong>
</pre><p>
      To perform a standard minimal installation, install the server and
      client RPMs:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>rpm -i MySQL-server-<em class="replaceable"><code>VERSION</code></em>.glibc23.i386.rpm</code></strong>
shell&gt; <strong class="userinput"><code>rpm -i MySQL-client-<em class="replaceable"><code>VERSION</code></em>.glibc23.i386.rpm</code></strong>
</pre><p>
      To install only the client programs, install just the client RPM:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>rpm -i MySQL-client-<em class="replaceable"><code>VERSION</code></em>.glibc23.i386.rpm</code></strong>
</pre><p>
      RPM provides a feature to verify the integrity and authenticity of
      packages before installing them. To learn more about this feature,
      see <a class="xref" href="installing.html#verifying-package-integrity" title="2.1.4. Verifying Package Integrity Using MD5 Checksums or GnuPG">Section 2.1.4, “Verifying Package Integrity Using MD5 Checksums or
      <code class="literal">GnuPG</code>”</a>.
    </p><p>
      The server RPM places data under the
      <code class="filename">/var/lib/mysql</code> directory. The RPM also
      creates a login account for a user named <code class="literal">mysql</code>
      (if one does not exist) to use for running the MySQL server, and
      creates the appropriate entries in
      <code class="filename">/etc/init.d/</code> to start the server
      automatically at boot time. (This means that if you have performed
      a previous installation and have made changes to its startup
      script, you may want to make a copy of the script so that you do
      not lose it when you install a newer RPM.) See
      <a class="xref" href="installing.html#automatic-start" title="2.10.1.2. Starting and Stopping MySQL Automatically">Section 2.10.1.2, “Starting and Stopping MySQL Automatically”</a>, for more information on how
      MySQL can be started automatically on system startup.
    </p><p>
      In MySQL 5.6, during a new installation, the server
      boot scripts are installed, but the MySQL server is not started at
      the end of the installation, since the status of the server during
      an unattended installation is not known.
    </p><p>
      In MySQL 5.6, during an upgrade installation using
      the RPM packages, if the MySQL server is running when the upgrade
      occurs, the MySQL server is stopped, the upgrade occurs, and the
      MySQL server is restarted. If the MySQL server is not already
      running when the RPM upgrade occurs, the MySQL server is not
      started at the end of the installation.
    </p><p>
      If something goes wrong, you can find more information in the
      binary installation section. See
      <a class="xref" href="installing.html#binary-installation" title="2.2. Installing MySQL on Unix/Linux Using Generic Binaries">Section 2.2, “Installing MySQL on Unix/Linux Using Generic Binaries”</a>.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
        The accounts that are listed in the MySQL grant tables initially
        have no passwords. After starting the server, you should set up
        passwords for them using the instructions in
        <a class="xref" href="installing.html#postinstallation" title="2.10. Postinstallation Setup and Testing">Section 2.10, “Postinstallation Setup and Testing”</a>.
</p>
</div>
<p>
      During RPM installation, a user named <code class="literal">mysql</code> and
      a group named <code class="literal">mysql</code> are created on the system.
      This is done using the <span class="command"><strong>useradd</strong></span>,
      <span class="command"><strong>groupadd</strong></span>, and <span class="command"><strong>usermod</strong></span>
      commands. Those commands require appropriate administrative
      privileges, which is required for locally managed users and groups
      (as listed in the <code class="filename">/etc/passwd</code> and
      <code class="filename">/etc/group</code> files) by the RPM installation
      process being run by <code class="literal">root</code>.
    </p><p>
      If you log in as the <code class="literal">mysql</code> user, you may find
      that MySQL displays <span class="quote">“<span class="quote">Invalid (old?) table or database
      name</span>”</span> errors that mention <code class="filename">.mysqlgui</code>,
      <code class="filename">lost+found</code>, <code class="filename">.mysqlgui</code>,
      <code class="filename">.bash_history</code>,
      <code class="filename">.fonts.cache-1</code>,
      <code class="filename">.lesshst</code>,
      <code class="filename">.mysql_history</code>,
      <code class="filename">.profile</code>, <code class="filename">.viminfo</code>, and
      similar files created by MySQL or operating system utilities. You
      can safely ignore these error messages or remove the files or
      directories that cause them if you do not need them.
    </p><p>
      For nonlocal user management (LDAP, NIS, and so forth), the
      administrative tools may require additional authentication (such
      as a password), and will fail if the installing user does not
      provide this authentication. Even if they fail, the RPM
      installation will not abort but succeed, and this is intentional.
      If they failed, some of the intended transfer of ownership may be
      missing, and it is recommended that the system administrator then
      manually ensures some appropriate user and group exists and
      manually transfers ownership following the actions in the RPM spec
      file.
    </p><p>
      In MySQL 5.6.11, the RPM spec file has been updated, which has the
      following consequences:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          For a non-upgrade installation (no existing MySQL version
          installed), it possible to install MySQL using
          <span class="command"><strong>yum</strong></span>.
        </p></li><li class="listitem"><p>
          For upgrades, it is necessary to clean up any earlier MySQL
          installations. In effect, the update is performed by removing
          the old installations and installing the new one.
</p></li></ul>
</div>
<p>
      Additional details follow.
    </p><p>
      For a non-upgrade installation of MySQL 5.6.11, it is possible to
      install using <span class="command"><strong>yum</strong></span>:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>yum install MySQL-server-<em class="replaceable"><code>NEWVERSION</code></em>.glibc23.i386.rpm</code></strong>
</pre><p>
      For upgrades to MySQL 5.6.11, the upgrade is performed by removing
      the old installation and installing the new one. To do this, use
      the following procedure:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
          Remove the existing 5.6.<em class="replaceable"><code>X</code></em>
          installation. <em class="replaceable"><code>OLDVERSION</code></em> is the
          version to remove.
        </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>rpm -e MySQL-server-<em class="replaceable"><code>OLDVERSION</code></em>.glibc23.i386.rpm</code></strong>
</pre><p>
          Repeat this step for all installed MySQL RPMs.
        </p></li><li class="listitem"><p>
          Install the new version. <em class="replaceable"><code>NEWVERSION</code></em>
          is the version to install.
        </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>rpm -ivh MySQL-server-<em class="replaceable"><code>NEWVERSION</code></em>.glibc23.i386.rpm</code></strong>
</pre></li></ol>
</div>
<p>
      Alternatively, the removal and installation can be done using
      <span class="command"><strong>yum</strong></span>:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>yum remove MySQL-server-<em class="replaceable"><code>OLDVERSION</code></em>.glibc23.i386.rpm</code></strong>
shell&gt; <strong class="userinput"><code>yum install MySQL-server-<em class="replaceable"><code>NEWVERSION</code></em>.glibc23.i386.rpm</code></strong>
</pre>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="linux-installation-debian"></a>2.5.2. Installing MySQL on Linux Using Debian Packages</h3>

</div>

</div>

</div>
<p>
      Oracle provides Debian packages for installation on Debian or
      Debian-like Linux systems. To obtain a package, see
      <a class="xref" href="installing.html#getting-mysql" title="2.1.3. How to Get MySQL">Section 2.1.3, “How to Get MySQL”</a>.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
        Debian distributions of MySQL are also provided by other
        vendors. Be aware that they may differ from those built by us in
        features, capabilities, and conventions (including communication
        setup), and that the instructions in this manual do not
        necessarily apply to installing them. The vendor's instructions
        should be consulted instead.
</p>
</div>
<p>
      Debian package files have names in
      <code class="filename">mysql-<em class="replaceable"><code>MVER</code></em>-<em class="replaceable"><code>DVER</code></em>-<em class="replaceable"><code>CPU</code></em>.deb</code>
      format. <em class="replaceable"><code>MVER</code></em> is the MySQL version and
      <em class="replaceable"><code>DVER</code></em> is the Debian version. The
      <em class="replaceable"><code>CPU</code></em> value indicates the processor type
      or family for which the package is built, as shown in the
      following table.
</p>
<div class="table">
<a name="idp3919024"></a><p class="title"><b>Table 2.12. MySQL Installation Packages for Linux CPU Identifiers</b></p>
<div class="table-contents">
<table summary="MySQL Installation Packages for Linux CPU Identifiers" border="1"><colgroup><col><col></colgroup><thead><tr><th scope="col"><em class="replaceable"><code>CPU</code></em> Value</th><th scope="col">Intended Processor Type or Family</th></tr></thead><tbody><tr><td scope="row"><code class="literal">i686</code></td><td>Pentium processor or better, 32 bit</td></tr><tr><td scope="row"><code class="literal">x86_64</code></td><td>64-bit x86 processor</td></tr></tbody></table>
</div>

</div>
<br class="table-break"><p>
      After downloading a Debian package, use the following command to
      install it;
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>dpkg -i mysql-<em class="replaceable"><code>MVER</code></em>-<em class="replaceable"><code>DVER</code></em>-<em class="replaceable"><code>CPU</code></em>.deb</code></strong>
</pre><p>
      The Debian package installs files in the
      <code class="option">/opt/mysql/server-5.6</code> directory.
    </p><p>
      You may also need to install the <code class="literal">libaio</code> library
      if it is not already present on your system:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>apt-get install libaio1</code></strong>
</pre>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="linux-installation-native"></a>2.5.3. Installing MySQL on Linux Using Native Package Managers</h3>

</div>

</div>

</div>
<p>
      Many Linux distributions include a version of the MySQL server,
      client tools, and development components into the standard package
      management system built into distributions such as Fedora, Debian,
      Ubuntu, and Gentoo. This section provides basic instructions for
      installing MySQL using these systems.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="important" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Important
</div>
<p xmlns="">
        Native package installations can take care of the download and
        dependencies required to run MySQL, but the MySQL version will
        often be some way behind the currently available release. You
        will also normally be unable to install development releases, as
        these are not usually made available in the native repository.
</p>
</div>
<p>
      Distribution specific instructions are shown below:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <span class="bold"><strong>Red Hat Linux, Fedora, CentOS</strong></span>
        </p><p>
          For Red Hat and similar distributions, the MySQL distribution
          is divided into a number of separate packages,
          <code class="literal">mysql</code> for the client tools,
          <code class="literal">mysql-server</code> for the server and associated
          tools, and <code class="literal">mysql-libs</code> for the libraries.
          The libraries are required if you want to provide connectivity
          from different languages and environments such as Perl, Python
          and others.
        </p><p>
          To install, use the <span class="command"><strong>yum</strong></span> command to specify
          the packages that you want to install. For example:
        </p><pre class="programlisting">root-shell&gt; yum install mysql mysql-server mysql-libs mysql-server
Loaded plugins: presto, refresh-packagekit
Setting up Install Process
Resolving Dependencies
--&gt; Running transaction check
---&gt; Package mysql.x86_64 0:5.1.48-2.fc13 set to be updated
---&gt; Package mysql-libs.x86_64 0:5.1.48-2.fc13 set to be updated
---&gt; Package mysql-server.x86_64 0:5.1.48-2.fc13 set to be updated
--&gt; Processing Dependency: perl-DBD-MySQL for package: mysql-server-5.1.48-2.fc13.x86_64
--&gt; Running transaction check
---&gt; Package perl-DBD-MySQL.x86_64 0:4.017-1.fc13 set to be updated
--&gt; Finished Dependency Resolution

Dependencies Resolved

================================================================================
 Package               Arch          Version               Repository      Size
================================================================================
Installing:
 mysql                 x86_64        5.1.48-2.fc13         updates        889 k
 mysql-libs            x86_64        5.1.48-2.fc13         updates        1.2 M
 mysql-server          x86_64        5.1.48-2.fc13         updates        8.1 M
Installing for dependencies:
 perl-DBD-MySQL        x86_64        4.017-1.fc13          updates        136 k

Transaction Summary
================================================================================
Install       4 Package(s)
Upgrade       0 Package(s)

Total download size: 10 M
Installed size: 30 M
Is this ok [y/N]: y
Downloading Packages:
Setting up and reading Presto delta metadata
Processing delta metadata
Package(s) data still to download: 10 M
(1/4): mysql-5.1.48-2.fc13.x86_64.rpm                    | 889 kB     00:04     
(2/4): mysql-libs-5.1.48-2.fc13.x86_64.rpm               | 1.2 MB     00:06     
(3/4): mysql-server-5.1.48-2.fc13.x86_64.rpm             | 8.1 MB     00:40     
(4/4): perl-DBD-MySQL-4.017-1.fc13.x86_64.rpm            | 136 kB     00:00     
--------------------------------------------------------------------------------
Total                                           201 kB/s |  10 MB     00:52     
Running rpm_check_debug
Running Transaction Test
Transaction Test Succeeded
Running Transaction
  Installing     : mysql-libs-5.1.48-2.fc13.x86_64                          1/4 
  Installing     : mysql-5.1.48-2.fc13.x86_64                               2/4 
  Installing     : perl-DBD-MySQL-4.017-1.fc13.x86_64                       3/4 
  Installing     : mysql-server-5.1.48-2.fc13.x86_64                        4/4 

Installed:
  mysql.x86_64 0:5.1.48-2.fc13            mysql-libs.x86_64 0:5.1.48-2.fc13    
  mysql-server.x86_64 0:5.1.48-2.fc13    

Dependency Installed:
  perl-DBD-MySQL.x86_64 0:4.017-1.fc13                                          

Complete!</pre><p>
          MySQL and the MySQL server should now be installed. A sample
          configuration file is installed into
          <code class="filename">/etc/my.cnf</code>. An init script, to start and
          stop the server, will have been installed into
          <code class="filename">/etc/init.d/mysqld</code>. To start the MySQL
          server use <span class="command"><strong>service</strong></span>:
        </p><pre class="programlisting">root-shell&gt; service mysqld start</pre><p>
          To enable the server to be started and stopped automatically
          during boot, use <span class="command"><strong>chkconfig</strong></span>:
        </p><pre class="programlisting">root-shell&gt; chkconfig --levels 235 mysqld on</pre><p>
          Which enables the MySQL server to be started (and stopped)
          automatically at the specified the run levels.
        </p><p>
          The database tables will have been automatically created for
          you, if they do not already exist. You should, however, run
          <a class="link" href="programs.html#mysql-secure-installation" title="4.4.5. mysql_secure_installation — Improve MySQL Installation Security"><span class="command"><strong>mysql_secure_installation</strong></span></a> to set the root
          passwords on your server.
        </p></li><li class="listitem"><p>
          <span class="bold"><strong>Debian, Ubuntu, Kubuntu</strong></span>
        </p><p>
          On Debian and related distributions, there are two packages,
          <code class="literal">mysql-client</code> and
          <code class="literal">mysql-server</code>, for the client and server
          components respectively. You should specify an explicit
          version, for example <code class="literal">mysql-client-5.1</code>, to
          ensure that you install the version of MySQL that you want.
        </p><p>
          To download and install, including any dependencies, use the
          <span class="command"><strong>apt-get</strong></span> command, specifying the packages
          that you want to install.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
            Before installing, make sure that you update your
            <code class="literal">apt-get</code> index files to ensure you are
            downloading the latest available version.
</p>
</div>
<p>
          A sample installation of the MySQL packages might look like
          this (some sections trimmed for clarity):
        </p><pre class="programlisting">root-shell&gt; apt-get install mysql-client-5.1 mysql-server-5.1
Reading package lists... Done
Building dependency tree       
Reading state information... Done
The following packages were automatically installed and are no longer required:
  linux-headers-2.6.28-11 linux-headers-2.6.28-11-generic
Use 'apt-get autoremove' to remove them.
The following extra packages will be installed:
  bsd-mailx libdbd-mysql-perl libdbi-perl libhtml-template-perl
  libmysqlclient15off libmysqlclient16 libnet-daemon-perl libplrpc-perl mailx
  mysql-common postfix
Suggested packages:
  dbishell libipc-sharedcache-perl tinyca procmail postfix-mysql postfix-pgsql
  postfix-ldap postfix-pcre sasl2-bin resolvconf postfix-cdb
The following NEW packages will be installed
  bsd-mailx libdbd-mysql-perl libdbi-perl libhtml-template-perl
  libmysqlclient15off libmysqlclient16 libnet-daemon-perl libplrpc-perl mailx
  mysql-client-5.1 mysql-common mysql-server-5.1 postfix
0 upgraded, 13 newly installed, 0 to remove and 182 not upgraded.
Need to get 1907kB/25.3MB of archives.
After this operation, 59.5MB of additional disk space will be used.
Do you want to continue [Y/n]? Y
Get: 1 http://gb.archive.ubuntu.com jaunty-updates/main mysql-common 5.1.30really5.0.75-0ubuntu10.5 [63.6kB]
Get: 2 http://gb.archive.ubuntu.com jaunty-updates/main libmysqlclient15off 5.1.30really5.0.75-0ubuntu10.5 [1843kB]
Fetched 1907kB in 9s (205kB/s)                                                 
Preconfiguring packages ...
Selecting previously deselected package mysql-common.
(Reading database ... 121260 files and directories currently installed.)
...
Processing 1 added doc-base file(s)...
Registering documents with scrollkeeper...
Setting up libnet-daemon-perl (0.43-1) ...
Setting up libplrpc-perl (0.2020-1) ...
Setting up libdbi-perl (1.607-1) ...
Setting up libmysqlclient15off (5.1.30really5.0.75-0ubuntu10.5) ...

Setting up libdbd-mysql-perl (4.008-1) ...
Setting up libmysqlclient16 (5.1.31-1ubuntu2) ...

Setting up mysql-client-5.1 (5.1.31-1ubuntu2) ...

Setting up mysql-server-5.1 (5.1.31-1ubuntu2) ...
 * Stopping MySQL database server mysqld
   ...done.
100825 11:46:15  InnoDB: Started; log sequence number 0 46409
100825 11:46:15  InnoDB: Starting shutdown...
100825 11:46:17  InnoDB: Shutdown completed; log sequence number 0 46409
100825 11:46:17 [Warning] Forcing shutdown of 1 plugins
 * Starting MySQL database server mysqld
   ...done.
 * Checking for corrupt, not cleanly closed and upgrade needing tables.
...
Processing triggers for libc6 ...
ldconfig deferred processing now taking place</pre>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
            The <span class="command"><strong>apt-get</strong></span> command will install a number
            of packages, including the MySQL server, in order to provide
            the typical tools and application environment. This can mean
            that you install a large number of packages in addition to
            the main MySQL package.
</p>
</div>
<p>
          During installation, the initial database will be created, and
          you will be prompted for the MySQL root password (and
          confirmation). A configuration file will have been created in
          <code class="filename">/etc/mysql/my.cnf</code>. An init script will
          have been created in <code class="filename">/etc/init.d/mysql</code>.
        </p><p>
          The server will already be started. You can manually start and
          stop the server using:
        </p><pre class="programlisting">root-shell&gt; service mysql [start|stop]</pre><p>
          The service will automatically be added to the 2, 3 and 4 run
          levels, with stop scripts in the single, shutdown and restart
          levels.
        </p></li><li class="listitem"><p>
          <span class="bold"><strong>Gentoo Linux</strong></span>
        </p><p>
          As a source-based distribution, installing MySQL on Gentoo
          involves downloading the source, patching the Gentoo
          specifics, and then compiling the MySQL server and installing
          it. This process is handled automatically by the
          <span class="command"><strong>emerge</strong></span> command. Depending on the version of
          MySQL that you want to install, you may need to unmask the
          specific version that you want for your chosen platform.
        </p><p>
          The MySQL server and client tools are provided within a single
          package, <code class="literal">dev-db/mysql</code>. You can obtain a
          list of the versions available to install by looking at the
          portage directory for the package:
        </p><pre class="programlisting">root-shell&gt; ls /usr/portage/dev-db/mysql/mysql-5.1*
mysql-5.1.39-r1.ebuild
mysql-5.1.44-r1.ebuild
mysql-5.1.44-r2.ebuild
mysql-5.1.44-r3.ebuild
mysql-5.1.44.ebuild
mysql-5.1.45-r1.ebuild
mysql-5.1.45.ebuild
mysql-5.1.46.ebuild</pre><p>
          To install a specific MySQL version, you must specify the
          entire atom. For example:
        </p><pre class="programlisting">root-shell&gt; emerge =dev-db/mysql-5.1.46</pre><p>
          A simpler alternative is to use the
          <code class="literal">virtual/mysql-5.1</code> package, which will
          install the latest version:
        </p><pre class="programlisting">root-shell&gt; emerge =virtual/mysql-5.1</pre><p>
          If the package is masked (because it is not tested or
          certified for the current platform), use the
          <code class="literal">ACCEPT_KEYWORDS</code> environment variable. For
          example:
        </p><pre class="programlisting">root-shell&gt; ACCEPT_KEYWORDS="~x86" emerge =virtual/mysql-5.1</pre><p>
          After installation, you should create a new database using
          <a class="link" href="programs.html#mysql-install-db" title="4.4.3. mysql_install_db — Initialize MySQL Data Directory"><span class="command"><strong>mysql_install_db</strong></span></a>, and set the password for
          the root user on MySQL. You can use the configuration
          interface to set the password and create the initial database:
        </p><pre class="programlisting">root-shell&gt; emerge --config =dev-db/mysql-5.1.46</pre><p>
          A sample configuration file will have been created for you in
          <code class="filename">/etc/mysql/my.cnf</code>, and an init script
          will have been created in
          <code class="filename">/etc/init.d/mysql</code>.
        </p><p>
          To enable MySQL to start automatically at the normal (default)
          run levels, you can use:
</p><pre class="programlisting">root-shell&gt; rc-update add mysql default</pre></li></ul>
</div>

</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both"><a name="solaris-installation"></a>2.6. Installing MySQL on Solaris and OpenSolaris</h2>

</div>

</div>

</div>
<div class="toc">
<dl><dt><span class="section"><a href="installing.html#solaris-installation-pkg">2.6.1. Installing MySQL on Solaris Using a Solaris PKG</a></span></dt><dt><span class="section"><a href="installing.html#solaris-installation-opensolaris">2.6.2. Installing MySQL on OpenSolaris Using IPS</a></span></dt></dl>
</div>
<a class="indexterm" name="idp3994288"></a><a class="indexterm" name="idp3995776"></a><a class="indexterm" name="idp3997232"></a><a class="indexterm" name="idp3998720"></a><a class="indexterm" name="idp3999808"></a><a class="indexterm" name="idp4001296"></a><a class="indexterm" name="idp4002752"></a><a class="indexterm" name="idp4004240"></a><a class="indexterm" name="idp4005312"></a><p>
    MySQL on Solaris and OpenSolaris is available in a number of
    different formats.
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
        For information on installing using the native Solaris PKG
        format, see <a class="xref" href="installing.html#solaris-installation-pkg" title="2.6.1. Installing MySQL on Solaris Using a Solaris PKG">Section 2.6.1, “Installing MySQL on Solaris Using a Solaris PKG”</a>.
      </p></li><li class="listitem"><p>
        On OpenSolaris, the standard package repositories include MySQL
        packages specially built for OpenSolaris that include entries
        for the Service Management Framework (SMF) to enable control of
        the installation using the SMF administration commands. For more
        information, see
        <a class="xref" href="installing.html#solaris-installation-opensolaris" title="2.6.2. Installing MySQL on OpenSolaris Using IPS">Section 2.6.2, “Installing MySQL on OpenSolaris Using IPS”</a>.
      </p></li><li class="listitem"><p>
        To use a standard <code class="literal">tar</code> binary installation,
        use the notes provided in <a class="xref" href="installing.html#binary-installation" title="2.2. Installing MySQL on Unix/Linux Using Generic Binaries">Section 2.2, “Installing MySQL on Unix/Linux Using Generic Binaries”</a>.
        Check the notes and hints at the end of this section for Solaris
        specific notes that you may need before or after installation.
</p></li></ul>
</div>
<p>
    To obtain a binary MySQL distribution for Solaris in tarball or PKG
    format,
    <a class="ulink" href="http://dev.mysql.com/downloads/mysql/5.6.html" target="_top">http://dev.mysql.com/downloads/mysql/5.6.html</a>.
  </p><p>
    Additional notes to be aware of when installing and using MySQL on
    Solaris:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
        If you want to use MySQL with the <code class="literal">mysql</code> user
        and group, use the <span class="command"><strong>groupadd</strong></span> and
        <span class="command"><strong>useradd</strong></span> commands:
      </p><pre class="programlisting">groupadd mysql
useradd -g mysql mysql</pre></li><li class="listitem"><p>
        If you install MySQL using a binary tarball distribution on
        Solaris, you may run into trouble even before you get the MySQL
        distribution unpacked, as the Solaris <span class="command"><strong>tar</strong></span>
        cannot handle long file names. This means that you may see
        errors when you try to unpack MySQL.
      </p><p>
        If this occurs, you must use GNU <span class="command"><strong>tar</strong></span>
        (<span class="command"><strong>gtar</strong></span>) to unpack the distribution. In Solaris
        10 and OpenSolaris <span class="command"><strong>gtar</strong></span> is normally located
        in <code class="filename">/usr/sfw/bin/gtar</code>, but may not be
        included in the default path definition.
      </p></li><li class="listitem"><p>
        When using Solaris 10 for x86_64, you should mount any file
        systems on which you intend to store <code class="literal">InnoDB</code>
        files with the <code class="literal">forcedirectio</code> option. (By
        default mounting is done without this option.) Failing to do so
        will cause a significant drop in performance when using the
        <code class="literal">InnoDB</code> storage engine on this platform.
      </p></li><li class="listitem"><p>
        If you would like MySQL to start automatically, you can copy
        <code class="filename">support-files/mysql.server</code> to
        <code class="filename">/etc/init.d</code> and create a symbolic link to
        it named <code class="filename">/etc/rc3.d/S99mysql.server</code>.
      </p></li><li class="listitem"><p>
        If too many processes try to connect very rapidly to
        <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>, you should see this error in the
        MySQL log:
      </p><pre class="programlisting">Error in accept: Protocol error</pre><p>
        You might try starting the server with the
        <a class="link" href="server-administration.html#sysvar_back_log"><code class="option">--back_log=50</code></a> option as a
        workaround for this.
      </p></li><li class="listitem"><p>
        To configure the generation of core files on Solaris you should
        use the <span class="command"><strong>coreadm</strong></span> command. Because of the
        security implications of generating a core on a
        <code class="literal">setuid()</code> application, by default, Solaris
        does not support core files on <code class="literal">setuid()</code>
        programs. However, you can modify this behavior using
        <span class="command"><strong>coreadm</strong></span>. If you enable
        <code class="literal">setuid()</code> core files for the current user,
        they will be generated using the mode 600 and owned by the
        superuser.
</p></li></ul>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="solaris-installation-pkg"></a>2.6.1. Installing MySQL on Solaris Using a Solaris PKG</h3>

</div>

</div>

</div>
<p>
      You can install MySQL on Solaris and OpenSolaris using a binary
      package using the native Solaris PKG format instead of the binary
      tarball distribution.
    </p><p>
      To use this package, download the corresponding
      <code class="filename">mysql-VERSION-solaris10-PLATFORM.pkg.gz</code> file,
      then uncompress it. For example:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>gunzip mysql-<em class="replaceable"><code>5.6.15</code></em>-solaris10-x86_64.pkg.gz</code></strong>
</pre><p>
      To install a new package, use <span class="command"><strong>pkgadd</strong></span> and follow
      the onscreen prompts. You must have root privileges to perform
      this operation:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>pkgadd -d mysql-<em class="replaceable"><code>5.6.15</code></em>-solaris10-x86_64.pkg</code></strong>

The following packages are available:
  1  mysql     MySQL Community Server (GPL)
               (i86pc) 5.6.15

Select package(s) you wish to process (or 'all' to process
all packages). (default: all) [?,??,q]: 
</pre><p>
      The PKG installer installs all of the files and tools needed, and
      then initializes your database if one does not exist. To complete
      the installation, you should set the root password for MySQL as
      provided in the instructions at the end of the installation.
      Alternatively, you can run the
      <a class="link" href="programs.html#mysql-secure-installation" title="4.4.5. mysql_secure_installation — Improve MySQL Installation Security"><span class="command"><strong>mysql_secure_installation</strong></span></a> script that comes
      with the installation.
    </p><p>
      By default, the PKG package installs MySQL under the root path
      <code class="filename">/opt/mysql</code>. You can change only the
      installation root path when using <span class="command"><strong>pkgadd</strong></span>, which
      can be used to install MySQL in a different Solaris zone. If you
      need to install in a specific directory, use a binary
      <span class="command"><strong>tar</strong></span> file distribution.
    </p><p>
      The <code class="literal">pkg</code> installer copies a suitable startup
      script for MySQL into <code class="literal">/etc/init.d/mysql</code>. To
      enable MySQL to startup and shutdown automatically, you should
      create a link between this file and the init script directories.
      For example, to ensure safe startup and shutdown of MySQL you
      could use the following commands to add the right links:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>ln /etc/init.d/mysql /etc/rc3.d/S91mysql</code></strong>
shell&gt; <strong class="userinput"><code>ln /etc/init.d/mysql /etc/rc0.d/K02mysql</code></strong>
</pre><p>
      To remove MySQL, the installed package name is
      <code class="literal">mysql</code>. You can use this in combination with the
      <span class="command"><strong>pkgrm</strong></span> command to remove the installation.
    </p><p>
      To upgrade when using the Solaris package file format, you must
      remove the existing installation before installing the updated
      package. Removal of the package does not delete the existing
      database information, only the server, binaries and support files.
      The typical upgrade sequence is therefore:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>mysqladmin shutdown</code></strong>
shell&gt; <strong class="userinput"><code>pkgrm mysql</code></strong>
shell&gt; <strong class="userinput"><code>pkgadd -d mysql-<em class="replaceable"><code>5.6.15</code></em>-solaris10-x86_64.pkg</code></strong>
shell&gt; <strong class="userinput"><code>mysqld_safe &amp;</code></strong>
shell&gt; <strong class="userinput"><code>mysql_upgrade</code></strong>
</pre><p>
      You should check the notes in
      <a class="xref" href="installing.html#upgrading-downgrading" title="2.11. Upgrading or Downgrading MySQL">Section 2.11, “Upgrading or Downgrading MySQL”</a> before performing any
      upgrade.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="solaris-installation-opensolaris"></a>2.6.2. Installing MySQL on OpenSolaris Using IPS</h3>

</div>

</div>

</div>
<p>
      OpenSolaris includes standard packages for MySQL in the core
      repository. The MySQL packages are based on a specific release of
      MySQL and updated periodically. For the latest release you must
      use either the native Solaris PKG, <code class="literal">tar</code>, or
      source installations. The native OpenSolaris packages include SMF
      files so that you can easily control your MySQL installation,
      including automatic startup and recovery, using the native service
      management tools.
    </p><p>
      To install MySQL on OpenSolaris, use the <span class="command"><strong>pkg</strong></span>
      command. You will need to be logged in as root, or use the
      <span class="command"><strong>pfexec</strong></span> tool, as shown in the example below:
    </p><pre class="programlisting">shell&gt; pfexec pkg install SUNWmysql56</pre><p>
      The package set installs three individual packages,
      <code class="literal">SUNWmysql56lib</code>, which
      contains the MySQL client libraries;
      <code class="literal">SUNWmysql56r</code> which contains
      the root components, including SMF and configuration files; and
      <code class="literal">SUNWmysql56u</code> which contains
      the scripts, binary tools and other files. You can install these
      packages individually if you only need the corresponding
      components.
    </p><p>
      The MySQL files are installed into <code class="filename">/usr/mysql</code>
      which symbolic links for the sub directories
      (<code class="filename">bin</code>, <code class="filename">lib</code>, etc.) to a
      version specific directory. For MySQL 5.6, the full
      installation is located in
      <code class="filename">/usr/mysql/5.6</code>. The default data
      directory is
      <code class="filename">/var/mysql/5.6/data</code>. The
      configuration file is installed in
      <code class="filename">/etc/mysql/5.6/my.cnf</code>. This
      layout permits multiple versions of MySQL to be installed, without
      overwriting the data and binaries from other versions.
    </p><p>
      Once installed, you must run <a class="link" href="programs.html#mysql-install-db" title="4.4.3. mysql_install_db — Initialize MySQL Data Directory"><span class="command"><strong>mysql_install_db</strong></span></a>
      to initialize the database, and use the
      <a class="link" href="programs.html#mysql-secure-installation" title="4.4.5. mysql_secure_installation — Improve MySQL Installation Security"><span class="command"><strong>mysql_secure_installation</strong></span></a> to secure your
      installation.
</p>
<h4><a name="idp4079888"></a>
      Using SMF to manage your MySQL installation
</h4>
<p>
      Once installed, you can start and stop your MySQL server using the
      installed SMF configuration. The service name is
      <code class="literal">mysql</code>, or if you have multiple versions
      installed, you should use the full version name, for example
      <code class="literal">mysql:version_56</code>. To start
      and enable MySQL to be started at boot time:
    </p><pre class="programlisting">shell&gt; svcadm enable mysql</pre><p>
      To disable MySQL from starting during boot time, and shut the
      MySQL server down if it is running, use:
    </p><pre class="programlisting">shell&gt; svcadm disable mysql</pre><p>
      To restart MySQL, for example after a configuration file changes,
      use the <code class="literal">restart</code> option:
    </p><pre class="programlisting">shell&gt; svcadm restart mysql</pre><p>
      You can also use SMF to configure the data directory and enable
      full 64-bit mode. For example, to set the data directory used by
      MySQL:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>svccfg </code></strong>
svc:&gt; <strong class="userinput"><code>select mysql:version_56 </code></strong>
<strong class="userinput"><code>svc:/application/database/mysql:version_56&gt; setprop mysql/data=/data0/mysql</code></strong>
  </pre><p>
      By default, the 32-bit binaries are used. To enable the 64-bit
      server on 64-bit platforms, set the
      <code class="literal">enable_64bit</code> parameter. For example:
    </p><pre class="programlisting">svc:/application/database/mysql:version_56&gt; setprop mysql/enable_64bit=1 </pre><p>
      You need to refresh the SMF after settings these options:
</p><pre class="programlisting">shell&gt; svcadm refresh mysql</pre>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both"><a name="hpux-installation"></a>2.7. Installing MySQL on HP-UX</h2>

</div>

</div>

</div>
<div class="toc">
<dl><dt><span class="section"><a href="installing.html#hpux-installation-general">2.7.1. General Notes on Installing MySQL on HP-UX</a></span></dt><dt><span class="section"><a href="installing.html#hpux-installation-depot">2.7.2. Installing MySQL on HP-UX Using DEPOT Packages</a></span></dt></dl>
</div>
<a class="indexterm" name="idp4094224"></a><p>
    MySQL for HP-UX is available in a number of different forms:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
        Using a DEPOT distribution provided at
        <a class="ulink" href="http://dev.mysql.com/downloads/" target="_top">http://dev.mysql.com/downloads/</a>. Please read the
        <a class="link" href="installing.html#hpux-installation-general" title="2.7.1. General Notes on Installing MySQL on HP-UX">general notes on HP-UX
        installation</a> before continuing. For more information on
        DEPOT installations, see
        <a class="xref" href="installing.html#hpux-installation-depot" title="2.7.2. Installing MySQL on HP-UX Using DEPOT Packages">Section 2.7.2, “Installing MySQL on HP-UX Using DEPOT Packages”</a>.
      </p></li><li class="listitem"><p>
        Using a binary tarball distribution provided at
        <a class="ulink" href="http://dev.mysql.com/downloads/" target="_top">http://dev.mysql.com/downloads/</a>. Please read the
        <a class="link" href="installing.html#hpux-installation-general" title="2.7.1. General Notes on Installing MySQL on HP-UX">general notes on HP-UX
        installation</a> before continuing. For more information on
        binary installations, see <a class="xref" href="installing.html#binary-installation" title="2.2. Installing MySQL on Unix/Linux Using Generic Binaries">Section 2.2, “Installing MySQL on Unix/Linux Using Generic Binaries”</a>.
</p></li></ul>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="hpux-installation-general"></a>2.7.1. General Notes on Installing MySQL on HP-UX</h3>

</div>

</div>

</div>
<p>
      Some additional notes on installing and using MySQL on HP-UX:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          If you install MySQL using a binary tarball distribution on
          HP-UX, you may run into trouble even before you get the MySQL
          distribution unpacked, as the HP-UX <span class="command"><strong>tar</strong></span>
          cannot handle long file names. This means that you may see
          errors when you try to unpack MySQL.
        </p><p>
          If this occurs, you must use GNU <span class="command"><strong>tar</strong></span>
          (<span class="command"><strong>gtar</strong></span>) to unpack the distribution.
        </p></li><li class="listitem"><p>
          Because of some critical bugs in the standard HP-UX libraries,
          you should install the following patches before trying to run
          MySQL on HP-UX 11.0:
        </p><pre class="programlisting">PHKL_22840 Streams cumulative
PHNE_22397 ARPA cumulative</pre><p>
          This solves the problem of getting
          <code class="literal">EWOULDBLOCK</code> from <code class="literal">recv()</code>
          and <code class="literal">EBADF</code> from <code class="literal">accept()</code>
          in threaded applications.
</p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="hpux-installation-depot"></a>2.7.2. Installing MySQL on HP-UX Using DEPOT Packages</h3>

</div>

</div>

</div>
<p>
      The HP-UX DEPOT format packages can be installed using the
      <span class="command"><strong>swinstall</strong></span> command. You should install the
      <code class="literal">ncurses</code> and <code class="literal">zlib</code> libraries
      before installing the MySQL DEPOT package. You can use the free
      software <code class="literal">depothelper</code> tool to install these
      packages and any dependencies for you automatically.
    </p><p>
      To install using the MySQL DEPOT packages, follow this guide:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
          Download the MySQL DEPOT package from
          <a class="ulink" href="http://dev.mysql.com/downloads/" target="_top">http://dev.mysql.com/downloads/</a>. You must uncompress the
          package before installation:
        </p><pre class="programlisting">root-shell&gt; gunzip mysql-5.1.48-hpux11.31-ia64-64bit.depot.gz</pre></li><li class="listitem"><p>
          Install the DEPOT package using <span class="command"><strong>swinstall</strong></span>:
        </p><pre class="programlisting">root-shell&gt; swinstall -s <em class="replaceable"><code>mysql-5.1.49-hpux11.31-ia64-64bit.depot</code></em></pre><p>
          MySQL will be installed into a directory matching the depot
          package name, within <code class="filename">/usr/local</code>. For
          convenience, you may want to create a symbolic link to the
          installed directory, for example:
        </p><pre class="programlisting">root-shell&gt; ln -s mysql-5.1.49-hpux11.31-ia64-64bit mysql</pre></li><li class="listitem"><p>
          Your package is now installed. You should complete the
          configuration of MySQL by creating a user and group:
        </p><pre class="programlisting">root-shell&gt; /usr/sbin/groupadd mysql
root-shell&gt; /usr/sbin/useradd -g mysql -d /var/lib/mysql/ -s /bin/false mysql</pre></li><li class="listitem"><p>
          Create the standard database using the new user/group you have
          created, and set the permissions:
        </p><pre class="programlisting">root-shell&gt; cd /usr/local/
root-shell&gt; scripts/mysql_install_db --user=mysql
root-shell&gt; chown -R root .
root-shell&gt; chown -R mysql data</pre></li><li class="listitem"><p>
          Finally, secure your new installation by setting the root
          passwords, and then start your MySQL server using the
          <code class="literal">mysql</code> user:
        </p><pre class="programlisting">root-shell&gt; mysql_secure_installation
root-shell&gt; mysqld_safe --user=mysql &amp;</pre></li></ol>
</div>

</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both"><a name="freebsd-installation"></a>2.8. Installing MySQL on FreeBSD</h2>

</div>

</div>

</div>
<p>
    This section provides information about installing MySQL on variants
    of FreeBSD Unix.
  </p><p>
    You can install MySQL on FreeBSD by using the binary distribution
    provided by Oracle. For more information, see
    <a class="xref" href="installing.html#binary-installation" title="2.2. Installing MySQL on Unix/Linux Using Generic Binaries">Section 2.2, “Installing MySQL on Unix/Linux Using Generic Binaries”</a>.
  </p><p>
    The easiest (and preferred) way to install MySQL is to use the
    <a class="link" href="programs.html#mysql-server" title="4.3.3. mysql.server — MySQL Server Startup Script"><span class="command"><strong>mysql-server</strong></span></a> and <code class="literal">mysql-client</code>
    ports available at <a class="ulink" href="http://www.freebsd.org/" target="_top">http://www.freebsd.org/</a>. Using
    these ports gives you the following benefits:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
        A working MySQL with all optimizations enabled that are known to
        work on your version of FreeBSD.
      </p></li><li class="listitem"><p>
        Automatic configuration and build.
      </p></li><li class="listitem"><p>
        Startup scripts installed in
        <code class="filename">/usr/local/etc/rc.d</code>.
      </p></li><li class="listitem"><p>
        The ability to use <code class="literal">pkg_info -L</code> to see which
        files are installed.
      </p></li><li class="listitem"><p>
        The ability to use <code class="literal">pkg_delete</code> to remove MySQL
        if you no longer want it on your machine.
</p></li></ul>
</div>
<p>
    The MySQL build process requires GNU make (<span class="command"><strong>gmake</strong></span>)
    to work. If GNU <span class="command"><strong>make</strong></span> is not available, you must
    install it first before compiling MySQL.
  </p><p>
    To install using the ports system:
  </p><pre class="programlisting"># cd /usr/ports/databases/mysql51-server
# make
...
# cd /usr/ports/databases/mysql51-client
# make
...</pre><p>
    The standard port installation places the server into
    <code class="filename">/usr/local/libexec/mysqld</code>, with the startup
    script for the MySQL server placed in
    <code class="filename">/usr/local/etc/rc.d/mysql-server</code>.
  </p><p>
    Some additional notes on the BSD implementation:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
        To remove MySQL after installation using the ports system:
      </p><pre class="programlisting"># cd /usr/ports/databases/mysql51-server
# make deinstall
...
# cd /usr/ports/databases/mysql51-client
# make deinstall
...</pre></li><li class="listitem"><p>
        If you get problems with the current date in MySQL, setting the
        <code class="literal">TZ</code> variable should help. See
        <a class="xref" href="installing.html#environment-variables" title="2.12. Environment Variables">Section 2.12, “Environment Variables”</a>.
</p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both"><a name="source-installation"></a>2.9. Installing MySQL from Source</h2>

</div>

</div>

</div>
<div class="toc">
<dl><dt><span class="section"><a href="installing.html#source-installation-layout">2.9.1. MySQL Layout for Source Installation</a></span></dt><dt><span class="section"><a href="installing.html#installing-source-distribution">2.9.2. Installing MySQL Using a Standard Source Distribution</a></span></dt><dt><span class="section"><a href="installing.html#installing-development-tree">2.9.3. Installing MySQL Using a Development Source Tree</a></span></dt><dt><span class="section"><a href="installing.html#source-configuration-options">2.9.4. MySQL Source-Configuration Options</a></span></dt><dt><span class="section"><a href="installing.html#compilation-problems">2.9.5. Dealing with Problems Compiling MySQL</a></span></dt><dt><span class="section"><a href="installing.html#source-configuration-third-party">2.9.6. MySQL Configuration and Third-Party Tools</a></span></dt></dl>
</div>
<a class="indexterm" name="idp4157616"></a><a class="indexterm" name="idp4159104"></a><a class="indexterm" name="idp4160592"></a><p>
    Building MySQL from the source code enables you to customize build
    parameters, compiler optimizations, and installation location. For a
    list of systems on which MySQL is known to run, see
    <a class="xref" href="installing.html#supported-os" title="2.1.1. Operating Systems Supported by MySQL Community Server">Section 2.1.1, “Operating Systems Supported by MySQL Community Server”</a>.
  </p><p>
    Before you proceed with an installation from source, check whether
    Oracle produces a precompiled binary distribution for your platform
    and whether it works for you. We put a great deal of effort into
    ensuring that our binaries are built with the best possible options
    for optimal performance. Instructions for installing binary
    distributions are available in
    <a class="xref" href="installing.html#binary-installation" title="2.2. Installing MySQL on Unix/Linux Using Generic Binaries">Section 2.2, “Installing MySQL on Unix/Linux Using Generic Binaries”</a>.
</p>
<h3><a name="idp4164176"></a>
    Source Installation Methods
</h3>
<p>
    There are two methods for installing MySQL from source:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
        Use a standard MySQL source distribution. To obtain a standard
        distribution, see <a class="xref" href="installing.html#getting-mysql" title="2.1.3. How to Get MySQL">Section 2.1.3, “How to Get MySQL”</a>. For
        instructions on building from a standard distribution, see
        <a class="xref" href="installing.html#installing-source-distribution" title="2.9.2. Installing MySQL Using a Standard Source Distribution">Section 2.9.2, “Installing MySQL Using a Standard Source Distribution”</a>.
      </p><p>
        Standard distributions are available as compressed
        <span class="command"><strong>tar</strong></span> files, Zip archives, or RPM packages.
        Distribution files have names of the form
        <code class="filename">mysql-<em class="replaceable"><code>VERSION</code></em>.tar.gz</code>,
        <code class="filename">mysql-<em class="replaceable"><code>VERSION</code></em>.zip</code>,
        or
        <code class="filename">mysql-<em class="replaceable"><code>VERSION</code></em>.rpm</code>,
        where <em class="replaceable"><code>VERSION</code></em> is a number like
        <code class="literal">5.6.15</code>. File names for source
        distributions can be distinguished from those for precompiled
        binary distributions in that source distribution names are
        generic and include no platform name, whereas binary
        distribution names include a platform name indicating the type
        of system for which the distribution is intended (for example,
        <code class="literal">pc-linux-i686</code> or <code class="literal">winx64</code>).
      </p></li><li class="listitem"><p>
        Use a MySQL development tree. Development trees have not
        necessarily received the same level of testing as standard
        release distributions, so this installation method is usually
        required only if you need the most recent code changes. For
        information on building from one of the development trees, see
        <a class="xref" href="installing.html#installing-development-tree" title="2.9.3. Installing MySQL Using a Development Source Tree">Section 2.9.3, “Installing MySQL Using a Development Source Tree”</a>.
</p></li></ul>
</div>
<h3><a name="idp4176960"></a>
    Source Installation System Requirements
</h3>
<p>
    Installation of MySQL from source requires several development
    tools. Some of these tools are needed no matter whether you use a
    standard source distribution or a development source tree. Other
    tool requirements depend on which installation method you use.
  </p><p>
    To install MySQL from source, your system must have the following
    tools, regardless of installation method:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
        <span class="command"><strong>CMake</strong></span>, which is used as the build framework
        on all platforms. <span class="command"><strong>CMake</strong></span> can be downloaded
        from <a class="ulink" href="http://www.cmake.org" target="_top">http://www.cmake.org</a>.
      </p></li><li class="listitem"><p>
        A good <span class="command"><strong>make</strong></span> program. Although some platforms
        come with their own <span class="command"><strong>make</strong></span> implementations, it
        is highly recommended that you use GNU <span class="command"><strong>make</strong></span>
        3.75 or newer. It may already be available on your system as
        <span class="command"><strong>gmake</strong></span>. GNU <span class="command"><strong>make</strong></span> is
        available from <a class="ulink" href="http://www.gnu.org/software/make/" target="_top">http://www.gnu.org/software/make/</a>.
      </p></li><li class="listitem"><p>
        A working ANSI C++ compiler. GCC 4.2.1 or later, Sun Studio 10
        or later, Visual Studio 2008 or later, and many current
        vendor-supplied compilers are known to work.
      </p></li><li class="listitem"><p>
        Perl is needed if you intend to run test scripts. Most Unix-like
        systems include Perl. On Windows, you can use a version such as
        ActiveState Perl.
</p></li></ul>
</div>
<p>
    To install MySQL from a standard source distribution, one of the
    following tools is required to unpack the distribution file:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
        For a <code class="filename">.tar.gz</code> compressed
        <span class="command"><strong>tar</strong></span> file: GNU <code class="literal">gunzip</code> to
        uncompress the distribution and a reasonable
        <span class="command"><strong>tar</strong></span> to unpack it. If your
        <span class="command"><strong>tar</strong></span> program supports the <code class="literal">z</code>
        option, it can both uncompress and unpack the file.
      </p><p>
        GNU <span class="command"><strong>tar</strong></span> is known to work. The standard
        <span class="command"><strong>tar</strong></span> provided with some operating systems is
        not able to unpack the long file names in the MySQL
        distribution. You should download and install GNU
        <span class="command"><strong>tar</strong></span>, or if available, use a preinstalled
        version of GNU tar. Usually this is available as
        <span class="command"><strong>gnutar</strong></span>, <span class="command"><strong>gtar</strong></span>, or as
        <span class="command"><strong>tar</strong></span> within a GNU or Free Software directory,
        such as <code class="filename">/usr/sfw/bin</code> or
        <code class="filename">/usr/local/bin</code>. GNU <span class="command"><strong>tar</strong></span>
        is available from
        <a class="ulink" href="http://www.gnu.org/software/tar/" target="_top">http://www.gnu.org/software/tar/</a>.
      </p></li><li class="listitem"><p>
        For a <code class="filename">.zip</code> Zip archive:
        <span class="command"><strong>WinZip</strong></span> or another tool that can read
        <code class="filename">.zip</code> files.
      </p></li><li class="listitem"><p>
        For an <code class="filename">.rpm</code> RPM package: The
        <span class="command"><strong>rpmbuild</strong></span> program used to build the
        distribution unpacks it.
</p></li></ul>
</div>
<p>
    To install MySQL from a development source tree, the following
    additional tools are required:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
        To obtain the source tree, you must have Bazaar installed. The
        <a class="ulink" href="http://bazaar-vcs.org" target="_top">Bazaar VCS Web site</a>
        has instructions for downloading and installing Bazaar on
        different platforms. Bazaar is supported on any platform that
        supports Python, and is therefore compatible with any Linux,
        Unix, Windows, or Mac OS X host.
      </p></li><li class="listitem"><p>
        <span class="command"><strong>bison</strong></span> is needed to generate
        <code class="filename">sql_yacc.cc</code> from
        <code class="filename">sql_yacc.yy</code> You should use the latest
        version of <span class="command"><strong>bison</strong></span> where possible. Versions
        1.75 and 2.1 are known to work. There have been reported
        problems with <span class="command"><strong>bison</strong></span> 1.875. If you experience
        problems, upgrade to a later, rather than earlier, version.
      </p><p>
        <span class="command"><strong>bison</strong></span> is available from
        <a class="ulink" href="http://www.gnu.org/software/bison/" target="_top">http://www.gnu.org/software/bison/</a>.
        <code class="literal">bison</code> for Windows can be downloaded from
        <a class="ulink" href="http://gnuwin32.sourceforge.net/packages/bison.htm" target="_top">http://gnuwin32.sourceforge.net/packages/bison.htm</a>.
        Download the package labeled <span class="quote">“<span class="quote">Complete package, excluding
        sources</span>”</span>. On Windows, the default location for
        <span class="command"><strong>bison</strong></span> is the <code class="filename">C:\Program
        Files\GnuWin32</code> directory. Some utilities may fail to
        find <span class="command"><strong>bison</strong></span> because of the space in the
        directory name. Also, Visual Studio may simply hang if there are
        spaces in the path. You can resolve these problems by installing
        into a directory that does not contain a space; for example
        <code class="filename">C:\GnuWin32</code>.
      </p></li><li class="listitem"><p>
        On OpenSolaris and Solaris Express, <span class="command"><strong>m4</strong></span> must
        be installed in addition to <span class="command"><strong>bison</strong></span>.
        <span class="command"><strong>m4</strong></span> is available from
        <a class="ulink" href="http://www.gnu.org/software/m4/" target="_top">http://www.gnu.org/software/m4/</a>.
</p></li></ul>
</div>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<div class="admon-title">
Note
</div>
<p xmlns="">
      If you have to install any programs, modify your
      <code class="literal">PATH</code> environment variable to include any
      directories in which the programs are located. See
      <a class="xref" href="programs.html#setting-environment-variables" title="4.2.4. Setting Environment Variables">Section 4.2.4, “Setting Environment Variables”</a>.
</p>
</div>
<p>
    If you run into problems and need to file a bug report, please use
    the instructions in <a class="xref" href="introduction.html#bug-reports" title="1.7. How to Report Bugs or Problems">Section 1.7, “How to Report Bugs or Problems”</a>.
</p>
<div class="section">

<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="source-installation-layout"></a>2.9.1. MySQL Layout for Source Installation</h3>
</div>
</div>
</div>
<p>
      By default, when you install MySQL after compiling it from source,
      the installation step installs files under
      <code class="filename">/usr/local/mysql</code>. The component locations
      under the installation directory are the same as for binary
      distributions. See <a class="xref" href="installing.html#binary-installation-layout" title="Table 2.3. MySQL Installation Layout for Generic Unix/Linux Binary Package">Table 2.3, “MySQL Installation Layout for Generic Unix/Linux Binary Package”</a>,
      and <a class="xref" href="installing.html#windows-installation-layout" title="2.3.1. MySQL Installation Layout on Microsoft Windows">Section 2.3.1, “MySQL Installation Layout on Microsoft Windows”</a>. To configure
      installation locations different from the defaults, use the
      options described at
      <a class="xref" href="installing.html#source-configuration-options" title="2.9.4. MySQL Source-Configuration Options">Section 2.9.4, “MySQL Source-Configuration Options”</a>.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="installing-source-distribution"></a>2.9.2. Installing MySQL Using a Standard Source Distribution</h3>

</div>

</div>

</div>
<p>
      To install MySQL from a standard source distribution:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
          Verify that your system satisfies the tool requirements listed
          at <a class="xref" href="installing.html#source-installation" title="2.9. Installing MySQL from Source">Section 2.9, “Installing MySQL from Source”</a>.
        </p></li><li class="listitem"><p>
          Obtain a distribution file using the instructions in
          <a class="xref" href="installing.html#getting-mysql" title="2.1.3. How to Get MySQL">Section 2.1.3, “How to Get MySQL”</a>.
        </p></li><li class="listitem"><p>
          Configure, build, and install the distribution using the
          instructions in this section.
        </p></li><li class="listitem"><p>
          Perform postinstallation procedures using the instructions in
          <a class="xref" href="installing.html#postinstallation" title="2.10. Postinstallation Setup and Testing">Section 2.10, “Postinstallation Setup and Testing”</a>.
</p></li></ol>
</div>
<p>
      In MySQL 5.6, <span class="command"><strong>CMake</strong></span> is used as the
      build framework on all platforms. The instructions given here
      should enable you to produce a working installation. For
      additional information on using <span class="command"><strong>CMake</strong></span> to build
      MySQL, see <a class="ulink" href="http://dev.mysql.com/doc/internals/en/cmake.html" target="_top">How to
      Build MySQL Server with CMake</a>.
    </p><p>
      If you start from a source RPM, use the following command to make
      a binary RPM that you can install. If you do not have
      <span class="command"><strong>rpmbuild</strong></span>, use <span class="command"><strong>rpm</strong></span> instead.
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>rpmbuild --rebuild --clean MySQL-<em class="replaceable"><code>VERSION</code></em>.src.rpm</code></strong>
</pre><p>
      The result is one or more binary RPM packages that you install as
      indicated in <a class="xref" href="installing.html#linux-installation-rpm" title="2.5.1. Installing MySQL on Linux Using RPM Packages">Section 2.5.1, “Installing MySQL on Linux Using RPM Packages”</a>.
    </p><p>
      The sequence for installation from a compressed
      <span class="command"><strong>tar</strong></span> file or Zip archive source distribution is
      similar to the process for installing from a generic binary
      distribution (see <a class="xref" href="installing.html#binary-installation" title="2.2. Installing MySQL on Unix/Linux Using Generic Binaries">Section 2.2, “Installing MySQL on Unix/Linux Using Generic Binaries”</a>), except
      that it is used on all platforms and includes steps to configure
      and compile the distribution. For example, with a compressed
      <span class="command"><strong>tar</strong></span> file source distribution on Unix, the basic
      installation command sequence looks like this:
    </p><pre class="programlisting"># Preconfiguration setup
shell&gt; <strong class="userinput"><code>groupadd mysql</code></strong>
shell&gt; <strong class="userinput"><code>useradd -r -g mysql mysql</code></strong>
# Beginning of source-build specific instructions
shell&gt; <strong class="userinput"><code>tar zxvf mysql-<em class="replaceable"><code>VERSION</code></em>.tar.gz</code></strong>
shell&gt; <strong class="userinput"><code>cd mysql-<em class="replaceable"><code>VERSION</code></em></code></strong>
shell&gt; <strong class="userinput"><code>cmake .</code></strong>
shell&gt; <strong class="userinput"><code>make</code></strong>
shell&gt; <strong class="userinput"><code>make install</code></strong>
# End of source-build specific instructions
# Postinstallation setup
shell&gt; <strong class="userinput"><code>cd /usr/local/mysql</code></strong>
shell&gt; <strong class="userinput"><code>chown -R mysql .</code></strong>
shell&gt; <strong class="userinput"><code>chgrp -R mysql .</code></strong>
shell&gt; <strong class="userinput"><code>scripts/mysql_install_db --user=mysql</code></strong>
shell&gt; <strong class="userinput"><code>chown -R root .</code></strong>
shell&gt; <strong class="userinput"><code>chown -R mysql data</code></strong>
shell&gt; <strong class="userinput"><code>bin/mysqld_safe --user=mysql &amp;</code></strong>
# Next command is optional
shell&gt; <strong class="userinput"><code>cp support-files/mysql.server /etc/init.d/mysql.server</code></strong>
</pre><p>
      <a class="link" href="programs.html#mysql-install-db" title="4.4.3. mysql_install_db — Initialize MySQL Data Directory"><span class="command"><strong>mysql_install_db</strong></span></a> creates a default option file
      named <code class="filename">my.cnf</code> in the base installation
      directory. This file is created from a template included in the
      distribution package named <code class="filename">my-default.cnf</code>.
      For more information, see
      <a class="xref" href="server-administration.html#server-default-configuration-file" title="5.1.2.2. Using a Sample Default Server Configuration File">Section 5.1.2.2, “Using a Sample Default Server Configuration File”</a>.
    </p><p>
      A more detailed version of the source-build specific instructions
      is shown following.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
        The procedure shown here does not set up any passwords for MySQL
        accounts. After following the procedure, proceed to
        <a class="xref" href="installing.html#postinstallation" title="2.10. Postinstallation Setup and Testing">Section 2.10, “Postinstallation Setup and Testing”</a>, for postinstallation setup
        and testing.
</p>
</div>
<h4><a name="idp4269024"></a>
      Perform Preconfiguration Setup
</h4>
<p>
      On Unix, set up the <code class="literal">mysql</code> user and group that
      will be used to run and execute the MySQL server and own the
      database directory. For details, see
      <a class="link" href="installing.html#binary-installation-createsysuser" title="2.2.  Create a ???TITLE??? User and Group">Creating a
      <code class="literal">mysql</code> System User and Group</a>, in
      <a class="xref" href="installing.html#binary-installation" title="2.2. Installing MySQL on Unix/Linux Using Generic Binaries">Section 2.2, “Installing MySQL on Unix/Linux Using Generic Binaries”</a>. Then perform the following
      steps as the <code class="literal">mysql</code> user, except as noted.
</p>
<h4><a name="idp4273536"></a>
      Obtain and Unpack the Distribution
</h4>
<p>
      Pick the directory under which you want to unpack the distribution
      and change location into it.
    </p><p>
      Obtain a distribution file using the instructions in
      <a class="xref" href="installing.html#getting-mysql" title="2.1.3. How to Get MySQL">Section 2.1.3, “How to Get MySQL”</a>.
    </p><p>
      Unpack the distribution into the current directory:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          To unpack a compressed <span class="command"><strong>tar</strong></span> file,
          <span class="command"><strong>tar</strong></span> can uncompress and unpack the
          distribution if it has <code class="literal">z</code> option support:
        </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>tar zxvf mysql-<em class="replaceable"><code>VERSION</code></em>.tar.gz</code></strong>
</pre><p>
          If your <span class="command"><strong>tar</strong></span> does not have
          <code class="literal">z</code> option support, use
          <span class="command"><strong>gunzip</strong></span> to unpack the distribution and
          <span class="command"><strong>tar</strong></span> to unpack it:
        </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>gunzip &lt; mysql-<em class="replaceable"><code>VERSION</code></em>.tar.gz | tar xvf -</code></strong>
</pre><p>
          Alternatively, <span class="command"><strong>CMake</strong></span> can uncompress and
          unpack the distribution:
        </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>cmake -E tar zxvf mysql-<em class="replaceable"><code>VERSION</code></em>.tar.gz</code></strong>
</pre></li><li class="listitem"><p>
          To unpack a Zip archive, use <span class="command"><strong>WinZip</strong></span> or
          another tool that can read <code class="filename">.zip</code> files.
</p></li></ul>
</div>
<p>
      Unpacking the distribution file creates a directory named
      <code class="filename">mysql-<em class="replaceable"><code>VERSION</code></em></code>.
</p>
<h4><a name="idp4293040"></a>
      Configure the Distribution
</h4>
<p>
      Change location into the top-level directory of the unpacked
      distribution:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>cd mysql-<em class="replaceable"><code>VERSION</code></em></code></strong>
</pre><p>
      Configure the source directory. The minimum configuration command
      includes no options to override configuration defaults:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>cmake .</code></strong>
</pre><p>
      On Windows, specify the development environment. For example, the
      following commands configure MySQL for 32-bit or 64-bit builds,
      respectively:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>cmake . -G "Visual Studio 9 2008"</code></strong>
shell&gt; <strong class="userinput"><code>cmake . -G "Visual Studio 9 2008 Win64"</code></strong>
</pre><p>
      On Mac OS X, to use the Xcode IDE:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>cmake . -G Xcode</code></strong>
</pre><p>
      When you run <span class="command"><strong>cmake</strong></span>, you might want to add
      options to the command line. Here are some examples:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <a class="link" href="installing.html#option_cmake_build_config"><code class="option">-DBUILD_CONFIG=mysql_release</code></a>:
          Configure the source with the same build options used by
          Oracle to produce binary distributions for official MySQL
          releases.
        </p></li><li class="listitem"><p>
          <a class="link" href="installing.html#option_cmake_cmake_install_prefix"><code class="option">-DCMAKE_INSTALL_PREFIX=<em class="replaceable"><code>dir_name</code></em></code></a>:
          Configure the distribution for installation under a particular
          location.
        </p></li><li class="listitem"><p>
          <a class="link" href="installing.html#option_cmake_cpack_monolithic_install"><code class="option">-DCPACK_MONOLITHIC_INSTALL=1</code></a>:
          Cause <span class="command"><strong>make package</strong></span> to generate a single
          installation file rather than multiple files.
        </p></li><li class="listitem"><p>
          <a class="link" href="installing.html#option_cmake_with_debug"><code class="option">-DWITH_DEBUG=1</code></a>: Build the
          distribution with debugging support.
</p></li></ul>
</div>
<p>
      For a more extensive list of options, see
      <a class="xref" href="installing.html#source-configuration-options" title="2.9.4. MySQL Source-Configuration Options">Section 2.9.4, “MySQL Source-Configuration Options”</a>.
    </p><p>
      To list the configuration options, use one of the following
      commands:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>cmake . -L</code></strong>   # overview
shell&gt; <strong class="userinput"><code>cmake . -LH</code></strong>  # overview with help text
shell&gt; <strong class="userinput"><code>cmake . -LAH</code></strong> # all params with help text
shell&gt; <strong class="userinput"><code>ccmake .</code></strong>     # interactive display
</pre><p>
      If <span class="command"><strong>CMake</strong></span> fails, you might need to reconfigure
      by running it again with different options. If you do reconfigure,
      take note of the following:
</p><a class="indexterm" name="idp4318016"></a><a class="indexterm" name="idp4319104"></a>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          If <span class="command"><strong>CMake</strong></span> is run after it has previously
          been run, it may use information that was gathered during its
          previous invocation. This information is stored in
          <code class="filename">CMakeCache.txt</code>. When
          <span class="command"><strong>CMake</strong></span> starts up, it looks for that file and
          reads its contents if it exists, on the assumption that the
          information is still correct. That assumption is invalid when
          you reconfigure.
        </p></li><li class="listitem"><p>
          Each time you run <span class="command"><strong>CMake</strong></span>, you must run
          <span class="command"><strong>make</strong></span> again to recompile. However, you may
          want to remove old object files from previous builds first
          because they were compiled using different configuration
          options.
</p></li></ul>
</div>
<p>
      To prevent old object files or configuration information from
      being used, run these commands on Unix before re-running
      <span class="command"><strong>CMake</strong></span>:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>make clean</code></strong>
shell&gt; <strong class="userinput"><code>rm CMakeCache.txt</code></strong>
</pre><p>
      Or, on Windows:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>devenv MySQL.sln /clean</code></strong>
shell&gt; <strong class="userinput"><code>del CMakeCache.txt</code></strong>
</pre><p>
      If you build out of the source tree (as described later), the
      <code class="filename">CMakeCache.txt</code> file and all built files are
      in the build directory, so you can remove that directory to object
      files and cached configuration information.
    </p><p>
      If you are going to send mail to a MySQL mailing list to ask for
      configuration assistance, first check the files in the
      <code class="filename">CMakeFiles</code> directory for useful information
      about the failure. To file a bug report, please use the
      instructions in <a class="xref" href="introduction.html#bug-reports" title="1.7. How to Report Bugs or Problems">Section 1.7, “How to Report Bugs or Problems”</a>.
</p>
<h4><a name="idp4335936"></a>
      Build the Distribution
</h4>
<p>
      On Unix:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>make</code></strong>
shell&gt; <strong class="userinput"><code>make VERBOSE=1</code></strong>
</pre><p>
      The second command sets <code class="literal">VERBOSE</code> to show the
      commands for each compiled source.
    </p><p>
      Use <span class="command"><strong>gmake</strong></span> instead on systems where you are
      using GNU <span class="command"><strong>make</strong></span> and it has been installed as
      <span class="command"><strong>gmake</strong></span>.
    </p><p>
      On Windows:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>devenv MySQL.sln /build RelWithDebInfo</code></strong>
</pre><p>
      It is possible to build out of the source tree to keep the tree
      clean. If the top-level source directory is named
      <code class="filename">mysql-src</code> under your current working
      directory, you can build in a directory named
      <code class="filename">build</code> at the same level like this:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>mkdir build</code></strong>
shell&gt; <strong class="userinput"><code>cd build</code></strong>
shell&gt; <strong class="userinput"><code>cmake ../mysql-src</code></strong>
</pre><p>
      If you have gotten to the compilation stage, but the distribution
      does not build, see <a class="xref" href="installing.html#compilation-problems" title="2.9.5. Dealing with Problems Compiling MySQL">Section 2.9.5, “Dealing with Problems Compiling MySQL”</a>, for
      help. If that does not solve the problem, please enter it into our
      bugs database using the instructions given in
      <a class="xref" href="introduction.html#bug-reports" title="1.7. How to Report Bugs or Problems">Section 1.7, “How to Report Bugs or Problems”</a>. If you have installed the latest
      versions of the required tools, and they crash trying to process
      our configuration files, please report that also. However, if you
      get a <code class="literal">command not found</code> error or a similar
      problem for required tools, do not report it. Instead, make sure
      that all the required tools are installed and that your
      <code class="literal">PATH</code> variable is set correctly so that your
      shell can find them.
</p>
<h4><a name="idp4352928"></a>
      Install the Distribution
</h4>
<p>
      On Unix:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>make install</code></strong>
</pre><p>
      This installs the files under the configured installation
      directory (by default, <code class="filename">/usr/local/mysql</code>). You
      might need to run the command as <code class="literal">root</code>.
    </p><p>
      To install in a specific directory, add a
      <code class="literal">DESTDIR</code> parameter to the command line:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>make install DESTDIR="/opt/mysql"</code></strong>
</pre><p>
      Alternatively, generate installation package files that you can
      install where you like:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>make package</code></strong>
</pre><p>
      This operation produces one or more <code class="filename">.tar.gz</code>
      files that can be installed like generic binary distribution
      packages. See <a class="xref" href="installing.html#binary-installation" title="2.2. Installing MySQL on Unix/Linux Using Generic Binaries">Section 2.2, “Installing MySQL on Unix/Linux Using Generic Binaries”</a>. If you run
      <span class="command"><strong>CMake</strong></span> with
      <a class="link" href="installing.html#option_cmake_cpack_monolithic_install"><code class="option">-DCPACK_MONOLITHIC_INSTALL=1</code></a>, the
      operation produces a single file. Otherwise, it produces multiple
      files.
    </p><p>
      On Windows, generate the data directory, then create a
      <code class="filename">.zip</code> archive installation package:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>devenv MySQL.sln /build RelWithDebInfo /project initial_database</code></strong>
shell&gt; <strong class="userinput"><code>devenv MySQL.sln /build RelWithDebInfo /project package</code></strong>
</pre><p>
      You can install the resulting <code class="filename">.zip</code> archive
      where you like. See <a class="xref" href="installing.html#windows-install-archive" title="2.3.5. Installing MySQL on Microsoft Windows Using a noinstall Zip Archive">Section 2.3.5, “Installing MySQL on Microsoft Windows Using a
      <code class="literal">noinstall</code> Zip Archive”</a>.
</p>
<h4><a name="idp4370176"></a>
      Perform Postinstallation Setup
</h4>
<p>
      The remainder of the installation process involves setting up the
      configuration file, creating the core databases, and starting the
      MySQL server. For instructions, see
      <a class="xref" href="installing.html#postinstallation" title="2.10. Postinstallation Setup and Testing">Section 2.10, “Postinstallation Setup and Testing”</a>.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
        The accounts that are listed in the MySQL grant tables initially
        have no passwords. After starting the server, you should set up
        passwords for them using the instructions in
        <a class="xref" href="installing.html#postinstallation" title="2.10. Postinstallation Setup and Testing">Section 2.10, “Postinstallation Setup and Testing”</a>.
</p>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="installing-development-tree"></a>2.9.3. Installing MySQL Using a Development Source Tree</h3>

</div>

</div>

</div>
<a class="indexterm" name="idp4374448"></a><a class="indexterm" name="idp4375520"></a><p>
      This section discusses how to install MySQL from the latest
      development source code. Development trees have not necessarily
      received the same level of testing as standard release
      distributions, so this installation method is usually required
      only if you need the most recent code changes. Do not use a
      development tree for production systems. If your goal is simply to
      get MySQL up and running on your system, you should use a standard
      release distribution (either a binary or source distribution). See
      <a class="xref" href="installing.html#getting-mysql" title="2.1.3. How to Get MySQL">Section 2.1.3, “How to Get MySQL”</a>.
    </p><p>
      MySQL development projects are hosted on
      <a class="ulink" href="http://launchpad.net/" target="_top">Launchpad</a>. MySQL
      projects, including MySQL Server, MySQL Workbench, and others are
      available from the
      <a class="ulink" href="http://launchpad.net/~mysql" target="_top">Oracle/MySQL
      Engineering</a> page. For the repositories related only to
      MySQL Server, see the
      <a class="ulink" href="http://launchpad.net/mysql-server" target="_top">MySQL
      Server</a> page.
    </p><p>
      To install MySQL from a development source tree, your system must
      satisfy the tool requirements listed at
      <a class="xref" href="installing.html#source-installation" title="2.9. Installing MySQL from Source">Section 2.9, “Installing MySQL from Source”</a>, including the requirements
      for Bazaar and <span class="command"><strong>bison</strong></span>.
    </p><p>
      To create a local branch of the MySQL development tree on your
      machine, use this procedure:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
          To obtain a copy of the MySQL source code, you must create a
          new Bazaar branch. If you do not already have a Bazaar
          repository directory set up, you must initialize a new
          directory:
        </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>mkdir mysql-server</code></strong>
shell&gt; <strong class="userinput"><code>bzr init-repo --trees mysql-server</code></strong>
</pre><p>
          This is a one-time operation.
        </p></li><li class="listitem"><p>
          Assuming that you have an initialized repository directory,
          you can branch from the public MySQL server repositories to
          create a local source tree. To create a branch of a specific
          version:
        </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>cd mysql-server</code></strong>
shell&gt; <strong class="userinput"><code>bzr branch lp:mysql-server/5.6 mysql-5.6</code></strong>
</pre><p>
          This is a one-time operation per source tree. You can branch
          the source trees for several versions of MySQL under the
          <code class="filename">mysql-server</code> directory.
        </p></li><li class="listitem"><p>
          The initial download will take some time to complete,
          depending on the speed of your connection. Please be patient.
          Once you have downloaded the first tree, additional trees
          should take significantly less time to download.
        </p></li><li class="listitem"><p>
          When building from the Bazaar branch, you may want to create a
          copy of your active branch so that you can make configuration
          and other changes without affecting the original branch
          contents. You can achieve this by branching from the original
          branch:
        </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>bzr branch mysql-5.6 mysql-5.6-build</code></strong>
</pre></li><li class="listitem"><p>
          To obtain changes made after you have set up the branch
          initially, update it using the <code class="literal">pull</code> option
          periodically. Use this command in the top-level directory of
          the local copy:
        </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>bzr pull</code></strong>
</pre><p>
          To examine the changeset comments for the tree, use the
          <code class="literal">log</code> option to <span class="command"><strong>bzr</strong></span>:
        </p><pre class="programlisting">shell&gt; bzr log</pre><p>
          You can also browse changesets, comments, and source code
          online at the Launchpad
          <a class="ulink" href="http://launchpad.net/mysql-server" target="_top">MySQL
          Server</a> page.
        </p><p>
          If you see diffs (changes) or code that you have a question
          about, do not hesitate to send email to the MySQL
          <code class="literal">internals</code> mailing list. See
          <a class="xref" href="introduction.html#mailing-lists" title="1.6.1. MySQL Mailing Lists">Section 1.6.1, “MySQL Mailing Lists”</a>. If you think you have a
          better idea on how to do something, send an email message to
          the list with a patch.
</p></li></ol>
</div>
<p>
      After you have the local branch, you can build MySQL server from
      the source code. For information, see
      <a class="xref" href="installing.html#installing-source-distribution" title="2.9.2. Installing MySQL Using a Standard Source Distribution">Section 2.9.2, “Installing MySQL Using a Standard Source Distribution”</a>, except that you
      skip the part about obtaining and unpacking the distribution.
    </p><p>
      Be careful about installing a build from a distribution source
      tree on a production machine. The installation command may
      overwrite your live release installation. If you already have
      MySQL installed and do not want to overwrite it, run
      <span class="command"><strong>CMake</strong></span> with values for the
      <a class="link" href="installing.html#option_cmake_cmake_install_prefix"><code class="option">CMAKE_INSTALL_PREFIX</code></a>,
      <a class="link" href="installing.html#option_cmake_mysql_tcp_port"><code class="option">MYSQL_TCP_PORT</code></a>, and
      <a class="link" href="installing.html#option_cmake_mysql_unix_addr"><code class="option">MYSQL_UNIX_ADDR</code></a> options different
      from those used by your production server. For additional
      information about preventing multiple servers from interfering
      with each other, see <a class="xref" href="server-administration.html#multiple-servers" title="5.6. Running Multiple MySQL Instances on One Machine">Section 5.6, “Running Multiple MySQL Instances on One Machine”</a>.
    </p><p>
      Play hard with your new installation. For example, try to make new
      features crash. Start by running <span class="command"><strong>make test</strong></span>. See
      <a class="xref" href="extending-mysql.html#mysql-test-suite" title="23.1.2. The MySQL Test Suite">Section 23.1.2, “The MySQL Test Suite”</a>.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="source-configuration-options"></a>2.9.4. MySQL Source-Configuration Options</h3>

</div>

</div>

</div>
<a class="indexterm" name="idp4413456"></a><a class="indexterm" name="idp4414944"></a><a class="indexterm" name="idp4416432"></a><p>
      The <span class="command"><strong>CMake</strong></span> program provides a great deal of
      control over how you configure a MySQL source distribution.
      Typically, you do this using options on the
      <span class="command"><strong>CMake</strong></span> command line. For information about
      options supported by <span class="command"><strong>CMake</strong></span>, run either of these
      commands in the top-level source directory:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>cmake . -LH</code></strong>
shell&gt; <strong class="userinput"><code>ccmake .</code></strong>
</pre><p>
      You can also affect <span class="command"><strong>CMake</strong></span> using certain
      environment variables. See
      <a class="xref" href="installing.html#environment-variables" title="2.12. Environment Variables">Section 2.12, “Environment Variables”</a>.
    </p><p>
      The following table shows the available <span class="command"><strong>CMake</strong></span>
      options. In the <code class="literal">Default</code> column,
      <code class="literal">PREFIX</code> stands for the value of the
      <a class="link" href="installing.html#option_cmake_cmake_install_prefix"><code class="option">CMAKE_INSTALL_PREFIX</code></a> option, which
      specifies the installation base directory. This value is used as
      the parent location for several of the installation
      subdirectories.
</p>
<div class="table">
<a name="idp4427824"></a><p class="title"><b>Table 2.13. MySQL Source-Configuration Option Reference
(<span class="command">CMake</span>)</b></p>
<div class="table-contents">
<table summary="MySQL Source-Configuration Option Reference
      (CMake)" border="1"><colgroup><col class="formats"><col class="description"><col class="default"><col class="introduced"><col class="removed"></colgroup><thead><tr><th scope="col">Formats</th><th scope="col">Description</th><th scope="col">Default</th><th scope="col">Introduced</th><th scope="col">Removed</th></tr></thead><tbody><tr><td scope="row"><a class="link" href="installing.html#option_cmake_build_config"><code class="literal">BUILD_CONFIG</code></a></td><td>Use same build options as official releases</td><td><code class="literal"></code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_cmake_build_type"><code class="literal">CMAKE_BUILD_TYPE</code></a></td><td>Type of build to produce</td><td><code class="literal">RelWithDebInfo</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_cmake_install_prefix"><code class="literal">CMAKE_INSTALL_PREFIX</code></a></td><td>Installation base directory</td><td><code class="literal">/usr/local/mysql</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_compilation_comment"><code class="literal">COMPILATION_COMMENT</code></a></td><td>Comment about compilation environment</td><td><code class="literal"></code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_cpack_monolithic_install"><code class="literal">CPACK_MONOLITHIC_INSTALL</code></a></td><td>Whether package build produces single file</td><td><code class="literal">OFF</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_default_charset"><code class="literal">DEFAULT_CHARSET</code></a></td><td>The default server character set</td><td><code class="literal">latin1</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_default_collation"><code class="literal">DEFAULT_COLLATION</code></a></td><td>The default server collation</td><td><code class="literal">latin1_swedish_ci</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_enable_debug_sync"><code class="literal">ENABLE_DEBUG_SYNC</code></a></td><td>Whether to enable Debug Sync support</td><td><code class="literal">ON</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_enable_downloads"><code class="literal">ENABLE_DOWNLOADS</code></a></td><td>Whether to download optional files</td><td><code class="literal">OFF</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_enable_dtrace"><code class="literal">ENABLE_DTRACE</code></a></td><td>Whether to include DTrace support</td><td><code class="literal"></code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_enable_gcov"><code class="literal">ENABLE_GCOV</code></a></td><td>Whether to include gcov support</td><td><code class="literal"></code></td><td>5.6.3</td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_enable_gprof"><code class="literal">ENABLE_GPROF</code></a></td><td>Enable gprof (optimized Linux builds only)</td><td><code class="literal">OFF</code></td><td>5.6.6</td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_enabled_local_infile"><code class="literal">ENABLED_LOCAL_INFILE</code></a></td><td>Whether to enable LOCAL for LOAD DATA INFILE</td><td><code class="literal">OFF</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_enabled_profiling"><code class="literal">ENABLED_PROFILING</code></a></td><td>Whether to enable query profiling code</td><td><code class="literal">ON</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_ignore_aio_check"><code class="literal">IGNORE_AIO_CHECK</code></a></td><td>With -DBUILD_CONFIG=mysql_release, ignore libaio check</td><td><code class="literal">OFF</code></td><td>5.6.1</td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_install_bindir"><code class="literal">INSTALL_BINDIR</code></a></td><td>User executables directory</td><td><code class="literal">PREFIX/bin</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_install_docdir"><code class="literal">INSTALL_DOCDIR</code></a></td><td>Documentation directory</td><td><code class="literal">PREFIX/docs</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_install_docreadmedir"><code class="literal">INSTALL_DOCREADMEDIR</code></a></td><td>README file directory</td><td><code class="literal">PREFIX</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_install_includedir"><code class="literal">INSTALL_INCLUDEDIR</code></a></td><td>Header file directory</td><td><code class="literal">PREFIX/include</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_install_infodir"><code class="literal">INSTALL_INFODIR</code></a></td><td>Info file directory</td><td><code class="literal">PREFIX/docs</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_install_layout"><code class="literal">INSTALL_LAYOUT</code></a></td><td>Select predefined installation layout</td><td><code class="literal">STANDALONE</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_install_libdir"><code class="literal">INSTALL_LIBDIR</code></a></td><td>Library file directory</td><td><code class="literal">PREFIX/lib</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_install_mandir"><code class="literal">INSTALL_MANDIR</code></a></td><td>Manual page directory</td><td><code class="literal">PREFIX/man</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_install_mysqlsharedir"><code class="literal">INSTALL_MYSQLSHAREDIR</code></a></td><td>Shared data directory</td><td><code class="literal">PREFIX/share</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_install_mysqltestdir"><code class="literal">INSTALL_MYSQLTESTDIR</code></a></td><td>mysql-test directory</td><td><code class="literal">PREFIX/mysql-test</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_install_plugindir"><code class="literal">INSTALL_PLUGINDIR</code></a></td><td>Plugin directory</td><td><code class="literal">PREFIX/lib/plugin</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_install_sbindir"><code class="literal">INSTALL_SBINDIR</code></a></td><td>Server executable directory</td><td><code class="literal">PREFIX/bin</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_install_scriptdir"><code class="literal">INSTALL_SCRIPTDIR</code></a></td><td>Scripts directory</td><td><code class="literal">PREFIX/scripts</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_install_sharedir"><code class="literal">INSTALL_SHAREDIR</code></a></td><td>aclocal/mysql.m4 installation directory</td><td><code class="literal">PREFIX/share</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_install_sqlbenchdir"><code class="literal">INSTALL_SQLBENCHDIR</code></a></td><td>sql-bench directory</td><td><code class="literal">PREFIX</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_install_supportfilesdir"><code class="literal">INSTALL_SUPPORTFILESDIR</code></a></td><td>Extra support files directory</td><td><code class="literal">PREFIX/support-files</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_memcached_home"><code class="literal">MEMCACHED_HOME</code></a></td><td>Path to memcached</td><td><code class="literal">[none]</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_mysql_datadir"><code class="literal">MYSQL_DATADIR</code></a></td><td>Data directory</td><td><code class="literal"></code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_mysql_maintainer_mode"><code class="literal">MYSQL_MAINTAINER_MODE</code></a></td><td>Whether to enable MySQL maintainer-specific development environment</td><td><code class="literal">OFF</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_mysql_project_name"><code class="literal">MYSQL_PROJECT_NAME</code></a></td><td>Windows/Mac OS X project name</td><td><code class="literal">3306</code></td><td>5.6.5</td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_mysql_tcp_port"><code class="literal">MYSQL_TCP_PORT</code></a></td><td>TCP/IP port number</td><td><code class="literal">3306</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_mysql_unix_addr"><code class="literal">MYSQL_UNIX_ADDR</code></a></td><td>Unix socket file</td><td><code class="literal">/tmp/mysql.sock</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_odbc_includes"><code class="literal">ODBC_INCLUDES</code></a></td><td>ODBC includes directory</td><td><code class="literal"></code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_odbc_lib_dir"><code class="literal">ODBC_LIB_DIR</code></a></td><td>ODBC library directory</td><td><code class="literal"></code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_optimizer_trace"><code class="literal">OPTIMIZER_TRACE</code></a></td><td>Whether to support optimizer tracing</td><td><code class="literal"></code></td><td>5.6.3</td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_sysconfdir"><code class="literal">SYSCONFDIR</code></a></td><td>Option file directory</td><td><code class="literal"></code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_with_bundled_libevent"><code class="literal">WITH_BUNDLED_LIBEVENT</code></a></td><td>Use bundled libevent when building ndbmemcache</td><td><code class="literal">ON</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_with_bundled_memcached"><code class="literal">WITH_BUNDLED_MEMCACHED</code></a></td><td>Use bundled memcached when building ndbmemcache</td><td><code class="literal">ON</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_with_classpath"><code class="literal">WITH_CLASSPATH</code></a></td><td>Classpath to use when building MySQL Cluster Connector for
        Java. Default is an empty string.</td><td><code class="literal"></code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_with_debug"><code class="literal">WITH_DEBUG</code></a></td><td>Whether to include debugging support</td><td><code class="literal">OFF</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_with_default_compiler_options"><code class="literal">WITH_DEFAULT_COMPILER_OPTIONS</code></a></td><td>Whether to use default compiler options</td><td><code class="literal">ON</code></td><td>5.6.6</td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_with_default_feature_set"><code class="literal">WITH_DEFAULT_FEATURE_SET</code></a></td><td>Whether to use default feature set</td><td><code class="literal">ON</code></td><td>5.6.6</td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_with_editline"><code class="literal">WITH_EDITLINE</code></a></td><td>Which libedit/editline library to use</td><td><code class="literal">bundled</code></td><td>5.6.12</td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_with_embedded_server"><code class="literal">WITH_EMBEDDED_SERVER</code></a></td><td>Whether to build embedded server</td><td><code class="literal">OFF</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_storage_engine_options" title="2.9.4.  Storage Engine Options"><code class="literal">WITH_xxx_STORAGE_ENGINE</code></a></td><td>Compile storage engine xxx statically into server</td><td><code class="literal"></code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_with_error_insert"><code class="literal">WITH_ERROR_INSERT</code></a></td><td>Enable error injection in the NDB storage engine.
        Should not be used for building binaries intended for production.</td><td><code class="literal">OFF</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_with_extra_charsets"><code class="literal">WITH_EXTRA_CHARSETS</code></a></td><td>Which extra character sets to include</td><td><code class="literal">all</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_with_innodb_memcached"><code class="literal">WITH_INNODB_MEMCACHED</code></a></td><td>Whether to generate memcached shared libraries.</td><td><code class="literal">OFF</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_with_libedit"><code class="literal">WITH_LIBEDIT</code></a></td><td>Use bundled libedit library</td><td><code class="literal">ON</code></td><td> </td><td>5.6.12</td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_with_libevent"><code class="literal">WITH_LIBEVENT</code></a></td><td>Which libevent library to use</td><td><code class="literal">bundled</code></td><td>5.6.6</td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_with_libwrap"><code class="literal">WITH_LIBWRAP</code></a></td><td>Whether to include libwrap (TCP wrappers) support</td><td><code class="literal">OFF</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_with_ndb_binlog"><code class="literal">WITH_NDB_BINLOG</code></a></td><td>Enable binary logging by default by mysqld.</td><td><code class="literal">ON</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_with_ndb_debug"><code class="literal">WITH_NDB_DEBUG</code></a></td><td>Produce a debug build for testing or troubleshooting.</td><td><code class="literal">OFF</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_with_ndb_java"><code class="literal">WITH_NDB_JAVA</code></a></td><td>Enable building of Java and ClusterJ support. Enabled by
        default. Supported in MySQL Cluster only.</td><td><code class="literal">ON</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_with_ndb_port"><code class="literal">WITH_NDB_PORT</code></a></td><td>Default port used by a management server built with this
        option. If this option was not used to build it, the management
        server's default port is 1186.</td><td><code class="literal">[none]</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_with_ndb_test"><code class="literal">WITH_NDB_TEST</code></a></td><td>
        Include NDB API test programs.
</td><td><code class="literal">OFF</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_with_ndbcluster_storage_engine"><code class="literal">WITH_NDBCLUSTER_STORAGE_ENGINE</code></a></td><td>Build the NDB storage engine</td><td><code class="literal">ON</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_with_ndbmtd"><code class="literal">WITH_NDBMTD</code></a></td><td>Build multi-threaded data node.</td><td><code class="literal">ON</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_with_readline"><code class="literal">WITH_READLINE</code></a></td><td>Use bundled readline library</td><td><code class="literal">OFF</code></td><td> </td><td>5.6.5</td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_with_ssl"><code class="literal">WITH_SSL</code></a></td><td>Type of SSL support</td><td><code class="literal">no</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_with_unixodbc"><code class="literal">WITH_UNIXODBC</code></a></td><td>Enable unixODBC support</td><td><code class="literal">OFF</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_with_zlib"><code class="literal">WITH_ZLIB</code></a></td><td>Type of zlib support</td><td><code class="literal">system</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_storage_engine_options" title="2.9.4.  Storage Engine Options"><code class="literal">WITHOUT_xxx_STORAGE_ENGINE</code></a></td><td>Exclude storage engine xxx from build</td><td><code class="literal"></code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_without_server"><code class="literal">WITHOUT_SERVER</code></a></td><td>Do not build the server</td><td><code class="literal">OFF</code></td><td> </td><td> </td></tr></tbody></table>
</div>

</div>
<br class="table-break"><p>
      The following sections provide more information about
      <span class="command"><strong>CMake</strong></span> options.
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <a class="link" href="installing.html#cmake-general-options" title="2.9.4.  General Options">General Options</a>
        </p></li><li class="listitem"><p>
          <a class="link" href="installing.html#cmake-installation-layout-options" title="2.9.4.  Installation Layout Options">Installation
          Layout Options</a>
        </p></li><li class="listitem"><p>
          <a class="link" href="installing.html#cmake-feature-options" title="2.9.4.  Feature Options">Feature Options</a>
        </p></li><li class="listitem"><p>
          <a class="link" href="installing.html#cmake-mysql-cluster-options" title="2.9.4.  ???TITLE??? Options for Compiling MySQL Cluster">Options for
          Compiling MySQL Cluster</a>
        </p></li><li class="listitem"><p>
          <a class="link" href="installing.html#cmake-compiler-flags" title="2.9.4.  Compiler Flags">Compiler Flags</a>
</p></li></ul>
</div>
<p>
      For boolean options, the value may be specified as 1 or
      <code class="literal">ON</code> to enable the option, or as 0 or
      <code class="literal">OFF</code> to disable the option.
    </p><p>
      Many options configure compile-time defaults that can be
      overridden at server startup. For example, the
      <a class="link" href="installing.html#option_cmake_cmake_install_prefix"><code class="option">CMAKE_INSTALL_PREFIX</code></a>,
      <a class="link" href="installing.html#option_cmake_mysql_tcp_port"><code class="option">MYSQL_TCP_PORT</code></a>, and
      <a class="link" href="installing.html#option_cmake_mysql_unix_addr"><code class="option">MYSQL_UNIX_ADDR</code></a> options that
      configure the default installation base directory location, TCP/IP
      port number, and Unix socket file can be changed at server startup
      with the <a class="link" href="server-administration.html#option_mysqld_basedir"><code class="option">--basedir</code></a>,
      <a class="link" href="server-administration.html#option_mysqld_port"><code class="option">--port</code></a>, and
      <a class="link" href="server-administration.html#option_mysqld_socket"><code class="option">--socket</code></a> options for
      <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>. Where applicable, configuration option
      descriptions indicate the corresponding <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>
      startup option.
</p>
<h4><a name="cmake-general-options"></a>
      General Options
</h4>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_cmake_build_config"></a>
          <a class="indexterm" name="idp4669968"></a>

          <a class="indexterm" name="idp4671456"></a>

          <code class="literal">-DBUILD_CONFIG=mysql_release</code>
        </p><p>
          This option configures a source distribution with the same
          build options used by Oracle to produce binary distributions
          for official MySQL releases.
        </p></li><li class="listitem"><p><a name="option_cmake_cmake_build_type"></a>
          <a class="indexterm" name="idp4675296"></a>

          <a class="indexterm" name="idp4676784"></a>

          <code class="literal">-DCMAKE_BUILD_TYPE=<em class="replaceable"><code>type</code></em></code>
        </p><p>
          The type of build to produce:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              <code class="literal">RelWithDebInfo</code>: Enable optimizations
              and generate debugging information. This is the default
              MySQL build type.
            </p></li><li class="listitem"><p>
              <code class="literal">Debug</code>: Disable optimizations and
              generate debugging information. This build type is also
              used if the <a class="link" href="installing.html#option_cmake_with_debug"><code class="option">WITH_DEBUG</code></a>
              option is enabled. That is,
              <a class="link" href="installing.html#option_cmake_with_debug"><code class="option">-DWITH_DEBUG=1</code></a> has the same
              effect as
              <a class="link" href="installing.html#option_cmake_cmake_build_type"><code class="option">-DCMAKE_BUILD_TYPE=Debug</code></a>.
</p></li></ul>
</div>
</li><li class="listitem"><p><a name="option_cmake_cpack_monolithic_install"></a>
          <a class="indexterm" name="idp4687008"></a>

          <a class="indexterm" name="idp4688512"></a>

          <code class="literal">-DCPACK_MONOLITHIC_INSTALL=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          This option affects whether the <span class="command"><strong>make
          package</strong></span> operation produces multiple installation
          package files or a single file. If disabled, the operation
          produces multiple installation package files, which may be
          useful if you want to install only a subset of a full MySQL
          installation. If enabled, it produces a single file for
          installing everything.
</p></li></ul>
</div>
<h4><a name="cmake-installation-layout-options"></a>
      Installation Layout Options
</h4>
<p>
      The <a class="link" href="installing.html#option_cmake_cmake_install_prefix"><code class="option">CMAKE_INSTALL_PREFIX</code></a> option
      indicates the base installation directory. Other options with
      names of the form
      <code class="literal">INSTALL_<em class="replaceable"><code>xxx</code></em></code> that
      indicate component locations are interpreted relative to the
      prefix and their values are relative pathnames. Their values
      should not include the prefix.
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_cmake_cmake_install_prefix"></a>
          <a class="indexterm" name="idp4697184"></a>

          <a class="indexterm" name="idp4698688"></a>

          <code class="literal">-DCMAKE_INSTALL_PREFIX=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p>
          The installation base directory.
        </p><p>
          This value can be set at server startup with the
          <a class="link" href="server-administration.html#option_mysqld_basedir"><code class="option">--basedir</code></a> option.
        </p></li><li class="listitem"><p><a name="option_cmake_install_bindir"></a>
          <a class="indexterm" name="idp4703984"></a>

          <a class="indexterm" name="idp4705472"></a>

          <code class="literal">-DINSTALL_BINDIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p>
          Where to install user programs.
        </p></li><li class="listitem"><p><a name="option_cmake_install_docdir"></a>
          <a class="indexterm" name="idp4709440"></a>

          <a class="indexterm" name="idp4710928"></a>

          <code class="literal">-DINSTALL_DOCDIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p>
          Where to install documentation.
        </p></li><li class="listitem"><p><a name="option_cmake_install_docreadmedir"></a>
          <a class="indexterm" name="idp4714896"></a>

          <a class="indexterm" name="idp4716400"></a>

          <code class="literal">-DINSTALL_DOCREADMEDIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p>
          Where to install <code class="filename">README</code> files.
        </p></li><li class="listitem"><p><a name="option_cmake_install_includedir"></a>
          <a class="indexterm" name="idp4721088"></a>

          <a class="indexterm" name="idp4722592"></a>

          <code class="literal">-DINSTALL_INCLUDEDIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p>
          Where to install header files.
        </p></li><li class="listitem"><p><a name="option_cmake_install_infodir"></a>
          <a class="indexterm" name="idp4726576"></a>

          <a class="indexterm" name="idp4728064"></a>

          <code class="literal">-DINSTALL_INFODIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p>
          Where to install Info files.
        </p></li><li class="listitem"><p><a name="option_cmake_install_layout"></a>
          <a class="indexterm" name="idp4732032"></a>

          <a class="indexterm" name="idp4733520"></a>

          <code class="literal">-DINSTALL_LAYOUT=<em class="replaceable"><code>name</code></em></code>
        </p><p>
          Select a predefined installation layout:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              <code class="literal">STANDALONE</code>: Same layout as used for
              <code class="filename">.tar.gz</code> and <code class="filename">.zip</code>
              packages. This is the default.
            </p></li><li class="listitem"><p>
              <code class="literal">RPM</code>: Layout similar to RPM packages.
            </p></li><li class="listitem"><p>
              <code class="literal">SVR4</code>: Solaris package layout.
            </p></li><li class="listitem"><p>
              <code class="literal">DEB</code>: DEB package layout (experimental).
</p></li></ul>
</div>
<p>
          You can select a predefined layout but modify individual
          component installation locations by specifying other options.
          For example:
        </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>cmake . -DINSTALL_LAYOUT=SVR4 -DMYSQL_DATADIR=/var/mysql/data</code></strong>
</pre></li><li class="listitem"><p><a name="option_cmake_install_libdir"></a>
          <a class="indexterm" name="idp4747376"></a>

          <a class="indexterm" name="idp4748864"></a>

          <code class="literal">-DINSTALL_LIBDIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p>
          Where to install library files.
        </p></li><li class="listitem"><p><a name="option_cmake_install_mandir"></a>
          <a class="indexterm" name="idp4752832"></a>

          <a class="indexterm" name="idp4754320"></a>

          <code class="literal">-DINSTALL_MANDIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p>
          Where to install manual pages.
        </p></li><li class="listitem"><p><a name="option_cmake_install_mysqlsharedir"></a>
          <a class="indexterm" name="idp4758288"></a>

          <a class="indexterm" name="idp4759792"></a>

          <code class="literal">-DINSTALL_MYSQLSHAREDIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p>
          Where to install shared data files.
        </p></li><li class="listitem"><p><a name="option_cmake_install_mysqltestdir"></a>
          <a class="indexterm" name="idp4763792"></a>

          <a class="indexterm" name="idp4765296"></a>

          <code class="literal">-DINSTALL_MYSQLTESTDIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p>
          Where to install the <code class="filename">mysql-test</code>
          directory. As of MySQL 5.6.12, to suppress installation of
          this directory, explicitly set the option to the empty value
          (<a class="link" href="installing.html#option_cmake_install_mysqltestdir"><code class="option">-DINSTALL_MYSQLTESTDIR=</code></a>).
        </p></li><li class="listitem"><p><a name="option_cmake_install_plugindir"></a>
          <a class="indexterm" name="idp4770992"></a>

          <a class="indexterm" name="idp4772496"></a>

          <code class="literal">-DINSTALL_PLUGINDIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p>
          The location of the plugin directory.
        </p><p>
          This value can be set at server startup with the
          <a class="link" href="server-administration.html#sysvar_plugin_dir"><code class="option">--plugin_dir</code></a> option.
        </p></li><li class="listitem"><p><a name="option_cmake_install_sbindir"></a>
          <a class="indexterm" name="idp4777808"></a>

          <a class="indexterm" name="idp4779296"></a>

          <code class="literal">-DINSTALL_SBINDIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p>
          Where to install the <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> server.
        </p></li><li class="listitem"><p><a name="option_cmake_install_scriptdir"></a>
          <a class="indexterm" name="idp4784096"></a>

          <a class="indexterm" name="idp4785600"></a>

          <code class="literal">-DINSTALL_SCRIPTDIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p>
          Where to install <a class="link" href="programs.html#mysql-install-db" title="4.4.3. mysql_install_db — Initialize MySQL Data Directory"><span class="command"><strong>mysql_install_db</strong></span></a>.
        </p></li><li class="listitem"><p><a name="option_cmake_install_sharedir"></a>
          <a class="indexterm" name="idp4790416"></a>

          <a class="indexterm" name="idp4791904"></a>

          <code class="literal">-DINSTALL_SHAREDIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p>
          Where to install <code class="filename">aclocal/mysql.m4</code>.
        </p></li><li class="listitem"><p><a name="option_cmake_install_sqlbenchdir"></a>
          <a class="indexterm" name="idp4796576"></a>

          <a class="indexterm" name="idp4798080"></a>

          <code class="literal">-DINSTALL_SQLBENCHDIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p>
          Where to install the <code class="filename">sql-bench</code> directory.
          To suppress installation of this directory, explicitly set the
          option to the empty value
          (<a class="link" href="installing.html#option_cmake_install_sqlbenchdir"><code class="option">-DINSTALL_SQLBENCHDIR=</code></a>).
        </p></li><li class="listitem"><p><a name="option_cmake_install_supportfilesdir"></a>
          <a class="indexterm" name="idp4803744"></a>

          <a class="indexterm" name="idp4805248"></a>

          <code class="literal">-DINSTALL_SUPPORTFILESDIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p>
          Where to install extra support files.
        </p></li><li class="listitem"><p><a name="option_cmake_mysql_datadir"></a>
          <a class="indexterm" name="idp4809264"></a>

          <a class="indexterm" name="idp4810752"></a>

          <code class="literal">-DMYSQL_DATADIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p>
          The location of the MySQL data directory.
        </p><p>
          This value can be set at server startup with the
          <a class="link" href="server-administration.html#option_mysqld_datadir"><code class="option">--datadir</code></a> option.
        </p></li><li class="listitem"><p><a name="option_cmake_optimizer_trace"></a>
          <a class="indexterm" name="idp4816048"></a>

          <a class="indexterm" name="idp4817536"></a>

          <code class="literal">-DOPTIMIZER_TRACE=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          Whether to support optimizer tracing. See
          <a class="ulink" href="http://dev.mysql.com/doc/internals/en/optimizer-tracing.html" target="_top">MySQL
          Internals: Tracing the Optimizer</a>. This option was
          added in MySQL 5.6.3.
        </p></li><li class="listitem"><p><a name="option_cmake_sysconfdir"></a>
          <a class="indexterm" name="idp4822352"></a>

          <a class="indexterm" name="idp4823840"></a>

          <code class="literal">-DSYSCONFDIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p>
          The default <code class="literal">my.cnf</code> option file directory.
        </p><p>
          This location cannot be set at server startup, but you can
          start the server with a given option file using the
          <a class="link" href="programs.html#option_general_defaults-file"><code class="option">--defaults-file=<em class="replaceable"><code>file_name</code></em></code></a>
          option, where <em class="replaceable"><code>file_name</code></em> is the full
          path name to the file.
        </p></li><li class="listitem"><p><a name="option_cmake_odbc_includes"></a>
          <a class="indexterm" name="idp4830704"></a>

          <a class="indexterm" name="idp4832192"></a>

          <code class="literal">-DODBC_INCLUDES=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p>
          The location of the ODBC includes directory, and may be used
          while configuring Connector/ODBC.
        </p></li><li class="listitem"><p><a name="option_cmake_odbc_lib_dir"></a>
          <a class="indexterm" name="idp4836240"></a>

          <a class="indexterm" name="idp4837728"></a>

          <code class="literal">-DODBC_LIB_DIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p>
          The location of the ODBC library directory, and may be used
          while configuring Connector/ODBC.
</p></li></ul>
</div>
<h4><a name="option_cmake_storage_engine_options"></a>
      Storage Engine Options
</h4>
<p>
      Storage engines are built as plugins. You can build a plugin as a
      static module (compiled into the server) or a dynamic module
      (built as a dynamic library that must be installed into the server
      using the <a class="link" href="sql-syntax.html#install-plugin" title="13.7.3.3. INSTALL PLUGIN Syntax"><code class="literal">INSTALL PLUGIN</code></a> statement
      or the <a class="link" href="server-administration.html#option_mysqld_plugin-load"><code class="option">--plugin-load</code></a> option before
      it can be used). Some plugins might not support static or dynamic
      building.
    </p><p>
      The <a class="link" href="storage-engines.html#myisam-storage-engine" title="14.3. The MyISAM Storage Engine"><code class="literal">MyISAM</code></a>,
      <a class="link" href="storage-engines.html#merge-storage-engine" title="14.8. The MERGE Storage Engine"><code class="literal">MERGE</code></a>,
      <a class="link" href="storage-engines.html#memory-storage-engine" title="14.4. The MEMORY Storage Engine"><code class="literal">MEMORY</code></a>, and
      <a class="link" href="storage-engines.html#csv-storage-engine" title="14.5. The CSV Storage Engine"><code class="literal">CSV</code></a> engines are mandatory (always
      compiled into the server) and need not be installed explicitly.
    </p><p>
      To compile a storage engine statically into the server, use
      <code class="literal">-DWITH_<em class="replaceable"><code>engine</code></em>_STORAGE_ENGINE=1</code>.
      Some permissible <em class="replaceable"><code>engine</code></em> values are
      <code class="literal">ARCHIVE</code>, <code class="literal">BLACKHOLE</code>,
      <code class="literal">EXAMPLE</code>, <code class="literal">FEDERATED</code>,
      <code class="literal">INNOBASE</code> (<a class="link" href="storage-engines.html#innodb-storage-engine" title="14.2. The InnoDB Storage Engine"><code class="literal">InnoDB</code></a>),
      <code class="literal">NDB</code> or <code class="literal">NDBCLUSTER</code>
      (<a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a>), <code class="literal">PARTITION</code>
      (partitioning support), and <code class="literal">PERFSCHEMA</code>
      (Performance Schema). Examples:
    </p><pre class="programlisting">-DWITH_INNOBASE_STORAGE_ENGINE=1
-DWITH_ARCHIVE_STORAGE_ENGINE=1
-DWITH_BLACKHOLE_STORAGE_ENGINE=1
-DWITH_PERFSCHEMA_STORAGE_ENGINE=1</pre>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
        <a class="link" href="installing.html#option_cmake_with_ndbcluster_storage_engine"><code class="option">WITH_NDBCLUSTER_STORAGE_ENGINE</code></a> is
        supported only when building MySQL Cluster using the MySQL
        Cluster sources. It cannot be used to enable clustering support
        in other MySQL source trees or distributions. In MySQL Cluster
        NDB 7.3 source distributions, it is enabled by default. See
        <a class="xref" href="mysql-cluster.html#mysql-cluster-install-linux-source" title="17.2.2.3. Building MySQL Cluster from Source on Linux">Section 17.2.2.3, “Building MySQL Cluster from Source on Linux”</a>, and
        <a class="xref" href="mysql-cluster.html#mysql-cluster-install-windows-source" title="17.2.3.2. Compiling and Installing MySQL Cluster from Source on Windows">Section 17.2.3.2, “Compiling and Installing MySQL Cluster from Source on Windows”</a>, for more
        information.
</p>
</div>
<p>
      To exclude a storage engine from the build, use
      <code class="literal">-DWITHOUT_<em class="replaceable"><code>engine</code></em>_STORAGE_ENGINE=1</code>.
      Examples:
    </p><pre class="programlisting">-DWITHOUT_EXAMPLE_STORAGE_ENGINE=1
-DWITHOUT_FEDERATED_STORAGE_ENGINE=1
-DWITHOUT_PARTITION_STORAGE_ENGINE=1</pre><p>
      If neither
      <code class="literal">-DWITH_<em class="replaceable"><code>engine</code></em>_STORAGE_ENGINE</code>
      nor
      <code class="literal">-DWITHOUT_<em class="replaceable"><code>engine</code></em>_STORAGE_ENGINE</code>
      are specified for a given storage engine, the engine is built as a
      shared module, or excluded if it cannot be built as a shared
      module.
</p>
<h4><a name="cmake-feature-options"></a>
      Feature Options
</h4>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_cmake_compilation_comment"></a>
          <a class="indexterm" name="idp4869376"></a>

          <a class="indexterm" name="idp4870880"></a>

          <code class="literal">-DCOMPILATION_COMMENT=<em class="replaceable"><code>string</code></em></code>
        </p><p>
          A descriptive comment about the compilation environment.
        </p></li><li class="listitem"><p><a name="option_cmake_default_charset"></a>
          <a class="indexterm" name="idp4874896"></a>

          <a class="indexterm" name="idp4876384"></a>

          <code class="literal">-DDEFAULT_CHARSET=<em class="replaceable"><code>charset_name</code></em></code>
        </p><p>
          The server character set. By default, MySQL uses the
          <code class="literal">latin1</code> (cp1252 West European) character
          set.
        </p><p>
          <em class="replaceable"><code>charset_name</code></em> may be one of
          <code class="literal">binary</code>, <code class="literal">armscii8</code>,
          <code class="literal">ascii</code>, <code class="literal">big5</code>,
          <code class="literal">cp1250</code>, <code class="literal">cp1251</code>,
          <code class="literal">cp1256</code>, <code class="literal">cp1257</code>,
          <code class="literal">cp850</code>, <code class="literal">cp852</code>,
          <code class="literal">cp866</code>, <code class="literal">cp932</code>,
          <code class="literal">dec8</code>, <code class="literal">eucjpms</code>,
          <code class="literal">euckr</code>, <code class="literal">gb2312</code>,
          <code class="literal">gbk</code>, <code class="literal">geostd8</code>,
          <code class="literal">greek</code>, <code class="literal">hebrew</code>,
          <code class="literal">hp8</code>, <code class="literal">keybcs2</code>,
          <code class="literal">koi8r</code>, <code class="literal">koi8u</code>,
          <code class="literal">latin1</code>, <code class="literal">latin2</code>,
          <code class="literal">latin5</code>, <code class="literal">latin7</code>,
          <code class="literal">macce</code>, <code class="literal">macroman</code>,
          <code class="literal">sjis</code>, <code class="literal">swe7</code>,
          <code class="literal">tis620</code>, <code class="literal">ucs2</code>,
          <code class="literal">ujis</code>, <code class="literal">utf8</code>,
          <code class="literal">utf8mb4</code>, <code class="literal">utf16</code>,
          <code class="literal">utf16le</code>, <code class="literal">utf32</code>. The
          permissible character sets are listed in the
          <code class="filename">cmake/character_sets.cmake</code> file as the
          value of <code class="literal">CHARSETS_AVAILABLE</code>.
        </p><p>
          This value can be set at server startup with the
          <a class="link" href="server-administration.html#sysvar_character_set_server"><code class="option">--character_set_server</code></a> option.
        </p></li><li class="listitem"><p><a name="option_cmake_default_collation"></a>
          <a class="indexterm" name="idp4912992"></a>

          <a class="indexterm" name="idp4914496"></a>

          <code class="literal">-DDEFAULT_COLLATION=<em class="replaceable"><code>collation_name</code></em></code>
        </p><p>
          The server collation. By default, MySQL uses
          <code class="literal">latin1_swedish_ci</code>. Use the
          <a class="link" href="sql-syntax.html#show-collation" title="13.7.5.5. SHOW COLLATION Syntax"><code class="literal">SHOW COLLATION</code></a> statement to
          determine which collations are available for each character
          set.
        </p><p>
          This value can be set at server startup with the
          <a class="link" href="server-administration.html#sysvar_collation_server"><code class="option">--collation_server</code></a> option.
        </p></li><li class="listitem"><p><a name="option_cmake_enable_debug_sync"></a>
          <a class="indexterm" name="idp4921472"></a>

          <a class="indexterm" name="idp4922976"></a>

          <code class="literal">-DENABLE_DEBUG_SYNC=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          Whether to compile the Debug Sync facility into the server.
          This facility is used for testing and debugging. This option
          is enabled by default, but has no effect unless MySQL is
          configured with debugging enabled. If debugging is enabled and
          you want to disable Debug Sync, use
          <a class="link" href="installing.html#option_cmake_enable_debug_sync"><code class="option">-DENABLE_DEBUG_SYNC=0</code></a>.
        </p><p>
          When compiled in, Debug Sync is disabled by default at
          runtime. To enable it, start <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> with
          the
          <a class="link" href="server-administration.html#option_mysqld_debug-sync-timeout"><code class="option">--debug-sync-timeout=<em class="replaceable"><code>N</code></em></code></a>
          option, where <em class="replaceable"><code>N</code></em> is a timeout value
          greater than 0. (The default value is 0, which disables Debug
          Sync.) <em class="replaceable"><code>N</code></em> becomes the default
          timeout for individual synchronization points.
        </p><p>
          For a description of the Debug Sync facility and how to use
          synchronization points, see
          <a class="ulink" href="http://dev.mysql.com/doc/internals/en/test-synchronization.html" target="_top">MySQL
          Internals: Test Synchronization</a>.
        </p></li><li class="listitem"><p><a name="option_cmake_enable_downloads"></a>
          <a class="indexterm" name="idp4932928"></a>

          <a class="indexterm" name="idp4934416"></a>

          <a class="indexterm" name="idp4935904"></a>

          <code class="literal">-DENABLE_DOWNLOADS=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          Whether to download optional files. For example, with this
          option enabled, <span class="command"><strong>CMake</strong></span> downloads the Google
          Test distribution that is used by the test suite to run unit
          tests.
        </p></li><li class="listitem"><p><a name="option_cmake_enable_dtrace"></a>
          <a class="indexterm" name="idp4940320"></a>

          <a class="indexterm" name="idp4941808"></a>

          <code class="literal">-DENABLE_DTRACE=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          Whether to include support for DTrace probes. For information
          about DTrace, wee <a class="xref" href="server-administration.html#dba-dtrace-server" title="5.7. Tracing mysqld Using DTrace">Section 5.7, “Tracing <span class="command"><strong>mysqld</strong></span> Using DTrace”</a>
        </p></li><li class="listitem"><p><a name="option_cmake_enable_gcov"></a>
          <a class="indexterm" name="idp4946352"></a>

          <a class="indexterm" name="idp4947840"></a>

          <code class="literal">-DENABLE_GCOV=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          Whether to include gcov support (Linux only).
        </p></li><li class="listitem"><p><a name="option_cmake_enable_gprof"></a>
          <a class="indexterm" name="idp4951824"></a>

          <a class="indexterm" name="idp4953312"></a>

          <code class="literal">-DENABLE_GPROF=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          Whether to enable <code class="literal">gprof</code> (optimized Linux
          builds only). This option was added in MySQL 5.6.6.
        </p></li><li class="listitem"><p><a name="option_cmake_enabled_local_infile"></a>
          <a class="indexterm" name="idp4958064"></a>

          <a class="indexterm" name="idp4959568"></a>

          <code class="literal">-DENABLED_LOCAL_INFILE=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          Whether to enable <code class="literal">LOCAL</code> capability in the
          client library for
          <a class="link" href="sql-syntax.html#load-data" title="13.2.6. LOAD DATA INFILE Syntax"><code class="literal">LOAD DATA
          INFILE</code></a>.
        </p><p>
          This option controls client-side <code class="literal">LOCAL</code>
          capability, but the capability can be set on the server side
          at server startup with the
          <a class="link" href="server-administration.html#sysvar_local_infile"><code class="literal">--local-infile</code></a> option. See
          <a class="xref" href="security.html#load-data-local" title="6.1.6. Security Issues with LOAD DATA LOCAL">Section 6.1.6, “Security Issues with <code class="literal">LOAD
      DATA LOCAL</code>”</a>.
        </p></li><li class="listitem"><p><a name="option_cmake_enabled_profiling"></a>
          <a class="indexterm" name="idp4967840"></a>

          <a class="indexterm" name="idp4969344"></a>

          <code class="literal">-DENABLED_PROFILING=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          Whether to enable query profiling code (for the
          <a class="link" href="sql-syntax.html#show-profile" title="13.7.5.31. SHOW PROFILE Syntax"><code class="literal">SHOW PROFILE</code></a> and
          <a class="link" href="sql-syntax.html#show-profiles" title="13.7.5.32. SHOW PROFILES Syntax"><code class="literal">SHOW PROFILES</code></a> statements).
        </p></li><li class="listitem"><p><a name="option_cmake_ignore_aio_check"></a>
          <a class="indexterm" name="idp4975040"></a>

          <a class="indexterm" name="idp4976528"></a>

          <code class="literal">-DIGNORE_AIO_CHECK=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          If the
          <a class="link" href="installing.html#option_cmake_build_config"><code class="option">-DBUILD_CONFIG=mysql_release</code></a>
          option is given on Linux, the <code class="literal">libaio</code>
          library must be linked in by default. If you do not have
          <code class="literal">libaio</code> or do not want to install it, you
          can suppress the check for it by specifying
          <a class="link" href="installing.html#option_cmake_ignore_aio_check"><code class="option">-DIGNORE_AIO_CHECK=1</code></a>. This
          option was added in MySQL 5.6.1.
        </p></li><li class="listitem"><p><a name="option_cmake_mysql_maintainer_mode"></a>
          <a class="indexterm" name="idp4983888"></a>

          <a class="indexterm" name="idp4985392"></a>

          <code class="literal">-DMYSQL_MAINTAINER_MODE=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          Whether to enable a MySQL maintainer-specific development
          environment. If enabled, this option causes compiler warnings
          to become errors.
        </p></li><li class="listitem"><p><a name="option_cmake_mysql_project_name"></a>
          <a class="indexterm" name="idp4989520"></a>

          <a class="indexterm" name="idp4991024"></a>

          <code class="literal">-DMYSQL_PROJECT_NAME=<em class="replaceable"><code>name</code></em></code>
        </p><p>
          For Windows or Mac OS X, the project name to incorporate into
          the project file name. This option was added in MySQL 5.6.5.
        </p></li><li class="listitem"><p><a name="option_cmake_mysql_tcp_port"></a>
          <a class="indexterm" name="idp4995120"></a>

          <a class="indexterm" name="idp4996608"></a>

          <a class="indexterm" name="idp4998096"></a>

          <a class="indexterm" name="idp4999168"></a>

          <a class="indexterm" name="idp5000240"></a>

          <code class="literal">-DMYSQL_TCP_PORT=<em class="replaceable"><code>port_num</code></em></code>
        </p><p>
          The port number on on which the server listens for TCP/IP
          connections. The default is 3306.
        </p><p>
          This value can be set at server startup with the
          <a class="link" href="server-administration.html#option_mysqld_port"><code class="option">--port</code></a> option.
        </p></li><li class="listitem"><p><a name="option_cmake_mysql_unix_addr"></a>
          <a class="indexterm" name="idp5005184"></a>

          <a class="indexterm" name="idp5006672"></a>

          <code class="literal">-DMYSQL_UNIX_ADDR=<em class="replaceable"><code>file_name</code></em></code>
        </p><p>
          The Unix socket file path on which the server listens for
          socket connections. This must be an absolute path name. The
          default is <code class="filename">/tmp/mysql.sock</code>.
        </p><p>
          This value can be set at server startup with the
          <a class="link" href="server-administration.html#option_mysqld_socket"><code class="option">--socket</code></a> option.
        </p></li><li class="listitem"><p><a name="option_cmake_with_debug"></a>
          <a class="indexterm" name="idp5012768"></a>

          <a class="indexterm" name="idp5014256"></a>

          <code class="literal">-DWITH_DEBUG=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          Whether to include debugging support.
        </p><p>
          Configuring MySQL with debugging support enables you to use
          the <a class="link" href="server-administration.html#option_mysqld_debug"><code class="option">--debug="d,parser_debug"</code></a>
          option when you start the server. This causes the Bison parser
          that is used to process SQL statements to dump a parser trace
          to the server's standard error output. Typically, this output
          is written to the error log.
        </p></li><li class="listitem"><p><a name="option_cmake_with_default_compiler_options"></a>
          <a class="indexterm" name="idp5019856"></a>

          <a class="indexterm" name="idp5021360"></a>

          <code class="literal">-DWITH_DEFAULT_COMPILER_OPTIONS=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          Whether to use the flags from
          <code class="filename">cmake/build_configurations/compiler_options.cmake</code>.
          This option was added in MySQL 5.6.6.
        </p></li><li class="listitem"><p><a name="option_cmake_with_default_feature_set"></a>
          <a class="indexterm" name="idp5026160"></a>

          <a class="indexterm" name="idp5027664"></a>

          <code class="literal">-DWITH_DEFAULT_FEATURE_SET=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          Whether to use the flags from
          <code class="filename">cmake/build_configurations/feature_set.cmake</code>.
          This option was added in MySQL 5.6.6.
        </p></li><li class="listitem"><p><a name="option_cmake_with_editline"></a>
          <a class="indexterm" name="idp5032464"></a>

          <a class="indexterm" name="idp5033952"></a>

          <code class="literal">-DWITH_EDITLINE=<em class="replaceable"><code>value</code></em></code>
        </p><p>
          Which <code class="literal">libedit</code>/<code class="literal">editline</code>
          library to use. The permitted values are
          <code class="literal">bundled</code> (the default) and
          <code class="literal">system</code>.
        </p><p>
          <a class="link" href="installing.html#option_cmake_with_editline"><code class="option">WITH_EDITLINE</code></a> was added in MySQL
          5.6.12. It replaces
          <a class="link" href="installing.html#option_cmake_with_libedit"><code class="option">WITH_LIBEDIT</code></a>, which has been
          removed.
        </p></li><li class="listitem"><p><a name="option_cmake_with_embedded_server"></a>
          <a class="indexterm" name="idp5042992"></a>

          <a class="indexterm" name="idp5044496"></a>

          <code class="literal">-DWITH_EMBEDDED_SERVER=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          Whether to build the <code class="literal">libmysqld</code> embedded
          server library.
        </p></li><li class="listitem"><p><a name="option_cmake_with_extra_charsets"></a>
          <a class="indexterm" name="idp5049216"></a>

          <a class="indexterm" name="idp5050720"></a>

          <code class="literal">-DWITH_EXTRA_CHARSETS=<em class="replaceable"><code>name</code></em></code>
        </p><p>
          Which extra character sets to include:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              <code class="literal">all</code>: All character sets. This is the
              default.
            </p></li><li class="listitem"><p>
              <code class="literal">complex</code>: Complex character sets.
            </p></li><li class="listitem"><p>
              <code class="literal">none</code>: No extra character sets.
</p></li></ul>
</div>
</li><li class="listitem"><p><a name="option_cmake_with_innodb_memcached"></a>
          <a class="indexterm" name="idp5059616"></a>

          <a class="indexterm" name="idp5061120"></a>

          <code class="literal">-DWITH_INNODB_MEMCACHED=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          Whether to generate memcached shared libraries
          (<code class="filename">libmemcached.so</code> and
          <code class="filename">innodb_engine.so</code>).
        </p></li><li class="listitem"><p><a name="option_cmake_with_libevent"></a>
          <a class="indexterm" name="idp5066576"></a>

          <a class="indexterm" name="idp5068064"></a>

          <code class="literal">-DWITH_LIBEVENT=<em class="replaceable"><code>string</code></em></code>
        </p><p>
          Which <code class="literal">libevent</code> library to use. Permitted
          values are <code class="literal">bundled</code> (default),
          <code class="literal">system</code>, and <code class="literal">yes</code>. If you
          specify <code class="literal">system</code> or <code class="literal">yes</code>,
          the system <code class="literal">libevent</code> library is used if
          present. If the system library is not found, the bundled
          <code class="literal">libevent</code> library is used. The
          <code class="literal">libevent</code> library is required by
          <code class="literal">InnoDB</code> memcached.
        </p></li><li class="listitem"><p><a name="option_cmake_with_libedit"></a>
          <a class="indexterm" name="idp5079296"></a>

          <a class="indexterm" name="idp5080784"></a>

          <code class="literal">-DWITH_LIBEDIT=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          Whether to use the <code class="literal">libedit</code> library bundled
          with the distribution.
        </p><p>
          <a class="link" href="installing.html#option_cmake_with_libedit"><code class="option">WITH_LIBEDIT</code></a> was removed in
          MySQL 5.6.12. Use <a class="link" href="installing.html#option_cmake_with_editline"><code class="option">WITH_EDITLINE</code></a>
          instead.
        </p></li><li class="listitem"><p><a name="option_cmake_with_libwrap"></a>
          <a class="indexterm" name="idp5087664"></a>

          <a class="indexterm" name="idp5089152"></a>

          <code class="literal">-DWITH_LIBWRAP=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          Whether to include <code class="literal">libwrap</code> (TCP wrappers)
          support.
        </p></li><li class="listitem"><p><a name="option_cmake_with_readline"></a>
          <a class="indexterm" name="idp5093856"></a>

          <a class="indexterm" name="idp5095344"></a>

          <code class="literal">-DWITH_READLINE=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          Whether to use the <code class="literal">readline</code> library bundled
          with the distribution. This option was removed in MySQL 5.6.5
          because <code class="literal">readline</code> is no longer bundled.
        </p></li><li class="listitem"><p><a name="option_cmake_with_ssl"></a>
          <a class="indexterm" name="idp5100832"></a>

          <a class="indexterm" name="idp5102320"></a>

          <code class="literal">-DWITH_SSL={<em class="replaceable"><code>ssl_type</code></em></code>|<em class="replaceable"><code>path_name</code></em>}
        </p></li><li class="listitem"><p>
          The type of SSL support to include (if any) or the path name
          to the OpenSSL installation to use.
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              <em class="replaceable"><code>ssl_type</code></em> can be one of the
              following values:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: square; "><li class="listitem"><p>
                  <code class="literal">no</code>: No SSL support. This is the
                  default before MySQL 5.6.6. As of 5.6.6, this is no
                  longer a permitted value and the default is
                  <code class="literal">bundled</code>.
                </p></li><li class="listitem"><p>
                  <code class="literal">yes</code>: Use the system SSL library if
                  present, else the library bundled with the
                  distribution.
                </p></li><li class="listitem"><p>
                  <code class="literal">bundled</code>: Use the SSL library
                  bundled with the distribution. This is the default as
                  of MySQL 5.6.6.
                </p></li><li class="listitem"><p>
                  <code class="literal">system</code>: Use the system SSL library.
</p></li></ul>
</div>
</li><li class="listitem"><p>
              <em class="replaceable"><code>path_name</code></em>, permitted for MySQL
              5.6.7 and after, is the path name to the OpenSSL
              installation to use. Using this can be preferable to using
              the <em class="replaceable"><code>ssl_type</code></em> value of
              <code class="literal">system</code>, for it can prevent CMake from
              detecting and using an older or incorrect OpenSSL version
              installed on the system. (Another permitted way to do the
              same thing is to set the
              <code class="option">CMAKE_PREFIX_PATH</code> option to
              <em class="replaceable"><code>path_name</code></em>.)
</p></li></ul>
</div>
<p>
          For information about using SSL support, see
          <a class="xref" href="security.html#ssl-connections" title="6.3.9. Using SSL for Secure Connections">Section 6.3.9, “Using SSL for Secure Connections”</a>.
        </p></li><li class="listitem"><p><a name="option_cmake_with_zlib"></a>
          <a class="indexterm" name="idp5120976"></a>

          <a class="indexterm" name="idp5122464"></a>

          <code class="literal">-DWITH_ZLIB=<em class="replaceable"><code>zlib_type</code></em></code>
        </p><p>
          Some features require that the server be built with
          compression library support, such as the
          <a class="link" href="functions.html#function_compress"><code class="literal">COMPRESS()</code></a> and
          <a class="link" href="functions.html#function_uncompress"><code class="literal">UNCOMPRESS()</code></a> functions, and
          compression of the client/server protocol. The
          <a class="link" href="installing.html#option_cmake_with_zlib"><code class="option">WITH_ZLIB</code></a> indicates the source
          of <code class="literal">zlib</code> support:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              <code class="literal">bundled</code>: Use the
              <code class="literal">zlib</code> library bundled with the
              distribution.
            </p></li><li class="listitem"><p>
              <code class="literal">system</code>: Use the system
              <code class="literal">zlib</code> library. This is the default.
</p></li></ul>
</div>
</li><li class="listitem"><p><a name="option_cmake_with_unixodbc"></a>
          <a class="indexterm" name="idp5134768"></a>

          <a class="indexterm" name="idp5136256"></a>

          <code class="literal">-DWITH_UNIXODBC=<em class="replaceable"><code>1</code></em></code>
        </p><p>
          Enables unixODBC support, for Connector/ODBC.
        </p></li><li class="listitem"><p><a name="option_cmake_without_server"></a>
          <a class="indexterm" name="idp5140208"></a>

          <a class="indexterm" name="idp5141696"></a>

          <code class="literal">-DWITHOUT_SERVER=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          Whether to build without the MySQL server. The default is
          <code class="literal">OFF</code>, which does build the server.
</p></li></ul>
</div>
<h4><a name="cmake-compiler-flags"></a>
      Compiler Flags
</h4>
<p>
      To specify compiler flags, set the <code class="literal">CFLAGS</code> and
      <code class="literal">CXXFLAGS</code> environment variables before running
      <span class="command"><strong>CMake</strong></span>. Example:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>CFLAGS=-DHAVE_EMBEDDED_PRIVILEGE_CONTROL</code></strong>
shell&gt; <strong class="userinput"><code>CXXFLAGS=-DHAVE_EMBEDDED_PRIVILEGE_CONTROL</code></strong>
shell&gt; <strong class="userinput"><code>export CFLAGS CXXFLAGS</code></strong>
shell&gt; <strong class="userinput"><code>cmake [<em class="replaceable"><code>options</code></em>]</code></strong>
</pre><p>
      The following flags control configuration features:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_cmake_have_embedded_privilege_control"></a>
          <a class="indexterm" name="idp5154624"></a>

          <a class="indexterm" name="idp5156128"></a>

          <code class="literal">HAVE_EMBEDDED_PRIVILEGE_CONTROL</code>
        </p><p>
          By default, authentication for connections to the embedded
          server is disabled. To enable connection authentication,
          define this flag.
</p></li></ul>
</div>
<h4><a name="cmake-mysql-cluster-options"></a>
      <span class="command"><strong>CMake</strong></span> Options for Compiling MySQL Cluster
</h4>
<p>
      The following options are for use when building MySQL Cluster with
      the MySQL Cluster sources; they are not currently supported when
      using sources from the MySQL 5.6 Server tree.
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_cmake_memcached_home"></a>
          <a class="indexterm" name="idp5162384"></a>

          <a class="indexterm" name="idp5163872"></a>

          <code class="literal">-DMEMCACHED_HOME=<em class="replaceable"><code>path</code></em></code>
        </p><p>
          Perform the build using the memcached (version 1.6 or later)
          installed in the system directory indicated by
          <em class="replaceable"><code>path</code></em>. Files from this installation
          that are used in the build include the memcached binary,
          header files, and libraries, as well as the
          <code class="literal">memcached_utilities</code> library and the header
          file <code class="filename">engine_testapp.h</code>.
        </p><p>
          You must leave this option unset when building
          <code class="literal">ndbmemcache</code> using the bundled memcached
          sources (<a class="link" href="installing.html#option_cmake_with_bundled_memcached"><code class="option">WITH_BUNDLED_MEMCACHED</code></a>
          option); in other words, the bundled sources are used by
          default).
        </p><p>
          This option was added in MySQL Cluster NDB 7.2.2.
        </p><p>
          While additional <span class="command"><strong>CMake</strong></span> options—such
          as for SASL authorization and for providing
          <code class="literal">dtrace</code> support—are available for use
          when compiling <span class="command"><strong>memcached</strong></span> from external
          sources, these options are currently not enabled for the
          <span class="command"><strong>memcached</strong></span> sources bundled with MySQL
          Cluster.
        </p></li><li class="listitem"><p><a name="option_cmake_with_bundled_libevent"></a>
          <a class="indexterm" name="idp5176272"></a>

          <a class="indexterm" name="idp5177776"></a>

          <code class="literal">-DWITH_BUNDLED_LIBEVENT={ON|OFF}</code>
        </p><p>
          Use the <code class="literal">libevent</code> included in the MySQL
          Cluster sources when building MySQL Cluster with ndbmemcached
          support (MySQL Cluster NDB 7.2.2 and later). Enabled by
          default. OFF causes the system's libevent to be used
          instead.
        </p></li><li class="listitem"><p><a name="option_cmake_with_bundled_memcached"></a>
          <a class="indexterm" name="idp5182416"></a>

          <a class="indexterm" name="idp5183920"></a>

          <code class="literal">-DWITH_BUNDLED_MEMCACHED={ON|OFF}</code>
        </p><p>
          Build the memcached sources included in the MySQL Cluster
          source tree (MySQL Cluster NDB 7.2.3 and later), then use the
          resulting memcached server when building the ndbmemcache
          engine. In this case, <span class="command"><strong>make install</strong></span> places
          the <span class="command"><strong>memcached</strong></span> binary in the installation
          <code class="filename">bin</code> directory, and the ndbmemcache engine
          shared object file <code class="filename">ndb_engine.so</code> in the
          installation <code class="filename">lib</code> directory.
        </p><p>
          This option is ON by default.
        </p></li><li class="listitem"><p><a name="option_cmake_with_classpath"></a>
          <a class="indexterm" name="idp5191888"></a>

          <a class="indexterm" name="idp5193376"></a>

          <code class="literal">-DWITH_CLASSPATH=<em class="replaceable"><code>path</code></em></code>
        </p><p>
          Sets the classpath for building MySQL Cluster Connector for
          Java. Default is empty. In MySQL Cluster NDB 7.2.9 and later,
          this option is ignored if
          <a class="link" href="installing.html#option_cmake_with_ndb_java"><code class="option">-DWITH_NDB_JAVA=OFF</code></a> is used.
        </p></li><li class="listitem"><p><a name="option_cmake_with_error_insert"></a>
          <a class="indexterm" name="idp5198352"></a>

          <a class="indexterm" name="idp5199856"></a>

          <code class="literal">-DWITH_ERROR_INSERT={ON|OFF}</code>
        </p><p>
          Enables error injection in the
          <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> kernel. For testing only; not
          intended for use in building production binaries. Default is
          OFF.
        </p></li><li class="listitem"><p><a name="option_cmake_with_ndbcluster_storage_engine"></a>
          <a class="indexterm" name="idp5204512"></a>

          <a class="indexterm" name="idp5206016"></a>

          <code class="literal">-DWITH_NDBCLUSTER_STORAGE_ENGINE={ON|OFF}</code>
        </p><p>
          Build and link in support for the
          <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a>
          (<a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDBCLUSTER</code></a>) storage engine in
          <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>. Default is ON.
        </p></li><li class="listitem"><p><a name="option_cmake_with_ndbcluster"></a>
          <a class="indexterm" name="idp5212288"></a>

          <a class="indexterm" name="idp5213776"></a>

          <code class="literal">-DWITH_NDBCLUSTER={ON|OFF}</code>
        </p><p>
          This is an alias for
          <a class="link" href="installing.html#option_cmake_with_ndbcluster_storage_engine"><code class="option">WITH_NDBCLUSTER_STORAGE_ENGINE</code></a>.
        </p></li><li class="listitem"><p><a name="option_cmake_with_ndbmtd"></a>
          <a class="indexterm" name="idp5218368"></a>

          <a class="indexterm" name="idp5219856"></a>

          <code class="literal">-DWITH_NDBMTD={ON|OFF}</code>
        </p><p>
          Build the multi-threaded data node executable
          <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbmtd" title="17.4.3. ndbmtd — The MySQL Cluster Data Node Daemon (Multi-Threaded)"><span class="command"><strong>ndbmtd</strong></span></a>. Default is ON.
        </p></li><li class="listitem"><p><a name="option_cmake_with_ndb_binlog"></a>
          <a class="indexterm" name="idp5224432"></a>

          <a class="indexterm" name="idp5225920"></a>

          <code class="literal">-DWITH_NDB_BINLOG={ON|OFF}</code>
        </p><p>
          Enable binary logging by default in the
          <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> built using this option. ON by
          default.
        </p></li><li class="listitem"><p><a name="option_cmake_with_ndb_debug"></a>
          <a class="indexterm" name="idp5230528"></a>

          <a class="indexterm" name="idp5232016"></a>

          <code class="literal">-DWITH_NDB_DEBUG={ON|OFF}</code>
        </p><p>
          Enable building the debug versions of the MySQL Cluster
          binaries. OFF by default.
        </p></li><li class="listitem"><p><a name="option_cmake_with_ndb_java"></a>
          <a class="indexterm" name="idp5235776"></a>

          <a class="indexterm" name="idp5237264"></a>

          <code class="literal">-DWITH_NDB_JAVA={ON|OFF}</code>
        </p><p>
          Enable building MySQL Cluster with Java support, including
          <code class="literal">ClusterJ</code>.
        </p><p>
          This option was added in MySQL Cluster NDB 7.2.9, and is ON by
          default. If you do not wish to compile MySQL Cluster with Java
          support, you must disable it explicitly by specifying
          <code class="option">-DWITH_NDB_JAVA=OFF</code> when running
          <span class="command"><strong>CMake</strong></span>. Otherwise, if Java cannot be found,
          configuration of the build fails.
        </p></li><li class="listitem"><p><a name="option_cmake_with_ndb_port"></a>
          <a class="indexterm" name="idp5243600"></a>

          <a class="indexterm" name="idp5245088"></a>

          <code class="literal">-DWITH_NDB_PORT=<em class="replaceable"><code>port</code></em></code>
        </p><p>
          Causes the MySQL Cluster management server
          (<a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="17.4.4. ndb_mgmd — The MySQL Cluster Management Server Daemon"><span class="command"><strong>ndb_mgmd</strong></span></a>) that is built to use this
          <em class="replaceable"><code>port</code></em> by default. If this option is
          unset, the resulting management server tries to use port 1186
          by default.
        </p></li><li class="listitem"><p><a name="option_cmake_with_ndb_test"></a>
          <a class="indexterm" name="idp5250512"></a>

          <a class="indexterm" name="idp5252000"></a>

          <code class="literal">-DWITH_NDB_TEST={ON|OFF}</code>
        </p><p>
          If enabled, include a set of NDB API test programs. The
          default is OFF.
</p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="compilation-problems"></a>2.9.5. Dealing with Problems Compiling MySQL</h3>

</div>

</div>

</div>
<a class="indexterm" name="idp5256160"></a><a class="indexterm" name="idp5257648"></a><a class="indexterm" name="idp5259136"></a><a class="indexterm" name="idp5260208"></a><a class="indexterm" name="idp5261280"></a><p>
      The solution to many problems involves reconfiguring. If you do
      reconfigure, take note of the following:
</p><a class="indexterm" name="idp5263296"></a><a class="indexterm" name="idp5264384"></a>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          If <span class="command"><strong>CMake</strong></span> is run after it has previously
          been run, it may use information that was gathered during its
          previous invocation. This information is stored in
          <code class="filename">CMakeCache.txt</code>. When
          <span class="command"><strong>CMake</strong></span> starts up, it looks for that file and
          reads its contents if it exists, on the assumption that the
          information is still correct. That assumption is invalid when
          you reconfigure.
        </p></li><li class="listitem"><p>
          Each time you run <span class="command"><strong>CMake</strong></span>, you must run
          <span class="command"><strong>make</strong></span> again to recompile. However, you may
          want to remove old object files from previous builds first
          because they were compiled using different configuration
          options.
</p></li></ul>
</div>
<p>
      To prevent old object files or configuration information from
      being used, run these commands on Unix before re-running
      <span class="command"><strong>CMake</strong></span>:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>make clean</code></strong>
shell&gt; <strong class="userinput"><code>rm CMakeCache.txt</code></strong>
</pre><p>
      Or, on Windows:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>devenv MySQL.sln /clean</code></strong>
shell&gt; <strong class="userinput"><code>del CMakeCache.txt</code></strong>
</pre><p>
      If you build out of the source tree, remove and recreate your
      build directory before re-running <span class="command"><strong>CMake</strong></span>. For
      instructions on building outside of the source tree, see
      <a class="ulink" href="http://dev.mysql.com/doc/internals/en/cmake.html" target="_top">How to Build MySQL
      Server with CMake</a>.
    </p><p>
      On some systems, warnings may occur due to differences in system
      include files. The following list describes other problems that
      have been found to occur most often when compiling MySQL:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <a class="indexterm" name="idp5281408"></a>

          <a class="indexterm" name="idp5282480"></a>

          <a class="indexterm" name="idp5283936"></a>

          <a class="indexterm" name="idp5285024"></a>

          <a class="indexterm" name="idp5286480"></a>

          <a class="indexterm" name="idp5287568"></a>

          <a class="indexterm" name="idp5289056"></a>

          <a class="indexterm" name="idp5290144"></a>

          To define flags to be used by your C or C++ compilers, specify
          them using the <code class="literal">CFLAGS</code> and
          <code class="literal">CXXFLAGS</code> environment variables. You can
          also specify the compiler names this way using
          <code class="literal">CC</code> and <code class="literal">CXX</code>. For example:
        </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>CC=gcc</code></strong>
shell&gt; <strong class="userinput"><code>CFLAGS=-O3</code></strong>
shell&gt; <strong class="userinput"><code>CXX=g++</code></strong>
shell&gt; <strong class="userinput"><code>CXXFLAGS=-O3</code></strong>
shell&gt; <strong class="userinput"><code>export CC CFLAGS CXX CXXFLAGS</code></strong>
</pre><p>
          To see what flags you might need to specify, invoke
          <a class="link" href="programs.html#mysql-config" title="4.7.2. mysql_config — Display Options for Compiling Clients"><span class="command"><strong>mysql_config</strong></span></a> with the
          <a class="link" href="programs.html#option_mysql_config_cflags"><code class="option">--cflags</code></a> and
          <a class="link" href="programs.html#option_mysql_config_cxxflags"><code class="option">--cxxflags</code></a> options.
        </p></li><li class="listitem"><p>
          If compilation fails, check whether the
          <a class="link" href="installing.html#option_cmake_mysql_maintainer_mode"><code class="option">MYSQL_MAINTAINER_MODE</code></a> option is
          enabled. This mode causes compiler warnings to become errors,
          so disabling it may enable compilation to proceed.
        </p></li><li class="listitem"><p>
          If your compile fails with errors such as any of the
          following, you must upgrade your version of
          <span class="command"><strong>make</strong></span> to GNU <span class="command"><strong>make</strong></span>:
        </p><pre class="programlisting">make: Fatal error in reader: Makefile, line 18:
Badly formed macro assignment</pre><p>
          Or:
        </p><pre class="programlisting">make: file `Makefile' line 18: Must be a separator (:</pre><p>
          Or:
        </p><pre class="programlisting">pthread.h: No such file or directory</pre><a class="indexterm" name="idp5309312"></a><a class="indexterm" name="idp5310384"></a><p>
          Solaris and FreeBSD are known to have troublesome
          <span class="command"><strong>make</strong></span> programs.
        </p><p>
          GNU <span class="command"><strong>make</strong></span> 3.75 is known to work.
        </p></li><li class="listitem"><p>
          The <code class="filename">sql_yacc.cc</code> file is generated from
          <code class="filename">sql_yacc.yy</code>. Normally, the build process
          does not need to create <code class="filename">sql_yacc.cc</code>
          because MySQL comes with a pregenerated copy. However, if you
          do need to re-create it, you might encounter this error:
        </p><pre class="programlisting">"sql_yacc.yy", line <em class="replaceable"><code>xxx</code></em> fatal: default action causes potential...
</pre><p>
          This is a sign that your version of <span class="command"><strong>yacc</strong></span> is
          deficient. You probably need to install
          <span class="command"><strong>bison</strong></span> (the GNU version of
          <span class="command"><strong>yacc</strong></span>) and use that instead.
        </p><p>
          Versions of <span class="command"><strong>bison</strong></span> older than 1.75 may
          report this error:
        </p><pre class="programlisting">sql_yacc.yy:#####: fatal error: maximum table size (32767) exceeded</pre><p>
          The maximum table size is not actually exceeded; the error is
          caused by bugs in older versions of <span class="command"><strong>bison</strong></span>.
</p></li></ul>
</div>
<p>
      For information about acquiring or updating tools, see the system
      requirements in <a class="xref" href="installing.html#source-installation" title="2.9. Installing MySQL from Source">Section 2.9, “Installing MySQL from Source”</a>.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="source-configuration-third-party"></a>2.9.6. MySQL Configuration and Third-Party Tools</h3>

</div>

</div>

</div>
<a class="indexterm" name="idp5326352"></a><a class="indexterm" name="idp5327840"></a><p>
      Third-party tools that need to determine the MySQL version from
      the MySQL source can read the <code class="filename">VERSION</code> file in
      the top-level source directory. The file lists the pieces of the
      version separately. For example, if the version is 5.5.8, the file
      looks like this:
    </p><pre class="programlisting">MYSQL_VERSION_MAJOR=5
MYSQL_VERSION_MINOR=5
MYSQL_VERSION_PATCH=8
MYSQL_VERSION_EXTRA=</pre><p>
      If the source is not for a General Availability (GA) release, the
      <code class="literal">MYSQL_VERSION_EXTRA</code> value will be nonempty. For
      example, the value for a Release Candidate release would look like
      this:
    </p><pre class="programlisting">MYSQL_VERSION_EXTRA=rc</pre><p>
      To construct a five-digit number from the version components, use
      this formula:
</p><pre class="programlisting">MYSQL_VERSION_MAJOR*10000 + MYSQL_VERSION_MINOR*100 + MYSQL_VERSION_PATCH</pre>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both"><a name="postinstallation"></a>2.10. Postinstallation Setup and Testing</h2>

</div>

</div>

</div>
<div class="toc">
<dl><dt><span class="section"><a href="installing.html#unix-postinstallation">2.10.1. Unix Postinstallation Procedures</a></span></dt><dt><span class="section"><a href="installing.html#default-privileges">2.10.2. Securing the Initial MySQL Accounts</a></span></dt></dl>
</div>
<a class="indexterm" name="idp5335920"></a><a class="indexterm" name="idp5337408"></a><a class="indexterm" name="idp5338896"></a><p>
    This section discusses post-installation items for Unix systems. If
    you are using Windows, see
    <a class="xref" href="installing.html#windows-postinstallation" title="2.3.8. Windows Postinstallation Procedures">Section 2.3.8, “Windows Postinstallation Procedures”</a>.
  </p><p>
    After installing MySQL, there are some items that you should
    address. For example:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
        You should initialize the data directory and create the MySQL
        grant tables, as describe in
        <a class="xref" href="installing.html#unix-postinstallation" title="2.10.1. Unix Postinstallation Procedures">Section 2.10.1, “Unix Postinstallation Procedures”</a>.
      </p></li><li class="listitem"><p>
        An important security concern is that the initial accounts in
        the grant tables have no passwords. You should assign passwords
        to prevent unauthorized access to the MySQL server. For
        instructions, see <a class="xref" href="installing.html#default-privileges" title="2.10.2. Securing the Initial MySQL Accounts">Section 2.10.2, “Securing the Initial MySQL Accounts”</a>.
      </p></li><li class="listitem"><p>
        Optionally, you can create time zone tables to enable
        recognition of named time zones. For instructions, see
        <a class="xref" href="programs.html#mysql-tzinfo-to-sql" title="4.4.6. mysql_tzinfo_to_sql — Load the Time Zone Tables">Section 4.4.6, “<span class="command"><strong>mysql_tzinfo_to_sql</strong></span> — Load the Time Zone Tables”</a>.
      </p></li><li class="listitem"><p>
        If you have trouble getting the server to start, see
        <a class="xref" href="installing.html#starting-server" title="2.10.1.3. Starting and Troubleshooting the MySQL Server">Section 2.10.1.3, “Starting and Troubleshooting the MySQL Server”</a>.
      </p></li><li class="listitem"><p>
        When you are ready to create additional user accounts, you can
        find information on the MySQL access control system and account
        management in <a class="xref" href="security.html#privilege-system" title="6.2. The MySQL Access Privilege System">Section 6.2, “The MySQL Access Privilege System”</a>, and
        <a class="xref" href="security.html#user-account-management" title="6.3. MySQL User Account Management">Section 6.3, “MySQL User Account Management”</a>.
</p></li></ul>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="unix-postinstallation"></a>2.10.1. Unix Postinstallation Procedures</h3>

</div>

</div>

</div>
<div class="toc">
<dl><dt><span class="section"><a href="installing.html#mysql-install-db-problems">2.10.1.1. Problems Running <span class="command"><strong>mysql_install_db</strong></span></a></span></dt><dt><span class="section"><a href="installing.html#automatic-start">2.10.1.2. Starting and Stopping MySQL Automatically</a></span></dt><dt><span class="section"><a href="installing.html#starting-server">2.10.1.3. Starting and Troubleshooting the MySQL Server</a></span></dt></dl>
</div>
<p>
      After installing MySQL on Unix, you must initialize the grant
      tables, start the server, and make sure that the server works
      satisfactorily. You may also wish to arrange for the server to be
      started and stopped automatically when your system starts and
      stops. You should also assign passwords to the accounts in the
      grant tables.
    </p><p>
      On Unix, the grant tables are set up by the
      <a class="link" href="programs.html#mysql-install-db" title="4.4.3. mysql_install_db — Initialize MySQL Data Directory"><span class="command"><strong>mysql_install_db</strong></span></a> program. For some installation
      methods, this program is run for you automatically if an existing
      database cannot be found.
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          If you install MySQL on Linux using RPM distributions, the
          server RPM runs <a class="link" href="programs.html#mysql-install-db" title="4.4.3. mysql_install_db — Initialize MySQL Data Directory"><span class="command"><strong>mysql_install_db</strong></span></a>.
        </p></li><li class="listitem"><p>
          Using the native packaging system on many platforms, including
          Debian Linux, Ubuntu Linux, Gentoo Linux and others, the
          <a class="link" href="programs.html#mysql-install-db" title="4.4.3. mysql_install_db — Initialize MySQL Data Directory"><span class="command"><strong>mysql_install_db</strong></span></a> command is run for you.
        </p></li><li class="listitem"><p>
          If you install MySQL on Mac OS X using a DMG distribution, the
          installer runs <a class="link" href="programs.html#mysql-install-db" title="4.4.3. mysql_install_db — Initialize MySQL Data Directory"><span class="command"><strong>mysql_install_db</strong></span></a>.
</p></li></ul>
</div>
<p>
      For other platforms and installation types, including generic
      binary and source installs, you will need to run
      <a class="link" href="programs.html#mysql-install-db" title="4.4.3. mysql_install_db — Initialize MySQL Data Directory"><span class="command"><strong>mysql_install_db</strong></span></a> yourself.
    </p><p>
      The following procedure describes how to initialize the grant
      tables (if that has not previously been done) and start the
      server. It also suggests some commands that you can use to test
      whether the server is accessible and working properly. For
      information about starting and stopping the server automatically,
      see <a class="xref" href="installing.html#automatic-start" title="2.10.1.2. Starting and Stopping MySQL Automatically">Section 2.10.1.2, “Starting and Stopping MySQL Automatically”</a>.
    </p><p>
      After you complete the procedure and have the server running, you
      should assign passwords to the accounts created by
      <a class="link" href="programs.html#mysql-install-db" title="4.4.3. mysql_install_db — Initialize MySQL Data Directory"><span class="command"><strong>mysql_install_db</strong></span></a> and perhaps restrict access to
      test databases. For instructions, see
      <a class="xref" href="installing.html#default-privileges" title="2.10.2. Securing the Initial MySQL Accounts">Section 2.10.2, “Securing the Initial MySQL Accounts”</a>.
    </p><p>
      In the examples shown here, the server runs under the user ID of
      the <code class="literal">mysql</code> login account. This assumes that such
      an account exists. Either create the account if it does not exist,
      or substitute the name of a different existing login account that
      you plan to use for running the server. For information about
      creating the account, see
      <a class="link" href="installing.html#binary-installation-createsysuser" title="2.2.  Create a ???TITLE??? User and Group">Creating a
      <code class="literal">mysql</code> System User and Group</a>, in
      <a class="xref" href="installing.html#binary-installation" title="2.2. Installing MySQL on Unix/Linux Using Generic Binaries">Section 2.2, “Installing MySQL on Unix/Linux Using Generic Binaries”</a>.
</p><a class="indexterm" name="idp5367680"></a><a class="indexterm" name="idp5369168"></a><a class="indexterm" name="idp5370656"></a>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
          Change location into the top-level directory of your MySQL
          installation, represented here by
          <em class="replaceable"><code>BASEDIR</code></em>:
        </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>cd <em class="replaceable"><code>BASEDIR</code></em></code></strong>
</pre><p>
          <em class="replaceable"><code>BASEDIR</code></em> is the installation
          directory for your MySQL instance. It is likely to be
          something like <code class="filename">/usr/local/mysql</code> or
          <code class="filename">/usr/local</code>. The following steps assume
          that you have changed location to this directory.
        </p><p>
          You will find several files and subdirectories in the
          <em class="replaceable"><code>BASEDIR</code></em> directory. The most
          important for installation purposes are the
          <code class="filename">bin</code> and <code class="filename">scripts</code>
          subdirectories:
</p>
<div class="itemizedlist">
<a class="indexterm" name="idp5380928"></a><a class="indexterm" name="idp5382016"></a><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              The <code class="filename">bin</code> directory contains client
              programs and the server. You should add the full path name
              of this directory to your <code class="literal">PATH</code>
              environment variable so that your shell finds the MySQL
              programs properly. See
              <a class="xref" href="installing.html#environment-variables" title="2.12. Environment Variables">Section 2.12, “Environment Variables”</a>.
            </p></li><li class="listitem"><p>
              The <code class="filename">scripts</code> directory contains the
              <a class="link" href="programs.html#mysql-install-db" title="4.4.3. mysql_install_db — Initialize MySQL Data Directory"><span class="command"><strong>mysql_install_db</strong></span></a> script used to
              initialize the <code class="literal">mysql</code> database
              containing the grant tables that store the server access
              permissions.
</p></li></ul>
</div>
</li><li class="listitem"><p>
          If necessary, ensure that the distribution contents are
          accessible to <code class="literal">mysql</code>. If you installed the
          distribution as <code class="literal">mysql</code>, no further action is
          required. If you installed the distribution as
          <code class="literal">root</code>, its contents will be owned by
          <code class="literal">root</code>. Change its ownership to
          <code class="literal">mysql</code> by executing the following commands
          as <code class="literal">root</code> in the installation directory. The
          first command changes the owner attribute of the files to the
          <code class="literal">mysql</code> user. The second changes the group
          attribute to the <code class="literal">mysql</code> group.
        </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>chown -R mysql .</code></strong>
shell&gt; <strong class="userinput"><code>chgrp -R mysql .</code></strong>
</pre></li><li class="listitem"><p>
          If necessary, run the <a class="link" href="programs.html#mysql-install-db" title="4.4.3. mysql_install_db — Initialize MySQL Data Directory"><span class="command"><strong>mysql_install_db</strong></span></a>
          program to set up the initial MySQL grant tables containing
          the privileges that determine how users are permitted to
          connect to the server. You will need to do this if you used a
          distribution type for which the installation procedure does
          not run the program for you.
        </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>scripts/mysql_install_db --user=mysql</code></strong>
</pre><p>
          Typically, <a class="link" href="programs.html#mysql-install-db" title="4.4.3. mysql_install_db — Initialize MySQL Data Directory"><span class="command"><strong>mysql_install_db</strong></span></a> needs to be run
          only the first time you install MySQL, so you can skip this
          step if you are upgrading an existing installation, However,
          <a class="link" href="programs.html#mysql-install-db" title="4.4.3. mysql_install_db — Initialize MySQL Data Directory"><span class="command"><strong>mysql_install_db</strong></span></a> does not overwrite any
          existing privilege tables, so it should be safe to run in any
          circumstances.
        </p><p>
          It might be necessary to specify other options such as
          <a class="link" href="programs.html#option_mysql_install_db_basedir"><code class="option">--basedir</code></a> or
          <a class="link" href="programs.html#option_mysql_install_db_datadir"><code class="option">--datadir</code></a> if
          <a class="link" href="programs.html#mysql-install-db" title="4.4.3. mysql_install_db — Initialize MySQL Data Directory"><span class="command"><strong>mysql_install_db</strong></span></a> does not identify the
          correct locations for the installation directory or data
          directory. For example:
        </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>scripts/mysql_install_db --user=mysql \</code></strong>
         <strong class="userinput"><code>--basedir=/opt/mysql/mysql \</code></strong>
         <strong class="userinput"><code>--datadir=/opt/mysql/mysql/data</code></strong>
</pre><p>
          The <a class="link" href="programs.html#mysql-install-db" title="4.4.3. mysql_install_db — Initialize MySQL Data Directory"><span class="command"><strong>mysql_install_db</strong></span></a> script creates the
          server's data directory with <code class="literal">mysql</code> as the
          owner. Under the data directory, it creates directories for
          the <code class="literal">mysql</code> database that holds the grant
          tables and the <code class="literal">test</code> database that you can
          use to test MySQL. The script also creates privilege table
          entries for <code class="literal">root</code> and anonymous-user
          accounts. The accounts have no passwords initially.
          <a class="xref" href="installing.html#default-privileges" title="2.10.2. Securing the Initial MySQL Accounts">Section 2.10.2, “Securing the Initial MySQL Accounts”</a>, describes the initial
          privileges. Briefly, these privileges permit the MySQL
          <code class="literal">root</code> user to do anything, and permit
          anybody to create or use databases with a name of
          <code class="literal">test</code> or starting with
          <code class="literal">test_</code>. See
          <a class="xref" href="security.html#privilege-system" title="6.2. The MySQL Access Privilege System">Section 6.2, “The MySQL Access Privilege System”</a>, for a complete listing and
          description of the grant tables.
        </p><p>
          For a more secure installation, invoke
          <a class="link" href="programs.html#mysql-install-db" title="4.4.3. mysql_install_db — Initialize MySQL Data Directory"><span class="command"><strong>mysql_install_db</strong></span></a> with the
          <code class="option">--random-passwords</code> option. This causes it to
          assign a random password to the MySQL <code class="literal">root</code>
          accounts, set the <span class="quote">“<span class="quote">password expired</span>”</span> flag for
          those accounts, and remove the anonymous-user MySQL accounts.
          For additional details, see
          <a class="xref" href="programs.html#mysql-install-db" title="4.4.3. mysql_install_db — Initialize MySQL Data Directory">Section 4.4.3, “<span class="command"><strong>mysql_install_db</strong></span> — Initialize MySQL Data Directory”</a>. (Install operations using
          RPMs for Unbreakable Linux Network are unaffected because they
          do not use <a class="link" href="programs.html#mysql-install-db" title="4.4.3. mysql_install_db — Initialize MySQL Data Directory"><span class="command"><strong>mysql_install_db</strong></span></a>.)
        </p><p>
          It is important to make sure that the database directories and
          files are owned by the <code class="literal">mysql</code> login account
          so that the server has read and write access to them when you
          run it later. To ensure this if you run
          <a class="link" href="programs.html#mysql-install-db" title="4.4.3. mysql_install_db — Initialize MySQL Data Directory"><span class="command"><strong>mysql_install_db</strong></span></a> as
          <code class="literal">root</code>, include the
          <a class="link" href="programs.html#option_mysql_install_db_user"><code class="option">--user</code></a> option as
          shown. Otherwise, you should execute the script while logged
          in as <code class="literal">mysql</code>, in which case you can omit the
          <a class="link" href="programs.html#option_mysql_install_db_user"><code class="option">--user</code></a> option from
          the command.
        </p><p>
          If you do not want to have the <code class="literal">test</code>
          database, you can remove it after starting the server, using
          the instructions in <a class="xref" href="installing.html#default-privileges" title="2.10.2. Securing the Initial MySQL Accounts">Section 2.10.2, “Securing the Initial MySQL Accounts”</a>.
        </p><p>
          If you have trouble with <a class="link" href="programs.html#mysql-install-db" title="4.4.3. mysql_install_db — Initialize MySQL Data Directory"><span class="command"><strong>mysql_install_db</strong></span></a>
          at this point, see
          <a class="xref" href="installing.html#mysql-install-db-problems" title="2.10.1.1. Problems Running mysql_install_db">Section 2.10.1.1, “Problems Running <span class="command"><strong>mysql_install_db</strong></span>”</a>.
        </p></li><li class="listitem"><p>
          Most of the MySQL installation can be owned by
          <code class="literal">root</code> if you like. The exception is that the
          data directory must be owned by <code class="literal">mysql</code>. To
          accomplish this, run the following commands as
          <code class="literal">root</code> in the installation directory:
        </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>chown -R root .</code></strong>
shell&gt; <strong class="userinput"><code>chown -R mysql data</code></strong>
</pre></li><li class="listitem"><p>
          If the plugin directory (the directory named by the
          <a class="link" href="server-administration.html#sysvar_plugin_dir"><code class="literal">plugin_dir</code></a> system variable)
          is writable by the server, it may be possible for a user to
          write executable code to a file in the directory using
          <a class="link" href="sql-syntax.html#select-into" title="13.2.9.1. SELECT ... INTO Syntax"><code class="literal">SELECT ... INTO
          DUMPFILE</code></a>. This can be prevented by making
          <a class="link" href="server-administration.html#sysvar_plugin_dir"><code class="literal">plugin_dir</code></a> read only to the
          server or by setting
          <a class="link" href="server-administration.html#option_mysqld_secure-file-priv"><code class="option">--secure-file-priv</code></a> to a
          directory where <a class="link" href="sql-syntax.html#select" title="13.2.9. SELECT Syntax"><code class="literal">SELECT</code></a> writes
          can be made safely.
        </p></li><li class="listitem"><p>
          If you installed MySQL using a source distribution, you may
          want to optionally copy one of the provided configuration
          files from the <code class="filename">support-files</code> directory
          into your <code class="filename">/etc</code> directory. There are
          different sample configuration files for different use cases,
          server types, and CPU and RAM configurations. If you want to
          use one of these standard files, you should copy it to
          <code class="filename">/etc/my.cnf</code>, or
          <code class="filename">/etc/mysql/my.cnf</code> and edit and check the
          configuration before starting your MySQL server for the first
          time.
        </p><p>
          If you do not copy one of the standard configuration files,
          the MySQL server will be started with the default settings.
        </p><p>
          If you want MySQL to start automatically when you boot your
          machine, you can copy
          <code class="filename">support-files/mysql.server</code> to the
          location where your system has its startup files. More
          information can be found in the
          <code class="filename">mysql.server</code> script itself, and in
          <a class="xref" href="installing.html#automatic-start" title="2.10.1.2. Starting and Stopping MySQL Automatically">Section 2.10.1.2, “Starting and Stopping MySQL Automatically”</a>.
        </p></li><li class="listitem"><p>
          Start the MySQL server:
        </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>bin/mysqld_safe --user=mysql &amp;</code></strong>
</pre><p>
          It is important that the MySQL server be run using an
          unprivileged (non-<code class="literal">root</code>) login account. To
          ensure this if you run <a class="link" href="programs.html#mysqld-safe" title="4.3.2. mysqld_safe — MySQL Server Startup Script"><span class="command"><strong>mysqld_safe</strong></span></a> as
          <code class="literal">root</code>, include the
          <a class="link" href="programs.html#option_mysqld_safe_user"><code class="option">--user</code></a> option as shown.
          Otherwise, you should execute the script while logged in as
          <code class="literal">mysql</code>, in which case you can omit the
          <a class="link" href="programs.html#option_mysqld_safe_user"><code class="option">--user</code></a> option from the
          command.
        </p><p>
          For further instructions for running MySQL as an unprivileged
          user, see <a class="xref" href="security.html#changing-mysql-user" title="6.1.5. How to Run MySQL as a Normal User">Section 6.1.5, “How to Run MySQL as a Normal User”</a>.
        </p><p>
          If the command fails immediately and prints <code class="literal">mysqld
          ended</code>, look for information in the error log (which
          by default is the
          <code class="filename"><em class="replaceable"><code>host_name</code></em>.err</code>
          file in the data directory).
        </p><p>
          If you neglected to create the grant tables by running
          <a class="link" href="programs.html#mysql-install-db" title="4.4.3. mysql_install_db — Initialize MySQL Data Directory"><span class="command"><strong>mysql_install_db</strong></span></a> before proceeding to this
          step, the following message appears in the error log file when
          you start the server:
        </p><a class="indexterm" name="idp5463040"></a><pre class="programlisting">mysqld: Can't find file: 'host.frm'</pre><p>
          This error also occurs if you run
          <a class="link" href="programs.html#mysql-install-db" title="4.4.3. mysql_install_db — Initialize MySQL Data Directory"><span class="command"><strong>mysql_install_db</strong></span></a> as <code class="literal">root</code>
          without the <a class="link" href="programs.html#option_mysql_install_db_user"><code class="option">--user</code></a>
          option. Remove the <code class="filename">data</code> directory and run
          <a class="link" href="programs.html#mysql-install-db" title="4.4.3. mysql_install_db — Initialize MySQL Data Directory"><span class="command"><strong>mysql_install_db</strong></span></a> with the
          <a class="link" href="programs.html#option_mysql_install_db_user"><code class="option">--user</code></a> option as
          described previously.
        </p><p>
          If you have other problems starting the server, see
          <a class="xref" href="installing.html#starting-server" title="2.10.1.3. Starting and Troubleshooting the MySQL Server">Section 2.10.1.3, “Starting and Troubleshooting the MySQL Server”</a>. For more information about
          <a class="link" href="programs.html#mysqld-safe" title="4.3.2. mysqld_safe — MySQL Server Startup Script"><span class="command"><strong>mysqld_safe</strong></span></a>, see
          <a class="xref" href="programs.html#mysqld-safe" title="4.3.2. mysqld_safe — MySQL Server Startup Script">Section 4.3.2, “<span class="command"><strong>mysqld_safe</strong></span> — MySQL Server Startup Script”</a>.
        </p></li><li class="listitem"><p>
          Use <a class="link" href="programs.html#mysqladmin" title="4.5.2. mysqladmin — Client for Administering a MySQL Server"><span class="command"><strong>mysqladmin</strong></span></a> to verify that the server is
          running. The following commands provide simple tests to check
          whether the server is up and responding to connections:
        </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>bin/mysqladmin version</code></strong>
shell&gt; <strong class="userinput"><code>bin/mysqladmin variables</code></strong>
</pre><p>
          The output from <a class="link" href="programs.html#mysqladmin" title="4.5.2. mysqladmin — Client for Administering a MySQL Server"><span class="command"><strong>mysqladmin version</strong></span></a> varies
          slightly depending on your platform and version of MySQL, but
          should be similar to that shown here:
        </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>bin/mysqladmin version</code></strong>
mysqladmin  Ver 14.12 Distrib 5.6.15, for pc-linux-gnu on i686
...

Server version          5.6.15
Protocol version        10
Connection              Localhost via UNIX socket
UNIX socket             /var/lib/mysql/mysql.sock
Uptime:                 14 days 5 hours 5 min 21 sec

Threads: 1  Questions: 366  Slow queries: 0
Opens: 0  Flush tables: 1  Open tables: 19
Queries per second avg: 0.000
</pre><p>
          To see what else you can do with
          <a class="link" href="programs.html#mysqladmin" title="4.5.2. mysqladmin — Client for Administering a MySQL Server"><span class="command"><strong>mysqladmin</strong></span></a>, invoke it with the
          <a class="link" href="programs.html#option_mysqladmin_help"><code class="option">--help</code></a> option.
        </p></li><li class="listitem"><p>
          <a class="indexterm" name="idp5482992"></a>

          <a class="indexterm" name="idp5484480"></a>

          Verify that you can shut down the server:
        </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>bin/mysqladmin -u root shutdown</code></strong>
</pre></li><li class="listitem"><p>
          Verify that you can start the server again. Do this by using
          <a class="link" href="programs.html#mysqld-safe" title="4.3.2. mysqld_safe — MySQL Server Startup Script"><span class="command"><strong>mysqld_safe</strong></span></a> or by invoking
          <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> directly. For example:
        </p><a class="indexterm" name="idp5490160"></a><a class="indexterm" name="idp5491648"></a><pre class="programlisting">shell&gt; <strong class="userinput"><code>bin/mysqld_safe --user=mysql &amp;</code></strong>
</pre><p>
          If <a class="link" href="programs.html#mysqld-safe" title="4.3.2. mysqld_safe — MySQL Server Startup Script"><span class="command"><strong>mysqld_safe</strong></span></a> fails, see
          <a class="xref" href="installing.html#starting-server" title="2.10.1.3. Starting and Troubleshooting the MySQL Server">Section 2.10.1.3, “Starting and Troubleshooting the MySQL Server”</a>.
        </p></li><li class="listitem"><p>
          Run some simple tests to verify that you can retrieve
          information from the server. The output should be similar to
          what is shown here:
        </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>bin/mysqlshow</code></strong>
+--------------------+
|     Databases      |
+--------------------+
| information_schema |
| mysql              |
| test               |
+--------------------+

shell&gt; <strong class="userinput"><code>bin/mysqlshow mysql</code></strong>
Database: mysql
+---------------------------+
|          Tables           |
+---------------------------+
| columns_priv              |
| db                        |
| event                     |
| func                      |
| help_category             |
| help_keyword              |
| help_relation             |
| help_topic                |
| host                      |
| plugin                    |
| proc                      |
| procs_priv                |
| servers                   |
| tables_priv               |
| time_zone                 |
| time_zone_leap_second     |
| time_zone_name            |
| time_zone_transition      |
| time_zone_transition_type |
| user                      |
+---------------------------+

shell&gt; <strong class="userinput"><code>bin/mysql -e "SELECT Host,Db,User FROM db" mysql</code></strong>
+------+--------+------+
| host | db     | user |
+------+--------+------+
| %    | test   |      |
| %    | test_% |      |
+------+--------+------+
</pre></li><li class="listitem"><p>
          There is a benchmark suite in the
          <code class="filename">sql-bench</code> directory (under the MySQL
          installation directory) that you can use to compare how MySQL
          performs on different platforms. The benchmark suite is
          written in Perl. It requires the Perl DBI module that provides
          a database-independent interface to the various databases, and
          some other additional Perl modules:
        </p><pre class="programlisting">DBI
DBD::mysql
Data::Dumper
Data::ShowTable</pre><p>
          These modules can be obtained from CPAN
          (<a class="ulink" href="http://www.cpan.org/" target="_top">http://www.cpan.org/</a>). See also
          <a class="xref" href="installing.html#perl-installation" title="2.13.1. Installing Perl on Unix">Section 2.13.1, “Installing Perl on Unix”</a>.
        </p><p>
          The <code class="filename">sql-bench/Results</code> directory contains
          the results from many runs against different databases and
          platforms. To run all tests, execute these commands:
        </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>cd sql-bench</code></strong>
shell&gt; <strong class="userinput"><code>perl run-all-tests</code></strong>
</pre><p>
          If you do not have the <code class="filename">sql-bench</code>
          directory, you probably installed MySQL using RPM files other
          than the source RPM. (The source RPM includes the
          <code class="filename">sql-bench</code> benchmark directory.) In this
          case, you must first install the benchmark suite before you
          can use it. There are separate benchmark RPM files named
          <code class="filename">mysql-bench-<em class="replaceable"><code>VERSION</code></em>.i386.rpm</code>
          that contain benchmark code and data.
        </p><p>
          If you have a source distribution, there are also tests in its
          <code class="filename">tests</code> subdirectory that you can run. For
          example, to run <code class="filename">auto_increment.tst</code>,
          execute this command from the top-level directory of your
          source distribution:
        </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>mysql -vvf test &lt; ./tests/auto_increment.tst</code></strong>
</pre><p>
          The expected result of the test can be found in the
          <code class="filename">./tests/auto_increment.res</code> file.
        </p></li><li class="listitem"><p>
          At this point, you should have the server running. However,
          none of the initial MySQL accounts have a password, and the
          server permits permissive access to test databases. To tighten
          security, follow the instructions in
          <a class="xref" href="installing.html#default-privileges" title="2.10.2. Securing the Initial MySQL Accounts">Section 2.10.2, “Securing the Initial MySQL Accounts”</a>.
</p></li></ol>
</div>
<p>
      The MySQL 5.6 installation procedure creates time
      zone tables in the <code class="literal">mysql</code> database but does not
      populate them. To do so, use the instructions in
      <a class="xref" href="globalization.html#time-zone-support" title="10.6. MySQL Server Time Zone Support">Section 10.6, “MySQL Server Time Zone Support”</a>.
    </p><p>
      To make it more convenient to invoke programs installed in the
      <code class="filename">bin</code> directory under the installation
      directory, you can add that directory to your
      <code class="literal">PATH</code> environment variable setting. That enables
      you to run a program by typing only its name, not its entire path
      name. See <a class="xref" href="programs.html#setting-environment-variables" title="4.2.4. Setting Environment Variables">Section 4.2.4, “Setting Environment Variables”</a>.
    </p><p>
      <a class="indexterm" name="idp5524480"></a>

      <a class="indexterm" name="idp5525968"></a>

      <a class="indexterm" name="idp5527456"></a>

      You can set up new accounts using the
      <span class="command"><strong>bin/mysql_setpermission</strong></span> script if you install
      the <code class="literal">DBI</code> and <code class="literal">DBD::mysql</code> Perl
      modules. See <a class="xref" href="programs.html#mysql-setpermission" title="4.6.14. mysql_setpermission — Interactively Set Permissions in Grant Tables">Section 4.6.14, “<span class="command"><strong>mysql_setpermission</strong></span> — Interactively Set Permissions in Grant
Tables”</a>. For Perl
      module installation instructions, see
      <a class="xref" href="installing.html#perl-support" title="2.13. Perl Installation Notes">Section 2.13, “Perl Installation Notes”</a>.
    </p><p>
      If you would like to use <a class="link" href="programs.html#mysqlaccess" title="4.6.7. mysqlaccess — Client for Checking Access Privileges"><span class="command"><strong>mysqlaccess</strong></span></a> and have
      the MySQL distribution in some nonstandard location, you must
      change the location where <a class="link" href="programs.html#mysqlaccess" title="4.6.7. mysqlaccess — Client for Checking Access Privileges"><span class="command"><strong>mysqlaccess</strong></span></a> expects
      to find the <a class="link" href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span class="command"><strong>mysql</strong></span></a> client. Edit the
      <code class="filename">bin/mysqlaccess</code> script at approximately line
      18. Search for a line that looks like this:
    </p><pre class="programlisting">$MYSQL     = '/usr/local/bin/mysql';    # path to mysql executable</pre><p>
      Change the path to reflect the location where
      <a class="link" href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span class="command"><strong>mysql</strong></span></a> actually is stored on your system. If you
      do not do this, a <code class="literal">Broken pipe</code> error will occur
      when you run <a class="link" href="programs.html#mysqlaccess" title="4.6.7. mysqlaccess — Client for Checking Access Privileges"><span class="command"><strong>mysqlaccess</strong></span></a>.
</p>
<div class="section">

<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-install-db-problems"></a>2.10.1.1. Problems Running <span class="command"><strong>mysql_install_db</strong></span></h4>
</div>
</div>
</div>
<a class="indexterm" name="idp5541552"></a><a class="indexterm" name="idp5542624"></a><p>
        The purpose of the <a class="link" href="programs.html#mysql-install-db" title="4.4.3. mysql_install_db — Initialize MySQL Data Directory"><span class="command"><strong>mysql_install_db</strong></span></a> script is
        to generate new MySQL privilege tables. It does not overwrite
        existing MySQL privilege tables, and it does not affect any
        other data.
      </p><p>
        If you want to re-create your privilege tables, first stop the
        <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> server if it is running. Then rename
        the <code class="filename">mysql</code> directory under the data
        directory to save it, and then run
        <a class="link" href="programs.html#mysql-install-db" title="4.4.3. mysql_install_db — Initialize MySQL Data Directory"><span class="command"><strong>mysql_install_db</strong></span></a>. Suppose that your current
        directory is the MySQL installation directory and that
        <a class="link" href="programs.html#mysql-install-db" title="4.4.3. mysql_install_db — Initialize MySQL Data Directory"><span class="command"><strong>mysql_install_db</strong></span></a> is located in the
        <code class="filename">bin</code> directory and the data directory is
        named <code class="filename">data</code>. To rename the
        <code class="literal">mysql</code> database and re-run
        <a class="link" href="programs.html#mysql-install-db" title="4.4.3. mysql_install_db — Initialize MySQL Data Directory"><span class="command"><strong>mysql_install_db</strong></span></a>, use these commands.
      </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>mv data/mysql data/mysql.old</code></strong>
shell&gt; <strong class="userinput"><code>scripts/mysql_install_db --user=mysql</code></strong>
</pre><p>
        When you run <a class="link" href="programs.html#mysql-install-db" title="4.4.3. mysql_install_db — Initialize MySQL Data Directory"><span class="command"><strong>mysql_install_db</strong></span></a>, you might
        encounter the following problems:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <span class="bold"><strong><a class="link" href="programs.html#mysql-install-db" title="4.4.3. mysql_install_db — Initialize MySQL Data Directory"><span class="command"><strong>mysql_install_db</strong></span></a>
            fails to install the grant tables</strong></span>
          </p><p>
            You may find that <a class="link" href="programs.html#mysql-install-db" title="4.4.3. mysql_install_db — Initialize MySQL Data Directory"><span class="command"><strong>mysql_install_db</strong></span></a> fails
            to install the grant tables and terminates after displaying
            the following messages:
          </p><pre class="programlisting">Starting mysqld daemon with databases from XXXXXX
mysqld ended</pre><p>
            In this case, you should examine the error log file very
            carefully. The log should be located in the directory
            <code class="filename">XXXXXX</code> named by the error message and
            should indicate why <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> did not start.
            If you do not understand what happened, include the log when
            you post a bug report. See <a class="xref" href="introduction.html#bug-reports" title="1.7. How to Report Bugs or Problems">Section 1.7, “How to Report Bugs or Problems”</a>.
          </p></li><li class="listitem"><p>
            <span class="bold"><strong>There is a <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>
            process running</strong></span>
          </p><p>
            This indicates that the server is running, in which case the
            grant tables have probably been created already. If so,
            there is no need to run <a class="link" href="programs.html#mysql-install-db" title="4.4.3. mysql_install_db — Initialize MySQL Data Directory"><span class="command"><strong>mysql_install_db</strong></span></a>
            at all because it needs to be run only once (when you
            install MySQL the first time).
          </p></li><li class="listitem"><p>
            <span class="bold"><strong>Installing a second
            <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> server does not work when one
            server is running</strong></span>
          </p><p>
            This can happen when you have an existing MySQL
            installation, but want to put a new installation in a
            different location. For example, you might have a production
            installation, but you want to create a second installation
            for testing purposes. Generally the problem that occurs when
            you try to run a second server is that it tries to use a
            network interface that is in use by the first server. In
            this case, you should see one of the following error
            messages:
          </p><pre class="programlisting">Can't start server: Bind on TCP/IP port:
Address already in use
Can't start server: Bind on unix socket...</pre><p>
            For instructions on setting up multiple servers, see
            <a class="xref" href="server-administration.html#multiple-servers" title="5.6. Running Multiple MySQL Instances on One Machine">Section 5.6, “Running Multiple MySQL Instances on One Machine”</a>.
          </p></li><li class="listitem"><p>
            <a class="indexterm" name="idp5572912"></a>

            <a class="indexterm" name="idp5574368"></a>

            <a class="indexterm" name="idp5575856"></a>

            <span class="bold"><strong>You do not have write access to the
            <code class="filename">/tmp</code> directory</strong></span>
          </p><p>
            If you do not have write access to create temporary files or
            a Unix socket file in the default location (the
            <code class="filename">/tmp</code> directory) or the
            <code class="literal">TMP_DIR</code> environment variable, if it has
            been set, an error occurs when you run
            <a class="link" href="programs.html#mysql-install-db" title="4.4.3. mysql_install_db — Initialize MySQL Data Directory"><span class="command"><strong>mysql_install_db</strong></span></a> or the
            <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> server.
          </p><p>
            You can specify different locations for the temporary
            directory and Unix socket file by executing these commands
            prior to starting <a class="link" href="programs.html#mysql-install-db" title="4.4.3. mysql_install_db — Initialize MySQL Data Directory"><span class="command"><strong>mysql_install_db</strong></span></a> or
            <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>, where
            <em class="replaceable"><code>some_tmp_dir</code></em> is the full path
            name to some directory for which you have write permission:
          </p><a class="indexterm" name="idp5585456"></a><a class="indexterm" name="idp5586544"></a><a class="indexterm" name="idp5587632"></a><a class="indexterm" name="idp5589120"></a><pre class="programlisting">shell&gt; <strong class="userinput"><code>TMPDIR=/<em class="replaceable"><code>some_tmp_dir</code></em>/</code></strong>
shell&gt; <strong class="userinput"><code>MYSQL_UNIX_PORT=/<em class="replaceable"><code>some_tmp_dir</code></em>/mysql.sock</code></strong>
shell&gt; <strong class="userinput"><code>export TMPDIR MYSQL_UNIX_PORT</code></strong>
</pre><p>
            Then you should be able to run
            <a class="link" href="programs.html#mysql-install-db" title="4.4.3. mysql_install_db — Initialize MySQL Data Directory"><span class="command"><strong>mysql_install_db</strong></span></a> and start the server
            with these commands:
          </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>scripts/mysql_install_db --user=mysql</code></strong>
shell&gt; <strong class="userinput"><code>bin/mysqld_safe --user=mysql &amp;</code></strong>
</pre><p>
            If <a class="link" href="programs.html#mysql-install-db" title="4.4.3. mysql_install_db — Initialize MySQL Data Directory"><span class="command"><strong>mysql_install_db</strong></span></a> is located in the
            <code class="filename">scripts</code> directory, modify the first
            command to <code class="literal">scripts/mysql_install_db</code>.
          </p><p>
            See <a class="xref" href="error-handling.html#problems-with-mysql-sock" title="C.5.4.5. How to Protect or Change the MySQL Unix Socket File">Section C.5.4.5, “How to Protect or Change the MySQL Unix Socket File”</a>, and
            <a class="xref" href="installing.html#environment-variables" title="2.12. Environment Variables">Section 2.12, “Environment Variables”</a>.
</p></li></ul>
</div>
<p>
        There are some alternatives to running the
        <a class="link" href="programs.html#mysql-install-db" title="4.4.3. mysql_install_db — Initialize MySQL Data Directory"><span class="command"><strong>mysql_install_db</strong></span></a> script provided in the MySQL
        distribution:
</p><a class="indexterm" name="idp5603760"></a><a class="indexterm" name="idp5605248"></a>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            If you want the initial privileges to be different from the
            standard defaults, you can modify
            <a class="link" href="programs.html#mysql-install-db" title="4.4.3. mysql_install_db — Initialize MySQL Data Directory"><span class="command"><strong>mysql_install_db</strong></span></a> before you run it.
            However, it is preferable to use
            <a class="link" href="sql-syntax.html#grant" title="13.7.1.4. GRANT Syntax"><code class="literal">GRANT</code></a> and
            <a class="link" href="sql-syntax.html#revoke" title="13.7.1.6. REVOKE Syntax"><code class="literal">REVOKE</code></a> to change the
            privileges <span class="emphasis"><em>after</em></span> the grant tables have
            been set up. In other words, you can run
            <a class="link" href="programs.html#mysql-install-db" title="4.4.3. mysql_install_db — Initialize MySQL Data Directory"><span class="command"><strong>mysql_install_db</strong></span></a>, and then use
            <code class="literal">mysql -u root mysql</code> to connect to the
            server as the MySQL <code class="literal">root</code> user so that you
            can issue the necessary <a class="link" href="sql-syntax.html#grant" title="13.7.1.4. GRANT Syntax"><code class="literal">GRANT</code></a>
            and <a class="link" href="sql-syntax.html#revoke" title="13.7.1.6. REVOKE Syntax"><code class="literal">REVOKE</code></a> statements.
          </p><p>
            If you want to install MySQL on several machines with the
            same privileges, you can put the
            <a class="link" href="sql-syntax.html#grant" title="13.7.1.4. GRANT Syntax"><code class="literal">GRANT</code></a> and
            <a class="link" href="sql-syntax.html#revoke" title="13.7.1.6. REVOKE Syntax"><code class="literal">REVOKE</code></a> statements in a file
            and execute the file as a script using
            <code class="literal">mysql</code> after running
            <a class="link" href="programs.html#mysql-install-db" title="4.4.3. mysql_install_db — Initialize MySQL Data Directory"><span class="command"><strong>mysql_install_db</strong></span></a>. For example:
          </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>scripts/mysql_install_db --user=mysql</code></strong>
shell&gt; <strong class="userinput"><code>bin/mysql -u root &lt; your_script_file</code></strong>
</pre><p>
            By doing this, you can avoid having to issue the statements
            manually on each machine.
          </p></li><li class="listitem"><p>
            It is possible to re-create the grant tables completely
            after they have previously been created. You might want to
            do this if you are just learning how to use
            <a class="link" href="sql-syntax.html#grant" title="13.7.1.4. GRANT Syntax"><code class="literal">GRANT</code></a> and
            <a class="link" href="sql-syntax.html#revoke" title="13.7.1.6. REVOKE Syntax"><code class="literal">REVOKE</code></a> and have made so many
            modifications after running
            <a class="link" href="programs.html#mysql-install-db" title="4.4.3. mysql_install_db — Initialize MySQL Data Directory"><span class="command"><strong>mysql_install_db</strong></span></a> that you want to wipe
            out the tables and start over.
          </p><p>
            To re-create the grant tables, remove all the
            <code class="filename">.frm</code>, <code class="filename">.MYI</code>, and
            <code class="filename">.MYD</code> files in the
            <code class="literal">mysql</code> database directory. Then run the
            <a class="link" href="programs.html#mysql-install-db" title="4.4.3. mysql_install_db — Initialize MySQL Data Directory"><span class="command"><strong>mysql_install_db</strong></span></a> script again.
          </p></li><li class="listitem"><p>
            You can start <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> manually using the
            <a class="link" href="server-administration.html#option_mysqld_skip-grant-tables"><code class="option">--skip-grant-tables</code></a> option
            and add the privilege information yourself using
            <a class="link" href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span class="command"><strong>mysql</strong></span></a>:
          </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>bin/mysqld_safe --user=mysql --skip-grant-tables &amp;</code></strong>
shell&gt; <strong class="userinput"><code>bin/mysql mysql</code></strong>
</pre><p>
            From <a class="link" href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span class="command"><strong>mysql</strong></span></a>, manually execute the SQL
            commands contained in <a class="link" href="programs.html#mysql-install-db" title="4.4.3. mysql_install_db — Initialize MySQL Data Directory"><span class="command"><strong>mysql_install_db</strong></span></a>.
            Make sure that you run <a class="link" href="programs.html#mysqladmin" title="4.5.2. mysqladmin — Client for Administering a MySQL Server"><span class="command"><strong>mysqladmin
            flush-privileges</strong></span></a> or <a class="link" href="programs.html#mysqladmin" title="4.5.2. mysqladmin — Client for Administering a MySQL Server"><span class="command"><strong>mysqladmin
            reload</strong></span></a> afterward to tell the server to reload the
            grant tables.
          </p><p>
            Note that by not using <a class="link" href="programs.html#mysql-install-db" title="4.4.3. mysql_install_db — Initialize MySQL Data Directory"><span class="command"><strong>mysql_install_db</strong></span></a>,
            you not only have to populate the grant tables manually, you
            also have to create them first.
</p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="automatic-start"></a>2.10.1.2. Starting and Stopping MySQL Automatically</h4>

</div>

</div>

</div>
<a class="indexterm" name="idp5641776"></a><a class="indexterm" name="idp5643280"></a><a class="indexterm" name="idp5644768"></a><p>
        Generally, you start the <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> server in one
        of these ways:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            Invoke <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> directly. This works on any
            platform.
          </p></li><li class="listitem"><p>
            Invoke <a class="link" href="programs.html#mysqld-safe" title="4.3.2. mysqld_safe — MySQL Server Startup Script"><span class="command"><strong>mysqld_safe</strong></span></a>, which tries to
            determine the proper options for <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>
            and then runs it with those options. This script is used on
            Unix and Unix-like systems. See
            <a class="xref" href="programs.html#mysqld-safe" title="4.3.2. mysqld_safe — MySQL Server Startup Script">Section 4.3.2, “<span class="command"><strong>mysqld_safe</strong></span> — MySQL Server Startup Script”</a>.
          </p></li><li class="listitem"><p>
            Invoke <a class="link" href="programs.html#mysql-server" title="4.3.3. mysql.server — MySQL Server Startup Script"><span class="command"><strong>mysql.server</strong></span></a>. This script is used
            primarily at system startup and shutdown on systems that use
            System V-style run directories (that is,
            <code class="filename">/etc/init.d</code> and run-level specific
            directories), where it usually is installed under the name
            <code class="literal">mysql</code>. The
            <a class="link" href="programs.html#mysql-server" title="4.3.3. mysql.server — MySQL Server Startup Script"><span class="command"><strong>mysql.server</strong></span></a> script starts the server by
            invoking <a class="link" href="programs.html#mysqld-safe" title="4.3.2. mysqld_safe — MySQL Server Startup Script"><span class="command"><strong>mysqld_safe</strong></span></a>. See
            <a class="xref" href="programs.html#mysql-server" title="4.3.3. mysql.server — MySQL Server Startup Script">Section 4.3.3, “<span class="command"><strong>mysql.server</strong></span> — MySQL Server Startup Script”</a>.
          </p></li><li class="listitem"><p>
            On Mac OS X, install a separate MySQL Startup Item package
            to enable the automatic startup of MySQL on system startup.
            The Startup Item starts the server by invoking
            <a class="link" href="programs.html#mysql-server" title="4.3.3. mysql.server — MySQL Server Startup Script"><span class="command"><strong>mysql.server</strong></span></a>. See
            <a class="xref" href="installing.html#macosx-installation-startupitem" title="2.4.3. Installing the MySQL Startup Item">Section 2.4.3, “Installing the MySQL Startup Item”</a>, for
            details. A MySQL Preference Pane also provides control for
            starting and stopping MySQL through the System Preferences,
            see <a class="xref" href="installing.html#macosx-installation-prefpane" title="2.4.4. Installing and Using the MySQL Preference Pane">Section 2.4.4, “Installing and Using the MySQL Preference Pane”</a>.
          </p></li><li class="listitem"><p>
            Use the Solaris/OpenSolaris service management framework
            (SMF) system to initiate and control MySQL startup. For more
            information, see
            <a class="xref" href="installing.html#solaris-installation-opensolaris" title="2.6.2. Installing MySQL on OpenSolaris Using IPS">Section 2.6.2, “Installing MySQL on OpenSolaris Using IPS”</a>.
</p></li></ul>
</div>
<p>
        The <a class="link" href="programs.html#mysqld-safe" title="4.3.2. mysqld_safe — MySQL Server Startup Script"><span class="command"><strong>mysqld_safe</strong></span></a> and
        <a class="link" href="programs.html#mysql-server" title="4.3.3. mysql.server — MySQL Server Startup Script"><span class="command"><strong>mysql.server</strong></span></a> scripts, Solaris/OpenSolaris
        SMF, and the Mac OS X Startup Item (or MySQL Preference Pane)
        can be used to start the server manually, or automatically at
        system startup time. <a class="link" href="programs.html#mysql-server" title="4.3.3. mysql.server — MySQL Server Startup Script"><span class="command"><strong>mysql.server</strong></span></a> and the
        Startup Item also can be used to stop the server.
      </p><p>
        To start or stop the server manually using the
        <a class="link" href="programs.html#mysql-server" title="4.3.3. mysql.server — MySQL Server Startup Script"><span class="command"><strong>mysql.server</strong></span></a> script, invoke it with
        <code class="literal">start</code> or <code class="literal">stop</code> arguments:
      </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>mysql.server start</code></strong>
shell&gt; <strong class="userinput"><code>mysql.server stop</code></strong>
</pre><p>
        Before <a class="link" href="programs.html#mysql-server" title="4.3.3. mysql.server — MySQL Server Startup Script"><span class="command"><strong>mysql.server</strong></span></a> starts the server, it
        changes location to the MySQL installation directory, and then
        invokes <a class="link" href="programs.html#mysqld-safe" title="4.3.2. mysqld_safe — MySQL Server Startup Script"><span class="command"><strong>mysqld_safe</strong></span></a>. If you want the server
        to run as some specific user, add an appropriate
        <code class="literal">user</code> option to the
        <code class="literal">[mysqld]</code> group of the
        <code class="filename">/etc/my.cnf</code> option file, as shown later in
        this section. (It is possible that you will need to edit
        <a class="link" href="programs.html#mysql-server" title="4.3.3. mysql.server — MySQL Server Startup Script"><span class="command"><strong>mysql.server</strong></span></a> if you've installed a binary
        distribution of MySQL in a nonstandard location. Modify it to
        change location into the proper directory before it runs
        <a class="link" href="programs.html#mysqld-safe" title="4.3.2. mysqld_safe — MySQL Server Startup Script"><span class="command"><strong>mysqld_safe</strong></span></a>. If you do this, your modified
        version of <a class="link" href="programs.html#mysql-server" title="4.3.3. mysql.server — MySQL Server Startup Script"><span class="command"><strong>mysql.server</strong></span></a> may be overwritten if
        you upgrade MySQL in the future, so you should make a copy of
        your edited version that you can reinstall.)
      </p><p>
        <a class="link" href="programs.html#mysql-server" title="4.3.3. mysql.server — MySQL Server Startup Script"><span class="command"><strong>mysql.server stop</strong></span></a> stops the server by sending
        a signal to it. You can also stop the server manually by
        executing <a class="link" href="programs.html#mysqladmin" title="4.5.2. mysqladmin — Client for Administering a MySQL Server"><span class="command"><strong>mysqladmin shutdown</strong></span></a>.
      </p><p>
        To start and stop MySQL automatically on your server, you need
        to add start and stop commands to the appropriate places in your
        <code class="filename">/etc/rc*</code> files.
      </p><p>
        If you use the Linux server RPM package
        (<code class="literal">MySQL-server-<em class="replaceable"><code>VERSION</code></em>.rpm</code>),
        or a native Linux package installation, the
        <a class="link" href="programs.html#mysql-server" title="4.3.3. mysql.server — MySQL Server Startup Script"><span class="command"><strong>mysql.server</strong></span></a> script may be installed in the
        <code class="filename">/etc/init.d</code> directory with the name
        <code class="filename">mysql</code>. See
        <a class="xref" href="installing.html#linux-installation-rpm" title="2.5.1. Installing MySQL on Linux Using RPM Packages">Section 2.5.1, “Installing MySQL on Linux Using RPM Packages”</a>, for more information
        on the Linux RPM packages.
      </p><p>
        Some vendors provide RPM packages that install a startup script
        under a different name such as <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>.
      </p><p>
        If you install MySQL from a source distribution or using a
        binary distribution format that does not install
        <a class="link" href="programs.html#mysql-server" title="4.3.3. mysql.server — MySQL Server Startup Script"><span class="command"><strong>mysql.server</strong></span></a> automatically, you can install
        it manually. The script can be found in the
        <code class="filename">support-files</code> directory under the MySQL
        installation directory or in a MySQL source tree.
      </p><p>
        To install <a class="link" href="programs.html#mysql-server" title="4.3.3. mysql.server — MySQL Server Startup Script"><span class="command"><strong>mysql.server</strong></span></a> manually, copy it to
        the <code class="filename">/etc/init.d</code> directory with the name
        <a class="link" href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span class="command"><strong>mysql</strong></span></a>, and then make it executable. Do this
        by changing location into the appropriate directory where
        <a class="link" href="programs.html#mysql-server" title="4.3.3. mysql.server — MySQL Server Startup Script"><span class="command"><strong>mysql.server</strong></span></a> is located and executing these
        commands:
      </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>cp mysql.server /etc/init.d/mysql</code></strong>
shell&gt; <strong class="userinput"><code>chmod +x /etc/init.d/mysql</code></strong>
</pre>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
          Older Red Hat systems use the
          <code class="filename">/etc/rc.d/init.d</code> directory rather than
          <code class="filename">/etc/init.d</code>. Adjust the preceding
          commands accordingly. Alternatively, first create
          <code class="filename">/etc/init.d</code> as a symbolic link that
          points to <code class="filename">/etc/rc.d/init.d</code>:
</p>
</div>
<pre class="programlisting">shell&gt; <strong class="userinput"><code>cd /etc</code></strong>
shell&gt; <strong class="userinput"><code>ln -s rc.d/init.d .</code></strong>
</pre><p>
        After installing the script, the commands needed to activate it
        to run at system startup depend on your operating system. On
        Linux, you can use <span class="command"><strong>chkconfig</strong></span>:
      </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>chkconfig --add mysql</code></strong>
</pre><p>
        On some Linux systems, the following command also seems to be
        necessary to fully enable the <a class="link" href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span class="command"><strong>mysql</strong></span></a> script:
      </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>chkconfig --level 345 mysql on</code></strong>
</pre><p>
        On FreeBSD, startup scripts generally should go in
        <code class="filename">/usr/local/etc/rc.d/</code>. The
        <code class="literal">rc(8)</code> manual page states that scripts in this
        directory are executed only if their basename matches the
        <code class="literal">*.sh</code> shell file name pattern. Any other files
        or directories present within the directory are silently
        ignored. In other words, on FreeBSD, you should install the
        <code class="filename">mysql.server</code> script as
        <code class="filename">/usr/local/etc/rc.d/mysql.server.sh</code> to
        enable automatic startup.
      </p><p>
        As an alternative to the preceding setup, some operating systems
        also use <code class="filename">/etc/rc.local</code> or
        <code class="filename">/etc/init.d/boot.local</code> to start additional
        services on startup. To start up MySQL using this method, you
        could append a command like the one following to the appropriate
        startup file:
      </p><pre class="programlisting">/bin/sh -c 'cd /usr/local/mysql; ./bin/mysqld_safe --user=mysql &amp;'</pre><p>
        For other systems, consult your operating system documentation
        to see how to install startup scripts.
      </p><a class="indexterm" name="idp5715504"></a><p>
        You can add options for <a class="link" href="programs.html#mysql-server" title="4.3.3. mysql.server — MySQL Server Startup Script"><span class="command"><strong>mysql.server</strong></span></a> in a
        global <code class="filename">/etc/my.cnf</code> file. A typical
        <code class="filename">/etc/my.cnf</code> file might look like this:
      </p><pre class="programlisting">[mysqld]
datadir=/usr/local/mysql/var
socket=/var/tmp/mysql.sock
port=3306
user=mysql

[mysql.server]
basedir=/usr/local/mysql</pre><p>
        The <a class="link" href="programs.html#mysql-server" title="4.3.3. mysql.server — MySQL Server Startup Script"><span class="command"><strong>mysql.server</strong></span></a> script supports the
        following options: <code class="option">basedir</code>,
        <code class="option">datadir</code>, and <code class="option">pid-file</code>. If
        specified, they <span class="emphasis"><em>must</em></span> be placed in an option
        file, not on the command line. <a class="link" href="programs.html#mysql-server" title="4.3.3. mysql.server — MySQL Server Startup Script"><span class="command"><strong>mysql.server</strong></span></a>
        supports only <code class="literal">start</code> and
        <code class="literal">stop</code> as command-line arguments.
      </p><p>
        The following table shows which option groups the server and
        each startup script read from option files.
</p>
<div class="table">
<a name="idp5726528"></a><p class="title"><b>Table 2.14. MySQL Startup scripts and supported server option groups</b></p>
<div class="table-contents">
<table summary="MySQL Startup scripts and supported server option groups" border="1"><colgroup><col><col></colgroup><thead><tr><th scope="col">Script</th><th scope="col">Option Groups</th></tr></thead><tbody><tr><td scope="row"><a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a></td><td><code class="literal">[mysqld]</code>, <code class="literal">[server]</code>,
                <code class="literal">[mysqld-<em class="replaceable"><code>major_version</code></em>]</code></td></tr><tr><td scope="row"><a class="link" href="programs.html#mysqld-safe" title="4.3.2. mysqld_safe — MySQL Server Startup Script"><span class="command"><strong>mysqld_safe</strong></span></a></td><td><code class="literal">[mysqld]</code>, <code class="literal">[server]</code>,
                <code class="literal">[mysqld_safe]</code></td></tr><tr><td scope="row"><a class="link" href="programs.html#mysql-server" title="4.3.3. mysql.server — MySQL Server Startup Script"><span class="command"><strong>mysql.server</strong></span></a></td><td><code class="literal">[mysqld]</code>, <code class="literal">[mysql.server]</code>,
<code class="literal">[server]</code></td></tr></tbody></table>
</div>

</div>
<br class="table-break"><p>
        <code class="literal">[mysqld-<em class="replaceable"><code>major_version</code></em>]</code>
        means that groups with names like
        <code class="literal">[mysqld-5.5]</code> and
        <code class="literal">[mysqld-5.6]</code> are read by servers
        having versions 5.5.x, 5.6.x, and so
        forth. This feature can be used to specify options that can be
        read only by servers within a given release series.
      </p><p>
        For backward compatibility, <a class="link" href="programs.html#mysql-server" title="4.3.3. mysql.server — MySQL Server Startup Script"><span class="command"><strong>mysql.server</strong></span></a> also
        reads the <code class="literal">[mysql_server]</code> group and
        <a class="link" href="programs.html#mysqld-safe" title="4.3.2. mysqld_safe — MySQL Server Startup Script"><span class="command"><strong>mysqld_safe</strong></span></a> also reads the
        <code class="literal">[safe_mysqld]</code> group. However, you should
        update your option files to use the
        <code class="literal">[mysql.server]</code> and
        <code class="literal">[mysqld_safe]</code> groups instead when using MySQL
        5.6.
      </p><p>
        For more information on MySQL configuration files and their
        structure and contents, see <a class="xref" href="programs.html#option-files" title="4.2.3.3. Using Option Files">Section 4.2.3.3, “Using Option Files”</a>.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="starting-server"></a>2.10.1.3. Starting and Troubleshooting the MySQL Server</h4>

</div>

</div>

</div>
<a class="indexterm" name="idp5752544"></a><a class="indexterm" name="idp5754032"></a><a class="indexterm" name="idp5755520"></a><a class="indexterm" name="idp5757008"></a><p>
        This section provides troubleshooting suggestions for problems
        starting the server on Unix. If you are using Windows, see
        <a class="xref" href="installing.html#windows-troubleshooting" title="2.3.6. Troubleshooting a Microsoft Windows MySQL Server Installation">Section 2.3.6, “Troubleshooting a Microsoft Windows MySQL Server Installation”</a>.
      </p><p>
        If you have problems starting the server, here are some things
        to try:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            Check the <a class="link" href="glossary.html#glos_error_log" title="error log">error log</a> to
            see why the server does not start. Log files are located in
            the <a class="link" href="glossary.html#glos_data_directory" title="data directory">data
            directory</a> (typically <code class="filename">C:\Program
            Files\MySQL\MySQL Server 5.6\data</code> on
            Windows, <code class="filename">/usr/local/mysql/data</code> for a
            Unix binary distribution, and
            <code class="filename">/usr/local/var</code> for a Unix source
            distribution). Look in the data directory for files with
            names of the form
            <code class="filename"><em class="replaceable"><code>host_name</code></em>.err</code>
            and
            <code class="filename"><em class="replaceable"><code>host_name</code></em>.log</code>,
            where <em class="replaceable"><code>host_name</code></em> is the name of
            your server host. Then examine the last few lines of these
            files. On Unix, use <code class="literal">tail</code> to display them:
          </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>tail <em class="replaceable"><code>host_name</code></em>.err</code></strong>
shell&gt; <strong class="userinput"><code>tail <em class="replaceable"><code>host_name</code></em>.log</code></strong>
</pre></li><li class="listitem"><p>
            Specify any special options needed by the storage engines
            you are using. You can create a <code class="filename">my.cnf</code>
            file and specify startup options for the engines that you
            plan to use. If you are going to use storage engines that
            support transactional tables (<code class="literal">InnoDB</code>,
            <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a>), be sure that you have
            them configured the way you want before starting the server.
            If you are using <code class="literal">InnoDB</code> tables, see
            <a class="xref" href="storage-engines.html#innodb-configuration" title="14.2.1.2. Configuring InnoDB">Section 14.2.1.2, “Configuring <code class="literal">InnoDB</code>”</a> for guidelines and
            <a class="xref" href="storage-engines.html#innodb-parameters" title="14.2.6. InnoDB Startup Options and System Variables">Section 14.2.6, “<code class="literal">InnoDB</code> Startup Options and System Variables”</a> for option syntax.
          </p><p>
            Although storage engines use default values for options that
            you omit, Oracle recommends that you review the available
            options and specify explicit values for any options whose
            defaults are not appropriate for your installation.
          </p></li><li class="listitem"><p>
            Make sure that the server knows where to find the
            <a class="link" href="glossary.html#glos_data_directory" title="data directory">data directory</a>.
            The <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> server uses this directory as
            its current directory. This is where it expects to find
            databases and where it expects to write log files. The
            server also writes the pid (process ID) file in the data
            directory.
          </p><p>
            The default data directory location is hardcoded when the
            server is compiled. To determine what the default path
            settings are, invoke <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> with the
            <a class="link" href="server-administration.html#option_mysqld_verbose"><code class="option">--verbose</code></a> and
            <a class="link" href="server-administration.html#option_mysqld_help"><code class="option">--help</code></a> options. If the data
            directory is located somewhere else on your system, specify
            that location with the
            <a class="link" href="server-administration.html#option_mysqld_datadir"><code class="option">--datadir</code></a> option to
            <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> or <a class="link" href="programs.html#mysqld-safe" title="4.3.2. mysqld_safe — MySQL Server Startup Script"><span class="command"><strong>mysqld_safe</strong></span></a>,
            on the command line or in an option file. Otherwise, the
            server will not work properly. As an alternative to the
            <a class="link" href="server-administration.html#option_mysqld_datadir"><code class="option">--datadir</code></a> option, you can
            specify <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> the location of the base
            directory under which MySQL is installed with the
            <a class="link" href="server-administration.html#option_mysqld_basedir"><code class="option">--basedir</code></a>, and
            <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> looks for the
            <code class="filename">data</code> directory there.
          </p><p>
            To check the effect of specifying path options, invoke
            <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> with those options followed by the
            <a class="link" href="server-administration.html#option_mysqld_verbose"><code class="option">--verbose</code></a> and
            <a class="link" href="server-administration.html#option_mysqld_help"><code class="option">--help</code></a> options. For example,
            if you change location into the directory where
            <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> is installed and then run the
            following command, it shows the effect of starting the
            server with a base directory of
            <code class="filename">/usr/local</code>:
          </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>./mysqld --basedir=/usr/local --verbose --help</code></strong>
</pre><p>
            You can specify other options such as
            <a class="link" href="server-administration.html#option_mysqld_datadir"><code class="option">--datadir</code></a> as well, but
            <a class="link" href="server-administration.html#option_mysqld_verbose"><code class="option">--verbose</code></a> and
            <a class="link" href="server-administration.html#option_mysqld_help"><code class="option">--help</code></a> must be the last
            options.
          </p><p>
            Once you determine the path settings you want, start the
            server without <a class="link" href="server-administration.html#option_mysqld_verbose"><code class="option">--verbose</code></a> and
            <a class="link" href="server-administration.html#option_mysqld_help"><code class="option">--help</code></a>.
          </p><p>
            If <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> is currently running, you can
            find out what path settings it is using by executing this
            command:
          </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>mysqladmin variables</code></strong>
</pre><p>
            Or:
          </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>mysqladmin -h <em class="replaceable"><code>host_name</code></em> variables</code></strong>
</pre><p>
            <em class="replaceable"><code>host_name</code></em> is the name of the
            MySQL server host.
          </p></li><li class="listitem"><p>
            Make sure that the server can access the
            <a class="link" href="glossary.html#glos_data_directory" title="data directory">data directory</a>.
            The ownership and permissions of the data directory and its
            contents must allow the server to read and modify them.
          </p><p>
            If you get <code class="literal">Errcode 13</code> (which means
            <code class="literal">Permission denied</code>) when starting
            <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>, this means that the privileges of
            the data directory or its contents do not permit server
            access. In this case, you change the permissions for the
            involved files and directories so that the server has the
            right to use them. You can also start the server as
            <code class="literal">root</code>, but this raises security issues and
            should be avoided.
          </p><p>
            On Unix, change location into the data directory and check
            the ownership of the data directory and its contents to make
            sure the server has access. For example, if the data
            directory is <code class="filename">/usr/local/mysql/var</code>, use
            this command:
          </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>ls -la /usr/local/mysql/var</code></strong>
</pre><p>
            If the data directory or its files or subdirectories are not
            owned by the login account that you use for running the
            server, change their ownership to that account. If the
            account is named <code class="literal">mysql</code>, use these
            commands:
          </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>chown -R mysql /usr/local/mysql/var</code></strong>
shell&gt; <strong class="userinput"><code>chgrp -R mysql /usr/local/mysql/var</code></strong>
</pre><p>
            Even with correct ownership, MySQL might fail to start up if
            there is other security software running on your system that
            manages application access to various parts of the file
            system. In this case, reconfigure that software to enable
            <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> to access the directories it uses
            during normal operation.
          </p></li><li class="listitem"><p>
            Verify that the network interfaces the server wants to use
            are available.
          </p><p>
            If either of the following errors occur, it means that some
            other program (perhaps another <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>
            server) is using the TCP/IP port or Unix socket file that
            <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> is trying to use:
          </p><pre class="programlisting">Can't start server: Bind on TCP/IP port: Address already in use
Can't start server: Bind on unix socket...</pre><p>
            Use <span class="command"><strong>ps</strong></span> to determine whether you have
            another <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> server running. If so,
            shut down the server before starting
            <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> again. (If another server is
            running, and you really want to run multiple servers, you
            can find information about how to do so in
            <a class="xref" href="server-administration.html#multiple-servers" title="5.6. Running Multiple MySQL Instances on One Machine">Section 5.6, “Running Multiple MySQL Instances on One Machine”</a>.)
          </p><p>
            If no other server is running, execute the command
            <code class="literal">telnet <em class="replaceable"><code>your_host_name</code></em>
            <em class="replaceable"><code>tcp_ip_port_number</code></em></code>.
            (The default MySQL port number is 3306.) Then press Enter a
            couple of times. If you do not get an error message like
            <code class="literal">telnet: Unable to connect to remote host:
            Connection refused</code>, some other program is using
            the TCP/IP port that <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> is trying to
            use. Track down what program this is and disable it, or tell
            <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> to listen to a different port with
            the <a class="link" href="server-administration.html#option_mysqld_port"><code class="option">--port</code></a> option. In this
            case, specify the same non-default port number for client
            programs when connecting to the server using TCP/IP.
          </p><p>
            Another reason the port might be inaccessible is that you
            have a firewall running that blocks connections to it. If
            so, modify the firewall settings to permit access to the
            port.
          </p><p>
            If the server starts but you cannot connect to it, make sure
            that you have an entry in <code class="filename">/etc/hosts</code>
            that looks like this:
          </p><pre class="programlisting">127.0.0.1       localhost</pre></li><li class="listitem"><p>
            If you cannot get <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> to start, try to
            make a trace file to find the problem by using the
            <a class="link" href="server-administration.html#option_mysqld_debug"><code class="option">--debug</code></a> option. See
            <a class="xref" href="extending-mysql.html#dbug-package" title="23.4.3. The DBUG Package">Section 23.4.3, “The DBUG Package”</a>.
</p></li></ul>
</div>

</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="default-privileges"></a>2.10.2. Securing the Initial MySQL Accounts</h3>

</div>

</div>

</div>
<a class="indexterm" name="idp5841952"></a><a class="indexterm" name="idp5843440"></a><a class="indexterm" name="idp5844928"></a><a class="indexterm" name="idp5846000"></a><a class="indexterm" name="idp5847072"></a><a class="indexterm" name="idp5848560"></a><a class="indexterm" name="idp5849632"></a><a class="indexterm" name="idp5851120"></a><a class="indexterm" name="idp5852608"></a><a class="indexterm" name="idp5854096"></a><a class="indexterm" name="idp5855168"></a><a class="indexterm" name="idp5856656"></a><a class="indexterm" name="idp5858144"></a><a class="indexterm" name="idp5859632"></a><a class="indexterm" name="idp5861120"></a><p>
      Part of the MySQL installation process is to set up the
      <code class="literal">mysql</code> database that contains the grant tables:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          Windows distributions contain preinitialized grant tables.
        </p></li><li class="listitem"><p>
          On Unix, the <a class="link" href="programs.html#mysql-install-db" title="4.4.3. mysql_install_db — Initialize MySQL Data Directory"><span class="command"><strong>mysql_install_db</strong></span></a> program
          populates the grant tables. Some installation methods run this
          program for you. Others require that you execute it manually.
          For details, see <a class="xref" href="installing.html#unix-postinstallation" title="2.10.1. Unix Postinstallation Procedures">Section 2.10.1, “Unix Postinstallation Procedures”</a>.
</p></li></ul>
</div>
<p>
      The <code class="literal">mysql.user</code> grant table defines the initial
      MySQL user accounts and their access privileges:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          Some accounts have the user name <code class="literal">root</code>.
          These are superuser accounts that have all privileges and can
          do anything. The initial <code class="literal">root</code> account
          passwords are empty, so anyone can connect to the MySQL server
          as <code class="literal">root</code> <span class="emphasis"><em>without a
          password</em></span> and be granted all privileges.
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              On Windows, <code class="literal">root</code> accounts are created
              that permit connections from the local host only.
              Connections can be made by specifying the host name
              <code class="literal">localhost</code>, the IP address
              <code class="literal">127.0.0.1</code>, or the IPv6 address
              <code class="literal">::1</code>. If the user selects the
              <span class="guilabel">Enable root access from remote
              machines</span> option during installation, the
              Windows installer creates another <code class="literal">root</code>
              account that permits connections from any host.
            </p></li><li class="listitem"><p>
              On Unix, each <code class="literal">root</code> account permits
              connections from the local host. Connections can be made
              by specifying the host name <code class="literal">localhost</code>,
              the IP address <code class="literal">127.0.0.1</code>, the IPv6
              address <code class="literal">::1</code>, or the actual host name or
              IP address.
</p></li></ul>
</div>
<a class="indexterm" name="idp5882192"></a><p>
          An attempt to connect to the host <code class="literal">127.0.0.1</code>
          normally resolves to the <code class="literal">localhost</code> account.
          However, this fails if the server is run with the
          <a class="link" href="server-administration.html#option_mysqld_skip-name-resolve"><code class="option">--skip-name-resolve</code></a> option, so
          the <code class="literal">127.0.0.1</code> account is useful in that
          case. The <code class="literal">::1</code> account is used for IPv6
          connections.
        </p></li><li class="listitem"><p>
          <a class="indexterm" name="idp5888240"></a>

          Some accounts are for anonymous users. These have an empty
          user name. The anonymous accounts have no password, so anyone
          can use them to connect to the MySQL server.
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              On Windows, there is one anonymous account that permits
              connections from the local host. Connections can be made
              by specifying a host name of <code class="literal">localhost</code>.
            </p></li><li class="listitem"><p>
              On Unix, each anonymous account permits connections from
              the local host. Connections can be made by specifying a
              host name of <code class="literal">localhost</code> for one of the
              accounts, or the actual host name or IP address for the
              other.
</p></li></ul>
</div>
</li></ul>
</div>
<p>
      To display which accounts exist in the
      <code class="literal">mysql.user</code> table and check whether their
      passwords are empty, use the following statement:
    </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT User, Host, Password FROM mysql.user;</code></strong>
+------+--------------------+----------+
| User | Host               | Password |
+------+--------------------+----------+
| root | localhost          |          |
| root | myhost.example.com |          |
| root | 127.0.0.1          |          |
| root | ::1                |          |
|      | localhost          |          |
|      | myhost.example.com |          |
+------+--------------------+----------+
</pre><p>
      This output indicates that there are several
      <code class="literal">root</code> and anonymous-user accounts, none of which
      have passwords. The output might differ on your system, but the
      presence of accounts with empty passwords means that your MySQL
      installation is unprotected until you do something about it:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          You should assign a password to each MySQL
          <code class="literal">root</code> account.
        </p></li><li class="listitem"><p>
          If you want to prevent clients from connecting as anonymous
          users without a password, you should either assign a password
          to each anonymous account or else remove the accounts.
</p></li></ul>
</div>
<p>
      In addition, the <code class="literal">mysql.db</code> table contains rows
      that permit all accounts to access the <code class="literal">test</code>
      database and other databases with names that start with
      <code class="literal">test_</code>. This is true even for accounts that
      otherwise have no special privileges such as the default anonymous
      accounts. This is convenient for testing but inadvisable on
      production servers. Administrators who want database access
      restricted only to accounts that have permissions granted
      explicitly for that purpose should remove these
      <code class="literal">mysql.db</code> table rows.
    </p><p>
      The following instructions describe how to set up passwords for
      the initial MySQL accounts, first for the <code class="literal">root</code>
      accounts, then for the anonymous accounts. The instructions also
      cover how to remove the anonymous accounts, should you prefer not
      to permit anonymous access at all, and describe how to remove
      permissive access to test databases. Replace
      <em class="replaceable"><code>newpwd</code></em> in the examples with the
      password that you want to use. Replace
      <em class="replaceable"><code>host_name</code></em> with the name of the server
      host. You can determine this name from the output of the preceding
      <a class="link" href="sql-syntax.html#select" title="13.2.9. SELECT Syntax"><code class="literal">SELECT</code></a> statement. For the output
      shown, <em class="replaceable"><code>host_name</code></em> is
      <code class="literal">myhost.example.com</code>.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
        For additional information about setting passwords, see
        <a class="xref" href="security.html#assigning-passwords" title="6.3.5. Assigning Account Passwords">Section 6.3.5, “Assigning Account Passwords”</a>. If you forget your
        <code class="literal">root</code> password after setting it, see
        <a class="xref" href="error-handling.html#resetting-permissions" title="C.5.4.1. How to Reset the Root Password">Section C.5.4.1, “How to Reset the Root Password”</a>.
</p>
</div>
<p>
      You might want to defer setting the passwords until later, to
      avoid the need to specify them while you perform additional setup
      or testing. However, be sure to set them before using your
      installation for production purposes.
    </p><p>
      To set up additional accounts, see <a class="xref" href="security.html#adding-users" title="6.3.2. Adding User Accounts">Section 6.3.2, “Adding User Accounts”</a>.
</p>
<h4><a name="idp5914016"></a>
      Assigning <code class="literal">root</code> Account Passwords
</h4>
<p>
      The <code class="literal">root</code> account passwords can be set several
      ways. The following discussion demonstrates three methods:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          Use the <a class="link" href="sql-syntax.html#set-password" title="13.7.1.7. SET PASSWORD Syntax"><code class="literal">SET PASSWORD</code></a> statement
        </p></li><li class="listitem"><p>
          Use the <a class="link" href="sql-syntax.html#update" title="13.2.11. UPDATE Syntax"><code class="literal">UPDATE</code></a> statement
        </p></li><li class="listitem"><p>
          Use the <a class="link" href="programs.html#mysqladmin" title="4.5.2. mysqladmin — Client for Administering a MySQL Server"><span class="command"><strong>mysqladmin</strong></span></a> command-line client
          program
</p></li></ul>
</div>
<p>
      To assign passwords using <a class="link" href="sql-syntax.html#set-password" title="13.7.1.7. SET PASSWORD Syntax"><code class="literal">SET
      PASSWORD</code></a>, connect to the server as
      <code class="literal">root</code> and issue a <a class="link" href="sql-syntax.html#set-password" title="13.7.1.7. SET PASSWORD Syntax"><code class="literal">SET
      PASSWORD</code></a> statement for each <code class="literal">root</code>
      account listed in the <code class="literal">mysql.user</code> table. Be sure
      to encrypt the password using the
      <a class="link" href="functions.html#function_password"><code class="literal">PASSWORD()</code></a> function.
    </p><p>
      For Windows, do this:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>mysql -u root</code></strong>
mysql&gt; <strong class="userinput"><code>SET PASSWORD FOR 'root'@'localhost' = PASSWORD('<em class="replaceable"><code>newpwd</code></em>');</code></strong>
mysql&gt; <strong class="userinput"><code>SET PASSWORD FOR 'root'@'127.0.0.1' = PASSWORD('<em class="replaceable"><code>newpwd</code></em>');</code></strong>
mysql&gt; <strong class="userinput"><code>SET PASSWORD FOR 'root'@'::1' = PASSWORD('<em class="replaceable"><code>newpwd</code></em>');</code></strong>
mysql&gt; <strong class="userinput"><code>SET PASSWORD FOR 'root'@'%' = PASSWORD('<em class="replaceable"><code>newpwd</code></em>');</code></strong>
</pre><p>
      The last statement is unnecessary if the
      <code class="literal">mysql.user</code> table has no <code class="literal">root</code>
      account with a host value of <code class="literal">%</code>.
    </p><p>
      For Unix, do this:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>mysql -u root</code></strong>
mysql&gt; <strong class="userinput"><code>SET PASSWORD FOR 'root'@'localhost' = PASSWORD('<em class="replaceable"><code>newpwd</code></em>');</code></strong>
mysql&gt; <strong class="userinput"><code>SET PASSWORD FOR 'root'@'127.0.0.1' = PASSWORD('<em class="replaceable"><code>newpwd</code></em>');</code></strong>
mysql&gt; <strong class="userinput"><code>SET PASSWORD FOR 'root'@'::1' = PASSWORD('<em class="replaceable"><code>newpwd</code></em>');</code></strong>
mysql&gt; <strong class="userinput"><code>SET PASSWORD FOR 'root'@'<em class="replaceable"><code>host_name</code></em>' = PASSWORD('<em class="replaceable"><code>newpwd</code></em>');</code></strong>
</pre><p>
      You can also use a single statement that assigns a password to all
      <code class="literal">root</code> accounts by using
      <a class="link" href="sql-syntax.html#update" title="13.2.11. UPDATE Syntax"><code class="literal">UPDATE</code></a> to modify the
      <code class="literal">mysql.user</code> table directly. This method works on
      any platform:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>mysql -u root</code></strong>
mysql&gt; <strong class="userinput"><code>UPDATE mysql.user SET Password = PASSWORD('<em class="replaceable"><code>newpwd</code></em>')</code></strong>
    -&gt;     <strong class="userinput"><code>WHERE User = 'root';</code></strong>
mysql&gt; <strong class="userinput"><code>FLUSH PRIVILEGES;</code></strong>
</pre><p>
      The <a class="link" href="sql-syntax.html#flush" title="13.7.6.3. FLUSH Syntax"><code class="literal">FLUSH</code></a> statement causes the
      server to reread the grant tables. Without it, the password change
      remains unnoticed by the server until you restart it.
    </p><p>
      To assign passwords to the <code class="literal">root</code> accounts using
      <a class="link" href="programs.html#mysqladmin" title="4.5.2. mysqladmin — Client for Administering a MySQL Server"><span class="command"><strong>mysqladmin</strong></span></a>, execute the following commands:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>mysqladmin -u root password "<em class="replaceable"><code>newpwd</code></em>"</code></strong>
shell&gt; <strong class="userinput"><code>mysqladmin -u root -h <em class="replaceable"><code>host_name</code></em> password "<em class="replaceable"><code>newpwd</code></em>"</code></strong>
</pre><p>
      Those commands apply both to Windows and to Unix. The double
      quotation marks around the password are not always necessary, but
      you should use them if the password contains spaces or other
      characters that are special to your command interpreter.
    </p><p>
      The <a class="link" href="programs.html#mysqladmin" title="4.5.2. mysqladmin — Client for Administering a MySQL Server"><span class="command"><strong>mysqladmin</strong></span></a> method of setting the
      <code class="literal">root</code> account passwords does not work for the
      <code class="literal">'root'@'127.0.0.1'</code> or
      <code class="literal">'root'@'::1'</code> account. Use the
      <a class="link" href="sql-syntax.html#set-password" title="13.7.1.7. SET PASSWORD Syntax"><code class="literal">SET PASSWORD</code></a> method shown earlier.
    </p><p>
      After the <code class="literal">root</code> passwords have been set, you
      must supply the appropriate password whenever you connect as
      <code class="literal">root</code> to the server. For example, to shut down
      the server with <a class="link" href="programs.html#mysqladmin" title="4.5.2. mysqladmin — Client for Administering a MySQL Server"><span class="command"><strong>mysqladmin</strong></span></a>, use this command:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>mysqladmin -u root -p shutdown</code></strong>
Enter password: <em class="replaceable"><code>(enter root password here)</code></em>
</pre>
<h4><a name="idp5966400"></a>
      Assigning Anonymous Account Passwords
</h4>
<p>
      The <a class="link" href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span class="command"><strong>mysql</strong></span></a> commands in the following
      instructions include a <code class="option">-p</code> option based on the
      assumption that you have set the <code class="literal">root</code> account
      passwords using the preceding instructions and must specify that
      password when connecting to the server.
    </p><p>
      To assign passwords to the anonymous accounts, connect to the
      server as <code class="literal">root</code>, then use either
      <a class="link" href="sql-syntax.html#set-password" title="13.7.1.7. SET PASSWORD Syntax"><code class="literal">SET PASSWORD</code></a> or
      <a class="link" href="sql-syntax.html#update" title="13.2.11. UPDATE Syntax"><code class="literal">UPDATE</code></a>. Be sure to encrypt the
      password using the <a class="link" href="functions.html#function_password"><code class="literal">PASSWORD()</code></a>
      function.
    </p><p>
      To use <a class="link" href="sql-syntax.html#set-password" title="13.7.1.7. SET PASSWORD Syntax"><code class="literal">SET PASSWORD</code></a> on Windows, do
      this:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>mysql -u root -p</code></strong>
Enter password: <em class="replaceable"><code>(enter root password here)</code></em>
mysql&gt; <strong class="userinput"><code>SET PASSWORD FOR ''@'localhost' = PASSWORD('<em class="replaceable"><code>newpwd</code></em>');</code></strong>
</pre><p>
      To use <a class="link" href="sql-syntax.html#set-password" title="13.7.1.7. SET PASSWORD Syntax"><code class="literal">SET PASSWORD</code></a> on Unix, do
      this:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>mysql -u root -p</code></strong>
Enter password: <em class="replaceable"><code>(enter root password here)</code></em>
mysql&gt; <strong class="userinput"><code>SET PASSWORD FOR ''@'localhost' = PASSWORD('<em class="replaceable"><code>newpwd</code></em>');</code></strong>
mysql&gt; <strong class="userinput"><code>SET PASSWORD FOR ''@'<em class="replaceable"><code>host_name</code></em>' = PASSWORD('<em class="replaceable"><code>newpwd</code></em>');</code></strong>
</pre><p>
      To set the anonymous-user account passwords with a single
      <a class="link" href="sql-syntax.html#update" title="13.2.11. UPDATE Syntax"><code class="literal">UPDATE</code></a> statement, do this (on any
      platform):
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>mysql -u root -p</code></strong>
Enter password: <em class="replaceable"><code>(enter root password here)</code></em>
mysql&gt; <strong class="userinput"><code>UPDATE mysql.user SET Password = PASSWORD('<em class="replaceable"><code>newpwd</code></em>')</code></strong>
    -&gt;     <strong class="userinput"><code>WHERE User = '';</code></strong>
mysql&gt; <strong class="userinput"><code>FLUSH PRIVILEGES;</code></strong>
</pre><p>
      The <a class="link" href="sql-syntax.html#flush" title="13.7.6.3. FLUSH Syntax"><code class="literal">FLUSH</code></a> statement causes the
      server to reread the grant tables. Without it, the password change
      remains unnoticed by the server until you restart it.
</p>
<h4><a name="idp5990608"></a>
      Removing Anonymous Accounts
</h4>
<p>
      If you prefer to remove any anonymous accounts rather than
      assigning them passwords, do so as follows on Windows:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>mysql -u root -p</code></strong>
Enter password: <em class="replaceable"><code>(enter root password here)</code></em>
mysql&gt; <strong class="userinput"><code>DROP USER ''@'localhost';</code></strong>
</pre><p>
      On Unix, remove the anonymous accounts like this:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>mysql -u root -p</code></strong>
Enter password: <em class="replaceable"><code>(enter root password here)</code></em>
mysql&gt; <strong class="userinput"><code>DROP USER ''@'localhost';</code></strong>
mysql&gt; <strong class="userinput"><code>DROP USER ''@'<em class="replaceable"><code>host_name</code></em>';</code></strong>
</pre>
<h4><a name="idp5998320"></a>
      Securing Test Databases
</h4>
<p>
      By default, the <code class="literal">mysql.db</code> table contains rows
      that permit access by any user to the <code class="literal">test</code>
      database and other databases with names that start with
      <code class="literal">test_</code>. (These rows have an empty
      <code class="literal">User</code> column value, which for access-checking
      purposes matches any user name.) This means that such databases
      can be used even by accounts that otherwise possess no privileges.
      If you want to remove any-user access to test databases, do so as
      follows:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>mysql -u root -p</code></strong>
Enter password: <em class="replaceable"><code>(enter root password here)</code></em>
mysql&gt; <strong class="userinput"><code>DELETE FROM mysql.db WHERE Db LIKE 'test%';</code></strong>
mysql&gt; <strong class="userinput"><code>FLUSH PRIVILEGES;</code></strong>
</pre><p>
      The <a class="link" href="sql-syntax.html#flush" title="13.7.6.3. FLUSH Syntax"><code class="literal">FLUSH</code></a> statement causes the
      server to reread the grant tables. Without it, the privilege
      change remains unnoticed by the server until you restart it.
    </p><p>
      With the preceding change, only users who have global database
      privileges or privileges granted explicitly for the
      <code class="literal">test</code> database can use it. However, if you do
      not want the database to exist at all, drop it:
    </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>DROP DATABASE test;</code></strong>
</pre>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
        On Windows, you can also perform the process described in this
        section during installation with MySQL Installer (see
        <a class="xref" href="installing.html#mysql-installer" title="2.3.3. Installing MySQL on Microsoft Windows Using MySQL Installer">Section 2.3.3, “Installing MySQL on Microsoft Windows Using MySQL Installer”</a>). On all platforms, the MySQL
        distribution includes
        <a class="link" href="programs.html#mysql-secure-installation" title="4.4.5. mysql_secure_installation — Improve MySQL Installation Security"><span class="command"><strong>mysql_secure_installation</strong></span></a>, a command-line
        utility that automates much of the process of securing a MySQL
        installation. And MySQL Workbench is available on all platforms, and
        also offers the ability to manage user accounts (see
        <a class="xref" href="workbench.html" title="Chapter 25. MySQL Workbench">Chapter 25, <i>MySQL Workbench</i></a> ).
</p>
</div>

</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both"><a name="upgrading-downgrading"></a>2.11. Upgrading or Downgrading MySQL</h2>

</div>

</div>

</div>
<div class="toc">
<dl><dt><span class="section"><a href="installing.html#upgrading">2.11.1. Upgrading MySQL</a></span></dt><dt><span class="section"><a href="installing.html#downgrading">2.11.2. Downgrading MySQL</a></span></dt><dt><span class="section"><a href="installing.html#checking-table-incompatibilities">2.11.3. Checking Whether Tables or Indexes Must Be Rebuilt</a></span></dt><dt><span class="section"><a href="installing.html#rebuilding-tables">2.11.4. Rebuilding or Repairing Tables or Indexes</a></span></dt><dt><span class="section"><a href="installing.html#copying-databases">2.11.5. Copying MySQL Databases to Another Machine</a></span></dt></dl>
</div>
<a class="indexterm" name="idp6014256"></a><a class="indexterm" name="idp6015328"></a><p>
    This section describes the steps to upgrade or downgrade a MySQL
    installation.
  </p><p>
    Upgrading is a common procedure, as you pick up bug fixes within the
    same MySQL release series or significant features between major
    MySQL releases. You perform this procedure first on some test
    systems to make sure everything works smoothly, and then on the
    production systems.
  </p><p>
    Downgrading is less common. Typically, you undo an upgrade because
    of some compatibility or performance issue that occurs on a
    production system, and was not uncovered during initial upgrade
    verification on the test systems. As with the upgrade procedure,
    perform and verify the downgrade procedure on some test systems
    first, before using it on a production system.
</p>
<div class="section">

<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="upgrading"></a>2.11.1. Upgrading MySQL</h3>

</div>

</div>

</div>

<div class="toc">
<dl><dt><span class="section"><a href="installing.html#upgrading-from-previous-series">2.11.1.1. Upgrading from MySQL 5.5 to 5.6</a></span></dt></dl>
</div>
<a class="indexterm" name="idp6019344"></a><p>
      As a general rule, to upgrade from one release series to another,
      go to the next series rather than skipping a series. To upgrade
      from a release series previous to MySQL 5.5, upgrade
      to each successive release series in turn until you have reached
      MySQL 5.5, and then proceed with the upgrade to
      MySQL 5.6. For example, if you currently are running
      MySQL 5.1 and wish to upgrade to a newer series, upgrade to MySQL
      5.5 first before upgrading to 5.6, and so forth. For information
      on upgrading to MySQL 5.5, see the
      <em class="citetitle">MySQL 5.5 Reference Manual</em>.
    </p><p>
      To upgrade to MySQL 5.6, use the items in the
      following checklist as a guide:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          Before any upgrade, back up your databases, including the
          <code class="literal">mysql</code> database that contains the grant
          tables. See <a class="xref" href="backup-and-recovery.html#backup-methods" title="7.2. Database Backup Methods">Section 7.2, “Database Backup Methods”</a>.
        </p></li><li class="listitem"><p>
          Read <span class="emphasis"><em>all</em></span> the notes in
          <a class="xref" href="installing.html#upgrading-from-previous-series" title="2.11.1.1. Upgrading from MySQL 5.5 to 5.6">Section 2.11.1.1, “Upgrading from MySQL 5.5 to 5.6”</a>. These notes
          enable you to identify upgrade issues that apply to your
          current MySQL installation. Some incompatibilities discussed
          in that section require your attention
          <span class="emphasis"><em>before</em></span> upgrading. Others require some
          action <span class="emphasis"><em>after</em></span> upgrading.
        </p></li><li class="listitem"><p>
          Read the
          <a class="ulink" href="http://dev.mysql.com/doc/relnotes/mysql/5.6/en/" target="_top">Release
          Notes</a> as well, which provide information about
          features that are new in MySQL 5.6 or differ from
          from those found in earlier MySQL releases.
        </p></li><li class="listitem"><p>
          After upgrading to a new version of MySQL, run
          <a class="link" href="programs.html#mysql-upgrade" title="4.4.7. mysql_upgrade — Check and Upgrade MySQL Tables"><span class="command"><strong>mysql_upgrade</strong></span></a> (see
          <a class="xref" href="programs.html#mysql-upgrade" title="4.4.7. mysql_upgrade — Check and Upgrade MySQL Tables">Section 4.4.7, “<span class="command"><strong>mysql_upgrade</strong></span> — Check and Upgrade MySQL Tables”</a>). This program checks your
          tables, and attempts to repair them if necessary. It also
          updates your grant tables to make sure that they have the
          current structure so that you can take advantage of any new
          capabilities. (Some releases of MySQL introduce changes to the
          structure of the grant tables to add new privileges or
          features.)
        </p><p>
          <a class="link" href="programs.html#mysql-upgrade" title="4.4.7. mysql_upgrade — Check and Upgrade MySQL Tables"><span class="command"><strong>mysql_upgrade</strong></span></a> does not upgrade the contents
          of the help tables. For upgrade instructions, see
          <a class="xref" href="server-administration.html#server-side-help-support" title="5.1.10. Server-Side Help">Section 5.1.10, “Server-Side Help”</a>.
        </p><p>
          <a class="link" href="programs.html#mysql-upgrade" title="4.4.7. mysql_upgrade — Check and Upgrade MySQL Tables"><span class="command"><strong>mysql_upgrade</strong></span></a> should not be used when the
          server is running with
          <a class="link" href="replication.html#option_mysqld_gtid-mode"><code class="option">--gtid-mode=ON</code></a>, since it may
          make changes in nontransactional system tables in the
          <code class="literal">mysql</code> database, many of which are
          <a class="link" href="storage-engines.html#myisam-storage-engine" title="14.3. The MyISAM Storage Engine"><code class="literal">MyISAM</code></a> and cannot be changed to
          use a different storage engine. See
          <a class="xref" href="replication.html#replication-gtids-restrictions-mysql_upgrade" title="GTID mode and mysql_upgrade">GTID mode and <span class="command"><strong>mysql_upgrade</strong></span></a>.
        </p></li><li class="listitem"><p>
          If you run MySQL Server on Windows, see
          <a class="xref" href="installing.html#windows-upgrading" title="2.3.7. Upgrading MySQL on Windows">Section 2.3.7, “Upgrading MySQL on Windows”</a>.
        </p></li><li class="listitem"><p>
          If you use replication, see
          <a class="xref" href="replication.html#replication-upgrade" title="16.4.3. Upgrading a Replication Setup">Section 16.4.3, “Upgrading a Replication Setup”</a>, for information on
          upgrading your replication setup.
        </p></li><li class="listitem"><p>
          If you use <code class="literal">InnoDB</code>, consider setting
          <a class="link" href="storage-engines.html#sysvar_innodb_fast_shutdown"><code class="literal">innodb_fast_shutdown</code></a> to 0
          before shutting down and upgrading your server. When you set
          <a class="link" href="storage-engines.html#sysvar_innodb_fast_shutdown"><code class="literal">innodb_fast_shutdown</code></a> to 0,
          <code class="literal">InnoDB</code> does a slow shutdown, a full purge
          and an insert buffer merge before shutting down, which ensures
          that all data files are fully prepared in case the upgrade
          process modifies the file format.
        </p></li><li class="listitem"><p>
          If you upgrade an installation originally produced by
          installing multiple RPM packages, it is best to upgrade all
          the packages, not just some. For example, if you previously
          installed the server and client RPMs, do not upgrade just the
          server RPM.
        </p></li><li class="listitem"><p>
          If you have created a user-defined function (UDF) with a given
          name and upgrade MySQL to a version that implements a new
          built-in function with the same name, the UDF becomes
          inaccessible. To correct this, use <a class="link" href="sql-syntax.html#drop-function" title="13.1.23. DROP FUNCTION Syntax"><code class="literal">DROP
          FUNCTION</code></a> to drop the UDF, and then use
          <a class="link" href="sql-syntax.html#create-function" title="13.1.12. CREATE FUNCTION Syntax"><code class="literal">CREATE FUNCTION</code></a> to re-create
          the UDF with a different nonconflicting name. The same is true
          if the new version of MySQL implements a built-in function
          with the same name as an existing stored function. See
          <a class="xref" href="language-structure.html#function-resolution" title="9.2.4. Function Name Parsing and Resolution">Section 9.2.4, “Function Name Parsing and Resolution”</a>, for the rules
          describing how the server interprets references to different
          kinds of functions.
</p></li></ul>
</div>
<p>
      For upgrades between versions of a MySQL release series that has
      reached General Availability status, you can move the MySQL format
      files and data files between different versions on systems with
      the same architecture. For upgrades to a version of a MySQL
      release series that is in development status, that is not
      necessarily true. Use of development releases is at your own risk.
    </p><p>
      If you are cautious about using new versions, you can always
      rename your old <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> before installing a
      newer one. For example, if you are using a version of MySQL
      5.5 and want to upgrade to 5.6, rename
      your current server from <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> to
      <span class="command"><strong>mysqld-5.5</strong></span>. If your new
      <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> then does something unexpected, you can
      simply shut it down and restart with your old
      <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>.
    </p><p>
      If problems occur, such as that the new <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>
      server does not start or that you cannot connect without a
      password, verify that you do not have an old
      <code class="filename">my.cnf</code> file from your previous installation.
      You can check this with the
      <a class="link" href="programs.html#option_general_print-defaults"><code class="option">--print-defaults</code></a> option (for
      example, <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld --print-defaults</strong></span></a>). If this
      command displays anything other than the program name, you have an
      active <code class="filename">my.cnf</code> file that affects server or
      client operation.
    </p><p>
      If, after an upgrade, you experience problems with compiled client
      programs, such as <code class="literal">Commands out of sync</code> or
      unexpected core dumps, you probably have used old header or
      library files when compiling your programs. In this case, check
      the date for your <code class="filename">mysql.h</code> file and
      <code class="filename">libmysqlclient.a</code> library to verify that they
      are from the new MySQL distribution. If not, recompile your
      programs with the new headers and libraries. Recompilation might
      also be necessary for programs compiled against the shared client
      library if the library major version number has changed (for
      example from <code class="filename">libmysqlclient.so.15</code> to
      <code class="filename">libmysqlclient.so.16</code>.
    </p><p>
      If your MySQL installation contains a large amount of data that
      might take a long time to convert after an in-place upgrade, you
      might find it useful to create a <span class="quote">“<span class="quote">dummy</span>”</span> database
      instance for assessing what conversions might be needed and the
      work involved to perform them. Make a copy of your MySQL instance
      that contains a full copy of the <code class="literal">mysql</code>
      database, plus all other databases without data. Run your upgrade
      procedure on this dummy instance to see what actions might be
      needed so that you can better evaluate the work involved when
      performing actual data conversion on your original database
      instance.
    </p><p>
      It is a good idea to rebuild and reinstall the Perl
      <code class="literal">DBD::mysql</code> module whenever you install a new
      release of MySQL. The same applies to other MySQL interfaces as
      well, such as PHP <code class="literal">mysql</code> extensions and the
      Python <code class="literal">MySQLdb</code> module.
</p>
<div class="section">

<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="upgrading-from-previous-series"></a>2.11.1.1. Upgrading from MySQL 5.5 to 5.6</h4>

</div>

</div>

</div>
<a class="indexterm" name="idp6071296"></a><a class="indexterm" name="idp6072784"></a>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
          Beginning with MySQL 5.6.6, several MySQL Server parameters
          have defaults that differ from previous releases. See the
          notes regarding these changes later in this section,
          particularly regarding overriding them to preserve backward
          compatibility if that is a concern.
</p>
</div>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<div class="admon-title">
Note
</div>
<p xmlns="">
          It is good practice to back up your data before installing any
          new version of software. Although MySQL works very hard to
          ensure a high level of quality, protect your data by making a
          backup.
        </p><p xmlns="">
          To upgrade to 5.6 from any previous version,
          MySQL recommends that you dump your tables with
          <a class="link" href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span class="command"><strong>mysqldump</strong></span></a> before upgrading and reload the
          dump file after upgrading. Use the
          <a class="link" href="programs.html#option_mysqldump_all-databases"><code class="option">--all-databases</code></a> option to
          include all databases in the dump. If your databases include
          stored programs, use the
          <a class="link" href="programs.html#option_mysqldump_routines"><code class="option">--routines</code></a> and
          <a class="link" href="programs.html#option_mysqldump_events"><code class="option">--events</code></a> options as well.
</p>
</div>
<p>
        In general, do the following when upgrading from MySQL
        5.5 to 5.6:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            Read <span class="emphasis"><em>all</em></span> the items in these sections to
            see whether any of them might affect your applications:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <a class="xref" href="installing.html#upgrading" title="2.11.1. Upgrading MySQL">Section 2.11.1, “Upgrading MySQL”</a>, has general update
                information.
              </p></li><li class="listitem"><p>
                The items in the change lists provided later in this
                section enable you to identify upgrade issues that apply
                to your current MySQL installation. Some
                incompatibilities discussed there require your attention
                <span class="emphasis"><em>before</em></span> upgrading. Others should be
                dealt with <span class="emphasis"><em>after</em></span> upgrading.
              </p></li><li class="listitem"><p>
                The MySQL 5.6
                <a class="ulink" href="http://dev.mysql.com/doc/relnotes/mysql/5.6/en/" target="_top">Release
                Notes</a> describe significant new features you can
                use in 5.6 or that differ from those found
                in earlier MySQL releases. Some of these changes may
                result in incompatibilities.
</p></li></ul>
</div>
<p>
            Note particularly any changes that are marked
            <span class="bold"><strong>Known issue</strong></span> or
            <span class="bold"><strong>Incompatible change</strong></span>. These
            incompatibilities with earlier versions of MySQL may require
            your attention <span class="emphasis"><em>before you upgrade</em></span>. Our
            aim is to avoid these changes, but occasionally they are
            necessary to correct problems that would be worse than an
            incompatibility between releases. If any upgrade issue
            applicable to your installation involves an incompatibility
            that requires special handling, follow the instructions
            given in the incompatibility description. Sometimes this
            involves dumping and reloading tables, or use of a statement
            such as <a class="link" href="sql-syntax.html#check-table" title="13.7.2.2. CHECK TABLE Syntax"><code class="literal">CHECK TABLE</code></a> or
            <a class="link" href="sql-syntax.html#repair-table" title="13.7.2.5. REPAIR TABLE Syntax"><code class="literal">REPAIR TABLE</code></a>.
          </p><p>
            For dump and reload instructions, see
            <a class="xref" href="installing.html#rebuilding-tables" title="2.11.4. Rebuilding or Repairing Tables or Indexes">Section 2.11.4, “Rebuilding or Repairing Tables or Indexes”</a>. Any procedure that
            involves <a class="link" href="sql-syntax.html#repair-table" title="13.7.2.5. REPAIR TABLE Syntax"><code class="literal">REPAIR TABLE</code></a> with
            the <code class="literal">USE_FRM</code> option
            <span class="emphasis"><em>must</em></span> be done before upgrading. Use of
            this statement with a version of MySQL different from the
            one used to create the table (that is, using it after
            upgrading) may damage the table. See
            <a class="xref" href="sql-syntax.html#repair-table" title="13.7.2.5. REPAIR TABLE Syntax">Section 13.7.2.5, “<code class="literal">REPAIR TABLE</code> Syntax”</a>.
          </p></li><li class="listitem"><p>
            Before upgrading to a new version of MySQL,
            <a class="xref" href="installing.html#checking-table-incompatibilities" title="2.11.3. Checking Whether Tables or Indexes Must Be Rebuilt">Section 2.11.3, “Checking Whether Tables or Indexes Must Be Rebuilt”</a>, to see
            whether changes to table formats or to character sets or
            collations were made between your current version of MySQL
            and the version to which you are upgrading. If so and these
            changes result in an incompatibility between MySQL versions,
            you will need to upgrade the affected tables using the
            instructions in <a class="xref" href="installing.html#rebuilding-tables" title="2.11.4. Rebuilding or Repairing Tables or Indexes">Section 2.11.4, “Rebuilding or Repairing Tables or Indexes”</a>.
          </p></li><li class="listitem"><p>
            After upgrading to a new version of MySQL, run
            <a class="link" href="programs.html#mysql-upgrade" title="4.4.7. mysql_upgrade — Check and Upgrade MySQL Tables"><span class="command"><strong>mysql_upgrade</strong></span></a> (see
            <a class="xref" href="programs.html#mysql-upgrade" title="4.4.7. mysql_upgrade — Check and Upgrade MySQL Tables">Section 4.4.7, “<span class="command"><strong>mysql_upgrade</strong></span> — Check and Upgrade MySQL Tables”</a>). This program checks your
            tables, and attempts to repair them if necessary. It also
            updates your grant tables to make sure that they have the
            current structure so that you can take advantage of any new
            capabilities. (Some releases of MySQL introduce changes to
            the structure of the grant tables to add new privileges or
            features.)
          </p><p>
            <a class="link" href="programs.html#mysql-upgrade" title="4.4.7. mysql_upgrade — Check and Upgrade MySQL Tables"><span class="command"><strong>mysql_upgrade</strong></span></a> does not upgrade the
            contents of the help tables. For upgrade instructions, see
            <a class="xref" href="server-administration.html#server-side-help-support" title="5.1.10. Server-Side Help">Section 5.1.10, “Server-Side Help”</a>.
          </p></li><li class="listitem"><p>
            If you run MySQL Server on Windows, see
            <a class="xref" href="installing.html#windows-upgrading" title="2.3.7. Upgrading MySQL on Windows">Section 2.3.7, “Upgrading MySQL on Windows”</a>.
          </p></li><li class="listitem"><p>
            If you use replication, see
            <a class="xref" href="replication.html#replication-upgrade" title="16.4.3. Upgrading a Replication Setup">Section 16.4.3, “Upgrading a Replication Setup”</a>, for information on
            upgrading your replication setup.
</p></li></ul>
</div>
<p>
        If your MySQL installation contains a large amount of data that
        might take a long time to convert after an in-place upgrade, you
        might find it useful to create a <span class="quote">“<span class="quote">dummy</span>”</span> database
        instance for assessing what conversions might be needed and the
        work involved to perform them. Make a copy of your MySQL
        instance that contains a full copy of the
        <code class="literal">mysql</code> database, plus all other databases
        without data. Run your upgrade procedure on this dummy instance
        to see what actions might be needed so that you can better
        evaluate the work involved when performing actual data
        conversion on your original database instance.
      </p><p>
        Read <span class="emphasis"><em>all</em></span> the items in the following
        sections to see whether any of them might affect your
        applications:
</p>
<h5><a name="idp6110240"></a>
        Configuration Changes
</h5>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            Beginning with MySQL 5.6.6, several MySQL Server parameters
            have defaults that differ from previous releases. The
            motivation for these changes is to provide better out-of-box
            performance and to reduce the need for the database
            administrator to change settings manually. These changes are
            subject to possible revision in future releases as we gain
            feedback.
          </p><p>
            In some cases, a parameter has a different static default
            value. In other cases, the server autosizes a parameter at
            startup using a formula based on other related parameters or
            server host configuration, rather than using a static value.
            For example, the setting for
            <a class="link" href="server-administration.html#sysvar_back_log"><code class="literal">back_log</code></a> now is its
            previous default of 50, adjusted up by an amount
            proportional to the value of
            <a class="link" href="server-administration.html#sysvar_max_connections"><code class="literal">max_connections</code></a>. The idea
            behind autosizing is that when the server has information
            available to make a decision about a parameter setting
            likely to be better than a fixed default, it will.
          </p><p>
            The following table summarizes changes to defaults. Any of
            these can be overridden by specifying an explicit value at
            server startup.
</p>
<div class="informaltable">
<table summary="This table summarizes changes to MySQL server
              parameter defaults in MySQL 5.6.6." border="1"><colgroup><col><col><col></colgroup><thead><tr><th scope="col">Parameter</th><th scope="col">Old Default</th><th scope="col">New Default</th></tr></thead><tbody><tr><td scope="row"><a class="link" href="server-administration.html#sysvar_back_log"><code class="literal">back_log</code></a></td><td>50</td><td>Autosized using <a class="link" href="server-administration.html#sysvar_max_connections"><code class="literal">max_connections</code></a></td></tr><tr><td scope="row"><a class="link" href="replication.html#sysvar_binlog_checksum"><code class="literal">binlog_checksum</code></a></td><td><code class="literal">NONE</code></td><td><code class="literal">CRC32</code></td></tr><tr><td scope="row"><a class="link" href="replication.html#option_mysqld_binlog-row-event-max-size"><code class="option">--binlog-row-event-max-size</code></a></td><td>1024</td><td>8192</td></tr><tr><td scope="row"><a class="link" href="server-administration.html#sysvar_flush_time"><code class="literal">flush_time</code></a></td><td>1800 (on Windows)</td><td>0</td></tr><tr><td scope="row"><a class="link" href="storage-engines.html#sysvar_innodb_autoextend_increment"><code class="literal">innodb_autoextend_increment</code></a></td><td>8</td><td>64</td></tr><tr><td scope="row"><a class="link" href="storage-engines.html#sysvar_innodb_buffer_pool_instances"><code class="literal">innodb_buffer_pool_instances</code></a></td><td>1</td><td>8 (platform dependent)</td></tr><tr><td scope="row"><a class="link" href="storage-engines.html#sysvar_innodb_checksum_algorithm"><code class="literal">innodb_checksum_algorithm</code></a></td><td><code class="literal">INNODB</code></td><td><code class="literal">CRC32</code></td></tr><tr><td scope="row"><a class="link" href="storage-engines.html#sysvar_innodb_concurrency_tickets"><code class="literal">innodb_concurrency_tickets</code></a></td><td>500</td><td>5000</td></tr><tr><td scope="row"><a class="link" href="storage-engines.html#sysvar_innodb_file_per_table"><code class="literal">innodb_file_per_table</code></a></td><td><code class="literal">0</code></td><td><code class="literal">1</code></td></tr><tr><td scope="row"><a class="link" href="storage-engines.html#sysvar_innodb_old_blocks_time"><code class="literal">innodb_old_blocks_time</code></a></td><td>0</td><td>1000</td></tr><tr><td scope="row"><a class="link" href="storage-engines.html#sysvar_innodb_open_files"><code class="literal">innodb_open_files</code></a></td><td>300</td><td>Autosized using <a class="link" href="storage-engines.html#sysvar_innodb_file_per_table"><code class="literal">innodb_file_per_table</code></a>,
<a class="link" href="server-administration.html#sysvar_table_open_cache"><code class="literal">table_open_cache</code></a></td></tr><tr><td scope="row"><a class="link" href="storage-engines.html#sysvar_innodb_stats_on_metadata"><code class="literal">innodb_stats_on_metadata</code></a></td><td><code class="literal">ON</code></td><td><code class="literal">OFF</code></td></tr><tr><td scope="row"><a class="link" href="server-administration.html#sysvar_join_buffer_size"><code class="literal">join_buffer_size</code></a></td><td>128KB</td><td>256KB</td></tr><tr><td scope="row"><a class="link" href="server-administration.html#sysvar_max_allowed_packet"><code class="literal">max_allowed_packet</code></a></td><td>1MB</td><td>4MB</td></tr><tr><td scope="row"><a class="link" href="server-administration.html#sysvar_max_connect_errors"><code class="literal">max_connect_errors</code></a></td><td>10</td><td>100</td></tr><tr><td scope="row"><a class="link" href="replication.html#sysvar_sync_master_info"><code class="literal">sync_master_info</code></a></td><td>0</td><td>10000</td></tr><tr><td scope="row"><a class="link" href="replication.html#sysvar_sync_relay_log"><code class="literal">sync_relay_log</code></a></td><td>0</td><td>10000</td></tr><tr><td scope="row"><a class="link" href="replication.html#sysvar_sync_relay_log_info"><code class="literal">sync_relay_log_info</code></a></td><td>0</td><td>10000</td></tr></tbody></table>
</div>
<p>
            With regard to compatibility with previous releases, the
            most important changes are:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <a class="link" href="storage-engines.html#sysvar_innodb_file_per_table"><code class="literal">innodb_file_per_table</code></a>
                is enabled (previously disabled).
              </p></li><li class="listitem"><p>
                <a class="link" href="storage-engines.html#sysvar_innodb_checksum_algorithm"><code class="literal">innodb_checksum_algorithm</code></a>
                is <code class="literal">CRC32</code> (previously
                <code class="literal">INNODB</code>).
              </p></li><li class="listitem"><p>
                <a class="link" href="replication.html#sysvar_binlog_checksum"><code class="literal">binlog_checksum</code></a> is
                <code class="literal">CRC32</code> (previously
                <code class="literal">NONE</code>).
</p></li></ul>
</div>
<p>
            Therefore, if you are upgrading an existing MySQL
            installation, have not already changed the values of these
            parameters from their previous defaults, and backward
            compatibility is a concern, you may want to explicitly set
            these parameters to their previous defaults. For example,
            put these lines in the server option file:
          </p><pre class="programlisting">[mysqld]
innodb_file_per_table=0
innodb_checksum_algorithm=INNODB
binlog_checksum=NONE</pre><p>
            Those settings preserve compatibility as follows:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                With the new default of
                <a class="link" href="storage-engines.html#sysvar_innodb_file_per_table"><code class="literal">innodb_file_per_table</code></a>
                enabled, <a class="link" href="sql-syntax.html#alter-table" title="13.1.7. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a>
                operations following an upgrade will move
                <a class="link" href="storage-engines.html#innodb-storage-engine" title="14.2. The InnoDB Storage Engine"><code class="literal">InnoDB</code></a> tables that are in
                the system tablespace to individual
                <code class="filename">.ibd</code> files. Using
                <a class="link" href="storage-engines.html#sysvar_innodb_file_per_table"><code class="literal">innodb_file_per_table=0</code></a>
                will prevent this from happening.
              </p></li><li class="listitem"><p>
                Setting
                <a class="link" href="storage-engines.html#sysvar_innodb_checksum_algorithm"><code class="literal">innodb_checksum_algorithm=INNODB</code></a>
                permits binary downgrades after upgrading to this
                release. With a setting of <code class="literal">CRC32</code>,
                InnoDB would use checksumming that older MySQL versions
                cannot use.
              </p></li><li class="listitem"><p>
                With
                <a class="link" href="replication.html#sysvar_binlog_checksum"><code class="literal">binlog_checksum=NONE</code></a>,
                the server can be used as a replication master without
                causing failure of older slaves that do not understand
                binary log checksums.
</p></li></ul>
</div>
</li></ul>
</div>
<h5><a name="idp6186496"></a>
        Server Changes
</h5>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <span class="bold"><strong>Incompatible change</strong></span>: It is
            possible for a column <code class="literal">DEFAULT</code> value to be
            valid for the <a class="link" href="server-administration.html#sysvar_sql_mode"><code class="literal">sql_mode</code></a>
            value at table-creation time but invalid for the
            <a class="link" href="server-administration.html#sysvar_sql_mode"><code class="literal">sql_mode</code></a> value when rows
            are inserted or updated. Example:
          </p><pre class="programlisting">SET sql_mode = '';
CREATE TABLE t (d DATE DEFAULT 0);
SET sql_mode = 'NO_ZERO_DATE,STRICT_ALL_TABLES';
INSERT INTO t (d) VALUES(DEFAULT);</pre><p>
            In this case, 0 should be accepted for the
            <a class="link" href="sql-syntax.html#create-table" title="13.1.17. CREATE TABLE Syntax"><code class="literal">CREATE TABLE</code></a> but rejected for
            the <a class="link" href="sql-syntax.html#insert" title="13.2.5. INSERT Syntax"><code class="literal">INSERT</code></a>. However, the
            server did not evaluate <code class="literal">DEFAULT</code> values
            used for inserts or updates against the current
            <code class="literal">sql_mode</code>. In the example, the
            <a class="link" href="sql-syntax.html#insert" title="13.2.5. INSERT Syntax"><code class="literal">INSERT</code></a> succeeds and inserts
            <code class="literal">'0000-00-00'</code> into the
            <a class="link" href="data-types.html#datetime" title="11.3.1. The DATE, DATETIME, and TIMESTAMP Types"><code class="literal">DATE</code></a> column.
          </p><p>
            As of MySQL 5.6.13, the server applies the proper
            <a class="link" href="server-administration.html#sysvar_sql_mode"><code class="literal">sql_mode</code></a> checks to generate
            a warning or error at insert or update time.
          </p><p>
            A resulting incompatibility for replication if you use
            statement-based logging
            (<a class="link" href="replication.html#sysvar_binlog_format"><code class="literal">binlog_format=STATEMENT</code></a>)
            is that if a slave is upgraded, a nonupgraded master will
            execute the preceding example without error, whereas the
            <a class="link" href="sql-syntax.html#insert" title="13.2.5. INSERT Syntax"><code class="literal">INSERT</code></a> will fail on the slave
            and replication will stop.
          </p><p>
            To deal with this, stop all new statements on the master and
            wait until the slaves catch up. Then upgrade the slaves
            followed by the master. Alternatively, if you cannot stop
            new statements, temporarily change to row-based logging on
            the master
            (<a class="link" href="replication.html#sysvar_binlog_format"><code class="literal">binlog_format=ROW</code></a>) and
            wait until all slaves have processed all binary logs
            produced up to the point of this change. Then upgrade the
            slaves followed by the master and change the master back to
            statement-based logging.
          </p></li><li class="listitem"><p>
            <span class="bold"><strong>Incompatible change</strong></span>: MySQL
            5.6.11 and later supports
            <code class="literal">CREATE
            TABLE ... [SUB]PARTITION BY
            ALGORITHM=<em class="replaceable"><code>n</code></em> [LINEAR] KEY
            (...)</code>, which can be used to create a table whose
            <code class="literal">KEY</code> partitioning is compatible with a
            MySQL 5.1 server (<em class="replaceable"><code>n</code></em>=1). (Bug
            #14521864, Bug #66462) This syntax is not accepted by MySQL
            5.6.10 and earlier, although it is supported in MySQL 5.5
            beginning with MySQL 5.5.31. <a class="link" href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span class="command"><strong>mysqldump</strong></span></a> in
            MySQL 5.5.31 and later MySQL 5.5 releases includes the
            <code class="literal">ALGORITHM</code> option when dumping tables
            using this option, but surrounds it with conditional
            comments, like this:
          </p><pre class="programlisting">CREATE TABLE t1 (a INT)
/*!50100 PARTITION BY KEY */ <span class="emphasis"><em>/*!50531 ALGORITHM = 1 */</em></span> /*!50100 ()
      PARTITIONS 3 */
</pre><p>
            When importing a dump containing such <code class="literal">CREATE
            TABLE</code> statements into a MySQL 5.6.10 or earlier
            MySQL 5.6 server, the versioned comment is not ignored,
            which causes a syntax error. Therefore, prior to importing
            such a dump file, you must either change the comments so
            that the MySQL 5.6 server ignores them (by removing the
            string <code class="literal">!50531</code> or replacing it with
            <code class="literal">!50611</code>, wherever it occurs), or remove
            them.
          </p><p>
            This is not an issue with dump files made using MySQL 5.6.11
            or later, where the <code class="literal">ALGORITHM</code> option is
            written using <code class="literal">/*!50611 ... */</code>.
          </p></li><li class="listitem"><p>
            <span class="bold"><strong>Incompatible change</strong></span>: For
            <a class="link" href="data-types.html#time" title="11.3.2. The TIME Type"><code class="literal">TIME</code></a>,
            <a class="link" href="data-types.html#datetime" title="11.3.1. The DATE, DATETIME, and TIMESTAMP Types"><code class="literal">DATETIME</code></a>, and
            <a class="link" href="data-types.html#datetime" title="11.3.1. The DATE, DATETIME, and TIMESTAMP Types"><code class="literal">TIMESTAMP</code></a> columns, the
            storage required for tables created before MySQL 5.6.4
            differs from storage required for tables created in 5.6.4
            and later. This is due to a change in 5.6.4 that permits
            these temporal types to have a fractional part. After
            upgrading from MySQL 5.5 to to MySQL 5.6.4 or a later, it is
            recommended that you also upgrade from MySQL 5.5 to MySQL
            5.6 <a class="link" href="data-types.html#time" title="11.3.2. The TIME Type"><code class="literal">TIME</code></a>,
            <a class="link" href="data-types.html#datetime" title="11.3.1. The DATE, DATETIME, and TIMESTAMP Types"><code class="literal">DATETIME</code></a>, and
            <a class="link" href="data-types.html#datetime" title="11.3.1. The DATE, DATETIME, and TIMESTAMP Types"><code class="literal">TIMESTAMP</code></a> types.
            <a class="link" href="sql-syntax.html#alter-table" title="13.1.7. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a> currently allows
            the creation of tables containing temporal columns in both
            MySQL 5.5 and MySQL 5.6.4 (or later) binary format but this
            makes it more difficult to recreate tables in cases where
            <code class="filename">.frm</code> files are not available.
            Additionally, as of MySQL 5.6.4, the aforementioned temporal
            types are more space efficient. For more information about
            changes to temporal types in MySQL 5.6.4, see
            <a class="xref" href="data-types.html#data-types-storage-reqs-date-time" title="11.6.  Storage Requirements for Date and Time Types">Section 11.6, “
      Storage Requirements for Date and Time Types
    ”</a>.
          </p></li><li class="listitem"><p>
            Due to the temporal type changes described in the previous
            incompatible change item above, importing pre-MySQL 5.6.4
            tables that contain <a class="link" href="data-types.html#datetime" title="11.3.1. The DATE, DATETIME, and TIMESTAMP Types"><code class="literal">DATETIME</code></a>
            and <a class="link" href="data-types.html#datetime" title="11.3.1. The DATE, DATETIME, and TIMESTAMP Types"><code class="literal">TIMESTAMP</code></a> types into
            MySQL 5.6.4 (or later) fails. Importing a MySQL 5.5 table
            with these temporal types into MySQL 5.6.4 (or later) is the
            mostly likely scenario for this problem to occur.
          </p><p>
            The following procedures describe workarounds that use the
            original pre-MySQL 5.6.4 <code class="filename">.frm</code> file to
            recreate a table with a row structure that is compatible
            with 5.6.4 (or later). The procedures involve changing the
            original pre-MySQL 5.6.4 <code class="filename">.frm</code> file to
            use the <a class="link" href="storage-engines.html#memory-storage-engine" title="14.4. The MEMORY Storage Engine"><code class="literal">Memory</code></a> storage engine
            instead of <a class="link" href="storage-engines.html#innodb-storage-engine" title="14.2. The InnoDB Storage Engine"><code class="literal">InnoDB</code></a>, copying the
            <code class="literal">.frm</code> file to the data directory of the
            destination instance, and using <a class="link" href="sql-syntax.html#alter-table" title="13.1.7. ALTER TABLE Syntax"><code class="literal">ALTER
            TABLE</code></a> to change the table's storage engine type
            back to <code class="literal">InnoDB</code>. Use the first procedure
            if your tables do not have foreign keys. Use the second
            procedure, which has additional steps, if your table
            includes foreign keys.
          </p><p>
            If the table does not have foreign keys:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
                Copy the table's original <code class="filename">.frm</code> file
                to the data directory on the server where you want to
                import the tablespace.
              </p></li><li class="listitem"><p>
                Modify the table's <code class="filename">.frm</code> file to use
                the <code class="literal">Memory</code> storage engine instead of
                the <code class="literal">InnoDB</code> storage engine. This
                modification requires changing 7 bytes in the
                <code class="filename">.frm</code> file that define the table's
                storage engine type. Using a hexidecimal editing tool:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                    Change the byte at offset position 0003, which is
                    the <code class="filename">legacy_db_type</code>, from
                    <span class="quote">“<span class="quote"><code class="literal">0c</code></span>”</span> (for
                    <code class="literal">InnoDB</code>) to
                    <span class="quote">“<span class="quote"><code class="literal">06</code></span>”</span> (for
                    <code class="literal">Memory</code>), as shown below:
                  </p><pre class="programlisting">00000000  fe 01 09 06 03 00 00 10  01 00 00 30 00 00 10 00 </pre></li><li class="listitem"><p>
                    The remaining 6 bytes do not have a fixed offset.
                    Search the <code class="literal">.frm</code> file for
                    <span class="quote">“<span class="quote"><code class="literal">InnoDB</code></span>”</span> to locate
                    the line with the other 6 bytes. The line appears as
                    shown below:
                  </p><pre class="programlisting">00001010  ff 00 00 00 00 00 00 06  00 49 6e 6e 6f 44 42 00  |.........InnoDB.|</pre></li><li class="listitem"><p>
                    Modify the bytes so that the line appears as
                    follows:
</p><pre class="programlisting">00001010  ff 00 00 00 00 00 00 06 00 4d 45 4d 4f 52 59 00</pre></li></ul>
</div>
</li><li class="listitem"><p>
                Run <a class="link" href="sql-syntax.html#alter-table" title="13.1.7. ALTER TABLE Syntax"><code class="literal">ALTER
                TABLE ... ENGINE=INNODB</code></a> to add the table
                definition to the <code class="literal">InnoDB</code> data
                dictionary. This creates the <code class="literal">InnoDB</code>
                table with the temporal data types in the new format.
                For the <a class="link" href="sql-syntax.html#alter-table" title="13.1.7. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a>
                operation to complete successfully, the
                <code class="literal">.frm</code> file must correspond to the
                tablespace.
              </p></li><li class="listitem"><p>
                Import the table using
                <a class="link" href="sql-syntax.html#alter-table" title="13.1.7. ALTER TABLE Syntax"><code class="literal">ALTER TABLE
                ... IMPORT TABLESPACE</code></a>.
</p></li></ol>
</div>
<p>
            If table has foreign keys:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
                Recreate the tables with foreign keys using table
                definitions from <a class="link" href="sql-syntax.html#show-create-table" title="13.7.5.12. SHOW CREATE TABLE Syntax"><code class="literal">SHOW CREATE
                TABLE</code></a> output. The incorrect temporal column
                formats do not matter at this point.
              </p></li><li class="listitem"><p>
                Dump all foreign key definitions to a text file by
                selecting the foreign key information from
                <a class="link" href="information-schema.html#table-constraints-table" title="20.25. The INFORMATION_SCHEMA TABLE_CONSTRAINTS Table"><code class="literal">INFORMATION_SCHEMA.TABLE_CONSTRAINTS</code></a>
                and
                <a class="link" href="information-schema.html#key-column-usage-table" title="20.11. The INFORMATION_SCHEMA KEY_COLUMN_USAGE Table"><code class="literal">INFORMATION_SCHEMA.KEY_COLUMN_USAGE</code></a>.
              </p></li><li class="listitem"><p>
                Drop all tables and complete the table import process
                described in steps 1 to 4 in the procedure described
                above for tables without foreign keys.
              </p></li><li class="listitem"><p>
                After the import operation is complete, add the foreign
                keys from foreign key definitions that you saved to a
                text file.
</p></li></ol>
</div>
</li><li class="listitem"><p>
            <span class="bold"><strong>Incompatible change</strong></span>: As of
            MySQL 5.6, the full-text stopword file is loaded and
            searched using <code class="literal">latin1</code> if
            <code class="literal">character_set_server</code> is
            <code class="literal">ucs2</code>, <code class="literal">utf16</code>,
            <code class="literal">utf16le</code>, or <code class="literal">utf32</code>. If
            any table was created with <code class="literal">FULLTEXT</code>
            indexes while the server character set was
            <code class="literal">ucs2</code>, <code class="literal">utf16</code>,
            <code class="literal">utf16le</code>, or <code class="literal">utf32</code>,
            repair it using this statement:
          </p><pre class="programlisting">REPAIR TABLE <em class="replaceable"><code>tbl_name</code></em> QUICK;
</pre></li></ul>
</div>
<h5><a name="idp6278832"></a>
        SQL Changes
</h5>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            Some keywords may be reserved in MySQL 5.6 that
            were not reserved in MySQL 5.5. See
            <a class="xref" href="language-structure.html#reserved-words" title="9.3. Reserved Words">Section 9.3, “Reserved Words”</a>.
          </p></li><li class="listitem"><p>
            The <code class="literal">YEAR(2)</code> data type has certain issues
            that you should consider before choosing to use it. As of
            MySQL 5.6.6, <code class="literal">YEAR(2)</code> is deprecated.
            <code class="literal">YEAR(2)</code> columns in existing tables are
            treated as before, but <code class="literal">YEAR(2)</code> in new or
            altered tables are converted to <code class="literal">YEAR(4)</code>.
            For more information, see
            <a class="xref" href="data-types.html#migrating-to-year4" title="11.3.4. YEAR(2) Limitations and Migrating to YEAR(4)">Section 11.3.4, “<code class="literal">YEAR(2)</code> Limitations and Migrating to
        <code class="literal">YEAR(4)</code>”</a>.
          </p></li><li class="listitem"><p>
            As of MySQL 5.6.6, it is explicitly disallowed to assign the
            value <code class="literal">DEFAULT</code> to stored procedure or
            function parameters or stored program local variables (for
            example with a <code class="literal">SET
            <em class="replaceable"><code>var_name</code></em> = DEFAULT</code>
            statement). This was not previously supported, or documented
            as permitted, but is flagged as an incompatible change in
            case existing code inadvertantly used this construct. It
            remains permissible to assign <code class="literal">DEFAULT</code> to
            system variables, as before, but assigning
            <code class="literal">DEFAULT</code> to parameters or local variables
            now results in a syntax error.
          </p><p>
            After an upgrade to MySQL 5.6.6 or later, existing stored
            programs that use this construct produce a syntax error when
            invoked. If a <a class="link" href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span class="command"><strong>mysqldump</strong></span></a> file from 5.6.5
            or earlier is loaded into 5.6.6 or later, the load operation
            fails and affected stored program definitions must be
            changed.
          </p></li><li class="listitem"><p>
            In MySQL, the <a class="link" href="data-types.html#datetime" title="11.3.1. The DATE, DATETIME, and TIMESTAMP Types"><code class="literal">TIMESTAMP</code></a> data
            type differs in nonstandard ways from other data types:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <a class="link" href="data-types.html#datetime" title="11.3.1. The DATE, DATETIME, and TIMESTAMP Types"><code class="literal">TIMESTAMP</code></a> columns not
                explicitly declared with the <code class="literal">NULL</code>
                attribute are assigned the <code class="literal">NOT NULL</code>
                attribute. (Columns of other data types, if not
                explicitly declared as <code class="literal">NOT NULL</code>,
                permit <code class="literal">NULL</code> values.) Setting such a
                column to <code class="literal">NULL</code> sets it to the current
                timestamp.
              </p></li><li class="listitem"><p>
                The first <a class="link" href="data-types.html#datetime" title="11.3.1. The DATE, DATETIME, and TIMESTAMP Types"><code class="literal">TIMESTAMP</code></a>
                column in a table, if not declared with the
                <code class="literal">NULL</code> attribute or an explicit
                <code class="literal">DEFAULT</code> or <code class="literal">ON
                UPDATE</code> clause, is automatically assigned the
                <code class="literal">DEFAULT CURRENT_TIMESTAMP</code> and
                <code class="literal">ON UPDATE CURRENT_TIMESTAMP</code>
                attributes.
              </p></li><li class="listitem"><p>
                <a class="link" href="data-types.html#datetime" title="11.3.1. The DATE, DATETIME, and TIMESTAMP Types"><code class="literal">TIMESTAMP</code></a> columns
                following the first one, if not declared with the
                <code class="literal">NULL</code> attribute or an explicit
                <code class="literal">DEFAULT</code> clause, are automatically
                assigned <code class="literal">DEFAULT '0000-00-00
                00:00:00'</code> (the <span class="quote">“<span class="quote">zero</span>”</span> timestamp).
                For inserted rows that specify no explicit value for
                such a column, the column is assigned
                <code class="literal">'0000-00-00 00:00:00'</code> and no warning
                occurs.
</p></li></ul>
</div>
<p>
            Those nonstandard behaviors remain the default for
            <a class="link" href="data-types.html#datetime" title="11.3.1. The DATE, DATETIME, and TIMESTAMP Types"><code class="literal">TIMESTAMP</code></a> but as of MySQL
            5.6.6 are deprecated and this warning appears at startup:
          </p><pre class="programlisting">[Warning] TIMESTAMP with implicit DEFAULT value is deprecated.
Please use --explicit_defaults_for_timestamp server option (see
documentation for more details).</pre><p>
            As indicated by the warning, to turn off the nonstandard
            behaviors, enable the new
            <a class="link" href="server-administration.html#sysvar_explicit_defaults_for_timestamp"><code class="literal">explicit_defaults_for_timestamp</code></a>
            system variable at server startup. With this variable
            enabled, the server handles
            <a class="link" href="data-types.html#datetime" title="11.3.1. The DATE, DATETIME, and TIMESTAMP Types"><code class="literal">TIMESTAMP</code></a> as follows instead:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <a class="link" href="data-types.html#datetime" title="11.3.1. The DATE, DATETIME, and TIMESTAMP Types"><code class="literal">TIMESTAMP</code></a> columns not
                explicitly declared as <code class="literal">NOT NULL</code>
                permit <code class="literal">NULL</code> values. Setting such a
                column to <code class="literal">NULL</code> sets it to
                <code class="literal">NULL</code>, not the current timestamp.
              </p></li><li class="listitem"><p>
                No <a class="link" href="data-types.html#datetime" title="11.3.1. The DATE, DATETIME, and TIMESTAMP Types"><code class="literal">TIMESTAMP</code></a> column is
                assigned the <code class="literal">DEFAULT
                CURRENT_TIMESTAMP</code> or <code class="literal">ON UPDATE
                CURRENT_TIMESTAMP</code> attributes automatically.
                Those attributes must be explicitly specified.
              </p></li><li class="listitem"><p>
                <a class="link" href="data-types.html#datetime" title="11.3.1. The DATE, DATETIME, and TIMESTAMP Types"><code class="literal">TIMESTAMP</code></a> columns
                declared as <code class="literal">NOT NULL</code> and without an
                explicit <code class="literal">DEFAULT</code> clause are treated
                as having no default value. For inserted rows that
                specify no explicit value for such a column, the result
                depends on the SQL mode. If strict SQL mode is enabled,
                an error occurs. If strict SQL mode is not enabled, the
                column is assigned the implicit default of
                <code class="literal">'0000-00-00 00:00:00'</code> and a warning
                occurs. This is similar to how MySQL treats other
                temporal types such as
                <a class="link" href="data-types.html#datetime" title="11.3.1. The DATE, DATETIME, and TIMESTAMP Types"><code class="literal">DATETIME</code></a>.
</p></li></ul>
</div>
<p>
            To upgrade servers used for replication, upgrade the slaves
            first, then the master. Replication between the master and
            its slaves should work provided that all use the same value
            of
            <a class="link" href="server-administration.html#sysvar_explicit_defaults_for_timestamp"><code class="literal">explicit_defaults_for_timestamp</code></a>:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
                Bring down the slaves, upgrade them, configure them with
                the desired value of
                <a class="link" href="server-administration.html#sysvar_explicit_defaults_for_timestamp"><code class="literal">explicit_defaults_for_timestamp</code></a>,
                and bring them back up.
              </p><p>
                The slaves will recognize from the format of the binary
                logs received from the master that the master is older
                (predates the introduction of
                <a class="link" href="server-administration.html#sysvar_explicit_defaults_for_timestamp"><code class="literal">explicit_defaults_for_timestamp</code></a>)
                and that operations on
                <a class="link" href="data-types.html#datetime" title="11.3.1. The DATE, DATETIME, and TIMESTAMP Types"><code class="literal">TIMESTAMP</code></a> columns coming
                from the master use the old
                <a class="link" href="data-types.html#datetime" title="11.3.1. The DATE, DATETIME, and TIMESTAMP Types"><code class="literal">TIMESTAMP</code></a> behavior.
              </p></li><li class="listitem"><p>
                Bring down the master, upgrade it, and configure it with
                the same
                <a class="link" href="server-administration.html#sysvar_explicit_defaults_for_timestamp"><code class="literal">explicit_defaults_for_timestamp</code></a>
                value used on the slaves, and bring it back up.
</p></li></ol>
</div>
</li></ul>
</div>

</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="downgrading"></a>2.11.2. Downgrading MySQL</h3>

</div>

</div>

</div>
<div class="toc">
<dl><dt><span class="section"><a href="installing.html#downgrading-to-previous-series">2.11.2.1. Downgrading to MySQL 5.5</a></span></dt></dl>
</div>
<a class="indexterm" name="idp6340176"></a><p>
      This section describes what to do to downgrade to an older MySQL
      version, in the unlikely case that the previous version worked
      better than the new one.
    </p><p>
      It is always a good idea to make a backup beforehand, in case a
      downgrade fails and leaves the instance in an unusable state.
    </p><p>
      To downgrade between General Availability (GA) status versions
      within the same release series, typically you just install the new
      binaries on top of the old ones and do not make any changes to the
      databases.
    </p><p>
      Downgrades between milestone releases (or from a GA release to a
      milestone release) within the same release series are not
      supported and you may encounter issues.
    </p><p>
      The following items form a checklist of things to do whenever you
      perform a downgrade:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          Read the upgrading section for the release series from which
          you are downgrading to be sure that it does not have any
          features you really need. See <a class="xref" href="installing.html#upgrading" title="2.11.1. Upgrading MySQL">Section 2.11.1, “Upgrading MySQL”</a>.
        </p></li><li class="listitem"><p>
          If there is a downgrading section for that version, read that
          as well.
        </p></li><li class="listitem"><p>
          To see which new features were added between the version to
          which you are downgrading and your current version, see the
          <a class="ulink" href="http://dev.mysql.com/doc/relnotes/mysql/5.6/en/" target="_top">Release
          Notes</a>.
        </p></li><li class="listitem"><p>
          Check <a class="xref" href="installing.html#checking-table-incompatibilities" title="2.11.3. Checking Whether Tables or Indexes Must Be Rebuilt">Section 2.11.3, “Checking Whether Tables or Indexes Must Be Rebuilt”</a>, to
          see whether changes to table formats or to character sets or
          collations were made between your current version of MySQL and
          the version to which you are downgrading. If so and these
          changes result in an incompatibility between MySQL versions,
          you will need to downgrade the affected tables using the
          instructions in <a class="xref" href="installing.html#rebuilding-tables" title="2.11.4. Rebuilding or Repairing Tables or Indexes">Section 2.11.4, “Rebuilding or Repairing Tables or Indexes”</a>.
</p></li></ul>
</div>
<p>
      In most cases, you can move the MySQL format files and data files
      between different GA versions on the same architecture as long as
      you stay within versions for the same release series of MySQL.
    </p><p>
      If you downgrade from one release series to another, there may be
      incompatibilities in table storage formats. In this case, use
      <a class="link" href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span class="command"><strong>mysqldump</strong></span></a> to dump your tables before
      downgrading. After downgrading, reload the dump file using
      <a class="link" href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span class="command"><strong>mysql</strong></span></a> or <a class="link" href="programs.html#mysqlimport" title="4.5.5. mysqlimport — A Data Import Program"><span class="command"><strong>mysqlimport</strong></span></a> to
      re-create your tables. For examples, see
      <a class="xref" href="installing.html#copying-databases" title="2.11.5. Copying MySQL Databases to Another Machine">Section 2.11.5, “Copying MySQL Databases to Another Machine”</a>.
    </p><p>
      A typical symptom of a downward-incompatible table format change
      when you downgrade is that you cannot open tables. In that case,
      use the following procedure:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
          Stop the older MySQL server that you are downgrading to.
        </p></li><li class="listitem"><p>
          Restart the newer MySQL server you are downgrading from.
        </p></li><li class="listitem"><p>
          Dump any tables that were inaccessible to the older server by
          using <a class="link" href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span class="command"><strong>mysqldump</strong></span></a> to create a dump file.
        </p></li><li class="listitem"><p>
          Stop the newer MySQL server and restart the older one.
        </p></li><li class="listitem"><p>
          Reload the dump file into the older server. Your tables should
          be accessible.
</p></li></ol>
</div>
<p>
      If system tables in the <code class="literal">mysql</code> database changed,
      downgrading might introduce some loss of functionality or require
      some adjustments. Here are some examples:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          Trigger creation requires the <code class="literal">TRIGGER</code>
          privilege as of MySQL 5.1. In MySQL 5.0, there is no
          <code class="literal">TRIGGER</code> privilege and
          <code class="literal">SUPER</code> is required instead. If you downgrade
          from MySQL 5.1 to 5.0, you will need to give the
          <code class="literal">SUPER</code> privilege to those accounts that had
          the <code class="literal">TRIGGER</code> privilege in 5.1.
        </p></li><li class="listitem"><p>
          Triggers were added in MySQL 5.0, so if you downgrade from 5.0
          to 4.1, you cannot use triggers at all.
        </p></li><li class="listitem"><p>
          The <code class="literal">mysql.proc.comment</code> column definition
          changed between MySQL 5.1 and 5.5. After a downgrade from 5.5
          to 5.1, this table is seen as corrupt and in need of repair.
          To workaround this problem, execute
          <a class="link" href="programs.html#mysql-upgrade" title="4.4.7. mysql_upgrade — Check and Upgrade MySQL Tables"><span class="command"><strong>mysql_upgrade</strong></span></a> from the version of MySQL to
          which you downgraded.
</p></li></ul>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="downgrading-to-previous-series"></a>2.11.2.1. Downgrading to MySQL 5.5</h4>

</div>

</div>

</div>
<p>
        When downgrading to MySQL 5.5 from MySQL
        5.6, keep in mind the following issues relating to
        features found in MySQL 5.6, but not in MySQL
        5.5:
</p>
<h5><a name="idp6373424"></a>
        System Tables
</h5>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            The <code class="literal">mysql.user</code> table in MySQL 5.6 has a
            <code class="literal">password_expired</code> column. The
            <code class="literal">mysql.user</code> table in MySQL 5.5 does not.
            This means that an account with an expired password in MySQL
            5.6 will work normally in MySQL 5.5.
</p></li></ul>
</div>
<h5><a name="idp6377376"></a>
        InnoDB
</h5>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">InnoDB</code> search indexes (with a type of
            <code class="literal">FULLTEXT</code>), introduced in MySQL 5.6.4, are
            not compatible with earlier versions of MySQL, including
            earlier releases in the 5.6 series. Drop such indexes before
            performing a downgrade.
          </p></li><li class="listitem"><p>
            <code class="literal">InnoDB</code> small page sizes specified by the
            <a class="link" href="storage-engines.html#sysvar_innodb_page_size"><code class="literal">innodb_page_size</code></a>
            configuration option, introduced in MySQL 5.6.4, are not
            compatible with earlier versions of MySQL, including earlier
            releases in the 5.6 series. Dump all
            <code class="literal">InnoDB</code> tables in instances that use a
            smaller <code class="literal">InnoDB</code> page size, drop the
            tables, and re-create and reload them after the downgrade.
</p></li></ul>
</div>
<h5><a name="idp6384736"></a>
        Replication
</h5>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            As of MySQL 5.6, the <code class="filename">relay-log.info</code>
            file contains a line count and a replication delay value, so
            the file format differs from that in older versions. See
            <a class="xref" href="replication.html#slave-logs-status" title="16.2.2.2. Slave Status Logs">Section 16.2.2.2, “Slave Status Logs”</a>. If you downgrade a
            slave server to a version older than MySQL 5.6, the older
            server will not read the file correctly. To address this,
            modify the file in a text editor to delete the initial line
            containing the number of lines.
          </p></li><li class="listitem"><p>
            Beginning with MySQL 5.6.6, the MySQL Server employs Version
            2 binary log events when writing the binary log. Binary logs
            written using Version 2 log events cannot by read by earlier
            versions of MySQL Server. To generate a binary log that is
            written using Version 1 log events readable by older
            servers, start the MySQL 5.6.6 or later server using
            <a class="link" href="replication.html#option_mysqld_log-bin-use-v1-row-events"><code class="option">--log-bin-use-v1-row-events=1</code></a>,
            which forces the server to employ Version 1 events when
            writing the binary log.
</p></li></ul>
</div>

</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="checking-table-incompatibilities"></a>2.11.3. Checking Whether Tables or Indexes Must Be Rebuilt</h3>

</div>

</div>

</div>
<p>
      A binary upgrade or downgrade is one that installs one version of
      MySQL <span class="quote">“<span class="quote">in place</span>”</span> over an existing version, without
      dumping and reloading tables:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
          Stop the server for the existing version if it is running.
        </p></li><li class="listitem"><p>
          Install a different version of MySQL. This is an upgrade if
          the new version is higher than the original version, a
          downgrade if the version is lower.
        </p></li><li class="listitem"><p>
          Start the server for the new version.
</p></li></ol>
</div>
<p>
      In many cases, the tables from the previous version of MySQL can
      be used without problem by the new version. However, sometimes
      changes occur that require tables or table indexes to be rebuilt,
      as described in this section. If you have tables that are affected
      by any of the issues described here, rebuild the tables or indexes
      as necessary using the instructions given in
      <a class="xref" href="installing.html#rebuilding-tables" title="2.11.4. Rebuilding or Repairing Tables or Indexes">Section 2.11.4, “Rebuilding or Repairing Tables or Indexes”</a>.
</p>
<h4><a name="idp6397904"></a>
      Table Incompatibilities
</h4>
<p>
      After a binary upgrade to MySQL 5.1 from a MySQL 5.0 installation
      that contains <a class="link" href="storage-engines.html#archive-storage-engine" title="14.6. The ARCHIVE Storage Engine"><code class="literal">ARCHIVE</code></a> tables,
      accessing those tables causes the server to crash, even if you
      have run <a class="link" href="programs.html#mysql-upgrade" title="4.4.7. mysql_upgrade — Check and Upgrade MySQL Tables"><span class="command"><strong>mysql_upgrade</strong></span></a> or
      <a class="link" href="sql-syntax.html#check-table" title="13.7.2.2. CHECK TABLE Syntax"><code class="literal">CHECK TABLE ... FOR
      UPGRADE</code></a>. To work around this problem, use
      <a class="link" href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span class="command"><strong>mysqldump</strong></span></a> to dump all
      <a class="link" href="storage-engines.html#archive-storage-engine" title="14.6. The ARCHIVE Storage Engine"><code class="literal">ARCHIVE</code></a> tables before upgrading, and
      reload them into MySQL 5.1 after upgrading. The same problem
      occurs for binary downgrades from MySQL 5.1 to 5.0.
    </p><p>
      The upgrade problem is fixed in MySQL 5.6.4: The server can open
      <a class="link" href="storage-engines.html#archive-storage-engine" title="14.6. The ARCHIVE Storage Engine"><code class="literal">ARCHIVE</code></a> tables created in MySQL 5.0.
      However, it remains the recommended upgrade procedure to dump 5.0
      <a class="link" href="storage-engines.html#archive-storage-engine" title="14.6. The ARCHIVE Storage Engine"><code class="literal">ARCHIVE</code></a> tables before upgrading and
      reload them after upgrading.
</p>
<h4><a name="idp6405664"></a>
      Index Incompatibilities
</h4>
<p>
      In MySQL 5.6.3, the length limit for index prefix keys is
      increased from 767 bytes to 3072 bytes, for
      <code class="literal">InnoDB</code> tables using
      <code class="literal">ROW_FORMAT=DYNAMIC</code> or
      <code class="literal">ROW_FORMAT=COMPRESSED</code>. See
      <a class="xref" href="storage-engines.html#innodb-restrictions" title="14.2.7. Limits on InnoDB Tables">Section 14.2.7, “Limits on <code class="literal">InnoDB</code> Tables”</a> for details. This change is
      also backported to MySQL 5.5.14. If you downgrade from one of
      these releases or higher, to an earlier release with a lower
      length limit, the index prefix keys could be truncated at 767
      bytes or the downgrade could fail. This issue could only occur if
      the configuration option
      <a class="link" href="storage-engines.html#sysvar_innodb_large_prefix"><code class="literal">innodb_large_prefix</code></a> was enabled
      on the server being downgraded.



    </p><p>
      If you perform a binary upgrade without dumping and reloading
      tables, you cannot upgrade directly from MySQL 4.1 to 5.1 or
      higher. This occurs due to an incompatible change in the
      <code class="literal">MyISAM</code> table index format in MySQL 5.0. Upgrade
      from MySQL 4.1 to 5.0 and repair all <code class="literal">MyISAM</code>
      tables. Then upgrade from MySQL 5.0 to 5.1 and check and repair
      your tables.
    </p><p>
      Modifications to the handling of character sets or collations
      might change the character sort order, which causes the ordering
      of entries in any index that uses an affected character set or
      collation to be incorrect. Such changes result in several possible
      problems:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          Comparison results that differ from previous results
        </p></li><li class="listitem"><p>
          Inability to find some index values due to misordered index
          entries
        </p></li><li class="listitem"><p>
          Misordered <code class="literal">ORDER BY</code> results
        </p></li><li class="listitem"><p>
          Tables that <a class="link" href="sql-syntax.html#check-table" title="13.7.2.2. CHECK TABLE Syntax"><code class="literal">CHECK TABLE</code></a> reports
          as being in need of repair
</p></li></ul>
</div>
<p>
      The solution to these problems is to rebuild any indexes that use
      an affected character set or collation, either by dropping and
      re-creating the indexes, or by dumping and reloading the entire
      table. In some cases, it is possible to alter affected columns to
      use a different collation. For information about rebuilding
      indexes, see <a class="xref" href="installing.html#rebuilding-tables" title="2.11.4. Rebuilding or Repairing Tables or Indexes">Section 2.11.4, “Rebuilding or Repairing Tables or Indexes”</a>.
    </p><p>
      To check whether a table has indexes that must be rebuilt, consult
      the following list. It indicates which versions of MySQL
      introduced character set or collation changes that require indexes
      to be rebuilt. Each entry indicates the version in which the
      change occurred and the character sets or collations that the
      change affects. If the change is associated with a particular bug
      report, the bug number is given.
    </p><p>
      The list applies both for binary upgrades and downgrades. For
      example, Bug #27877 was fixed in MySQL 5.1.24, so it applies to
      upgrades from versions older than 5.1.24 to 5.1.24 or newer, and
      to downgrades from 5.1.24 or newer to versions older than 5.1.24.
    </p><p>
      In many cases, you can use
      <a class="link" href="sql-syntax.html#check-table" title="13.7.2.2. CHECK TABLE Syntax"><code class="literal">CHECK TABLE ... FOR
      UPGRADE</code></a> to identify tables for which index rebuilding is
      required. It will report this message:
    </p><pre class="programlisting">Table upgrade required.
Please do "REPAIR TABLE `tbl_name`" or dump/reload to fix it!</pre><p>
      In these cases, you can also use <a class="link" href="programs.html#mysqlcheck" title="4.5.3. mysqlcheck — A Table Maintenance Program"><span class="command"><strong>mysqlcheck
      --check-upgrade</strong></span></a> or <a class="link" href="programs.html#mysql-upgrade" title="4.4.7. mysql_upgrade — Check and Upgrade MySQL Tables"><span class="command"><strong>mysql_upgrade</strong></span></a>,
      which execute <a class="link" href="sql-syntax.html#check-table" title="13.7.2.2. CHECK TABLE Syntax"><code class="literal">CHECK TABLE</code></a>. However,
      the use of <a class="link" href="sql-syntax.html#check-table" title="13.7.2.2. CHECK TABLE Syntax"><code class="literal">CHECK TABLE</code></a> applies only
      after upgrades, not downgrades. Also, <a class="link" href="sql-syntax.html#check-table" title="13.7.2.2. CHECK TABLE Syntax"><code class="literal">CHECK
      TABLE</code></a> is not applicable to all storage engines. For
      details about which storage engines <a class="link" href="sql-syntax.html#check-table" title="13.7.2.2. CHECK TABLE Syntax"><code class="literal">CHECK
      TABLE</code></a> supports, see <a class="xref" href="sql-syntax.html#check-table" title="13.7.2.2. CHECK TABLE Syntax">Section 13.7.2.2, “<code class="literal">CHECK TABLE</code> Syntax”</a>.
    </p><p>
      These changes cause index rebuilding to be necessary:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          MySQL 5.1.24 (Bug #27877)
        </p><p>
          Affects indexes that use the
          <code class="literal">utf8_general_ci</code> or
          <code class="literal">ucs2_general_ci</code> collation for columns that
          contain <code class="literal">'ß'</code> LATIN SMALL LETTER SHARP S
          (German). The bug fix corrected an error in the original
          collations but introduced an incompatibility such that
          <code class="literal">'ß'</code> compares equal to characters with
          which it previously compared different.
        </p><p>
          Affected tables can be detected by
          <a class="link" href="sql-syntax.html#check-table" title="13.7.2.2. CHECK TABLE Syntax"><code class="literal">CHECK TABLE ...
          FOR UPGRADE</code></a> as of MySQL 5.1.30 (see Bug #40053).
        </p><p>
          A workaround for this issue is implemented as of MySQL 5.1.62,
          5.5.21, and 5.6.5. The workaround involves altering affected
          columns to use the <code class="literal">utf8_general_mysql500_ci</code>
          and <code class="literal">ucs2_general_mysql500_ci</code> collations,
          which preserve the original pre-5.1.24 ordering of
          <code class="literal">utf8_general_ci</code> and
          <code class="literal">ucs2_general_ci</code>.
        </p></li><li class="listitem"><p>
          MySQL 5.0.48, 5.1.23 (Bug #27562)
        </p><p>
          Affects indexes that use the
          <code class="literal">ascii_general_ci</code> collation for columns that
          contain any of these characters: <code class="literal">'`'</code> GRAVE
          ACCENT, <code class="literal">'['</code> LEFT SQUARE BRACKET,
          <code class="literal">'\'</code> REVERSE SOLIDUS, <code class="literal">']'</code>
          RIGHT SQUARE BRACKET, <code class="literal">'~'</code> TILDE
        </p><p>
          Affected tables can be detected by
          <a class="link" href="sql-syntax.html#check-table" title="13.7.2.2. CHECK TABLE Syntax"><code class="literal">CHECK TABLE ...
          FOR UPGRADE</code></a> as of MySQL 5.1.29 (see Bug #39585).
        </p></li><li class="listitem"><p>
          MySQL 5.0.48, 5.1.21 (Bug #29461)
        </p><p>
          Affects indexes for columns that use any of these character
          sets: <code class="literal">eucjpms</code>, <code class="literal">euc_kr</code>,
          <code class="literal">gb2312</code>, <code class="literal">latin7</code>,
          <code class="literal">macce</code>, <code class="literal">ujis</code>
        </p><p>
          Affected tables can be detected by
          <a class="link" href="sql-syntax.html#check-table" title="13.7.2.2. CHECK TABLE Syntax"><code class="literal">CHECK TABLE ...
          FOR UPGRADE</code></a> as of MySQL 5.1.29 (see Bug #39585).
</p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="rebuilding-tables"></a>2.11.4. Rebuilding or Repairing Tables or Indexes</h3>

</div>

</div>

</div>
<a class="indexterm" name="idp6455184"></a><a class="indexterm" name="idp6456672"></a><a class="indexterm" name="idp6458160"></a><p>
      This section describes how to rebuild a table, following changes
      to MySQL such as how data types or character sets are handled. For
      example, an error in a collation might have been corrected,
      requiring a table rebuild to update the indexes for character
      columns that use the collation. (For examples, see
      <a class="xref" href="installing.html#checking-table-incompatibilities" title="2.11.3. Checking Whether Tables or Indexes Must Be Rebuilt">Section 2.11.3, “Checking Whether Tables or Indexes Must Be Rebuilt”</a>.) You might
      also need to repair or upgrade a table, as indicated by a table
      check operation such as that performed by <code class="literal">CHECK
      TABLE</code>, <a class="link" href="programs.html#mysqlcheck" title="4.5.3. mysqlcheck — A Table Maintenance Program"><span class="command"><strong>mysqlcheck</strong></span></a>, or
      <a class="link" href="programs.html#mysql-upgrade" title="4.4.7. mysql_upgrade — Check and Upgrade MySQL Tables"><span class="command"><strong>mysql_upgrade</strong></span></a>.
    </p><p>
      Methods for rebuilding a table include dumping and reloading it,
      or using <a class="link" href="sql-syntax.html#alter-table" title="13.1.7. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a> or
      <a class="link" href="sql-syntax.html#repair-table" title="13.7.2.5. REPAIR TABLE Syntax"><code class="literal">REPAIR TABLE</code></a>.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
        If you are rebuilding tables because a different version of
        MySQL will not handle them after a binary (in-place) upgrade or
        downgrade, you must use the dump-and-reload method. Dump the
        tables <span class="emphasis"><em>before</em></span> upgrading or downgrading
        using your original version of MySQL. Then reload the tables
        <span class="emphasis"><em>after</em></span> upgrading or downgrading.
      </p><p xmlns="">
        If you use the dump-and-reload method of rebuilding tables only
        for the purpose of rebuilding indexes, you can perform the dump
        either before or after upgrading or downgrading. Reloading still
        must be done afterward.
</p>
</div>
<p>
      To rebuild a table by dumping and reloading it, use
      <a class="link" href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span class="command"><strong>mysqldump</strong></span></a> to create a dump file and
      <a class="link" href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span class="command"><strong>mysql</strong></span></a> to reload the file:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>mysqldump <em class="replaceable"><code>db_name</code></em> t1 &gt; dump.sql</code></strong>
shell&gt; <strong class="userinput"><code>mysql <em class="replaceable"><code>db_name</code></em> &lt; dump.sql</code></strong>
</pre><p>
      To rebuild all the tables in a single database, specify the
      database name without any following table name:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>mysqldump <em class="replaceable"><code>db_name</code></em> &gt; dump.sql</code></strong>
shell&gt; <strong class="userinput"><code>mysql <em class="replaceable"><code>db_name</code></em> &lt; dump.sql</code></strong>
</pre><p>
      To rebuild all tables in all databases, use the
      <a class="link" href="programs.html#option_mysqldump_all-databases"><code class="option">--all-databases</code></a> option:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>mysqldump --all-databases &gt; dump.sql</code></strong>
shell&gt; <strong class="userinput"><code>mysql &lt; dump.sql</code></strong>
</pre><p>
      To rebuild a table with <a class="link" href="sql-syntax.html#alter-table" title="13.1.7. ALTER TABLE Syntax"><code class="literal">ALTER
      TABLE</code></a>, use a <span class="quote">“<span class="quote">null</span>”</span> alteration; that is, an
      <a class="link" href="sql-syntax.html#alter-table" title="13.1.7. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a> statement that
      <span class="quote">“<span class="quote">changes</span>”</span> the table to use the storage engine that it
      already has. For example, if <code class="literal">t1</code> is a
      <code class="literal">MyISAM</code> table, use this statement:
    </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>ALTER TABLE t1 ENGINE = MyISAM;</code></strong>
</pre><p>
      If you are not sure which storage engine to specify in the
      <a class="link" href="sql-syntax.html#alter-table" title="13.1.7. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a> statement, use
      <a class="link" href="sql-syntax.html#show-create-table" title="13.7.5.12. SHOW CREATE TABLE Syntax"><code class="literal">SHOW CREATE TABLE</code></a> to display the
      table definition.
    </p><p>
      If you must rebuild a table because a table checking operation
      indicates that the table is corrupt or needs an upgrade, you can
      use <a class="link" href="sql-syntax.html#repair-table" title="13.7.2.5. REPAIR TABLE Syntax"><code class="literal">REPAIR TABLE</code></a> if that statement
      supports the table's storage engine. For example, to repair a
      <code class="literal">MyISAM</code> table, use this statement:
    </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>REPAIR TABLE t1;</code></strong>
</pre><p>
      For storage engines such as <code class="literal">InnoDB</code> that
      <a class="link" href="sql-syntax.html#repair-table" title="13.7.2.5. REPAIR TABLE Syntax"><code class="literal">REPAIR TABLE</code></a> does not support, use
      <a class="link" href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span class="command"><strong>mysqldump</strong></span></a> to create a dump file and
      <a class="link" href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span class="command"><strong>mysql</strong></span></a> to reload the file, as described earlier.
    </p><p>
      For specifics about which storage engines
      <a class="link" href="sql-syntax.html#repair-table" title="13.7.2.5. REPAIR TABLE Syntax"><code class="literal">REPAIR TABLE</code></a> supports, see
      <a class="xref" href="sql-syntax.html#repair-table" title="13.7.2.5. REPAIR TABLE Syntax">Section 13.7.2.5, “<code class="literal">REPAIR TABLE</code> Syntax”</a>.
    </p><p>
      <a class="link" href="programs.html#mysqlcheck" title="4.5.3. mysqlcheck — A Table Maintenance Program"><span class="command"><strong>mysqlcheck --repair</strong></span></a> provides command-line
      access to the <a class="link" href="sql-syntax.html#repair-table" title="13.7.2.5. REPAIR TABLE Syntax"><code class="literal">REPAIR TABLE</code></a>
      statement. This can be a more convenient means of repairing tables
      because you can use the
      <a class="link" href="programs.html#option_mysqlcheck_databases"><code class="option">--databases</code></a> or
      <a class="link" href="programs.html#option_mysqlcheck_all-databases"><code class="option">--all-databases</code></a> option to
      repair all tables in specific databases or all databases,
      respectively:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>mysqlcheck --repair --databases <em class="replaceable"><code>db_name</code></em> ...</code></strong>
shell&gt; <strong class="userinput"><code>mysqlcheck --repair --all-databases</code></strong>
</pre><p>
      For incompatibilities introduced in MySQL 5.1.24 by the fix for
      Bug #27877 that corrected the <code class="literal">utf8_general_ci</code>
      and <code class="literal">ucs2_general_ci</code> collations, a workaround is
      implemented as of MySQL 5.1.62, 5.5.21, and 5.6.5. Upgrade to one
      of those versions, then convert each affected table using one of
      the following methods. In each case, the workaround altering
      affected columns to use the
      <code class="literal">utf8_general_mysql500_ci</code> and
      <code class="literal">ucs2_general_mysql500_ci</code> collations, which
      preserve the original pre-5.1.24 ordering of
      <code class="literal">utf8_general_ci</code> and
      <code class="literal">ucs2_general_ci</code>.
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          To convert an affected table after a binary upgrade that
          leaves the table files in place, alter the table to use the
          new collation. Suppose that the table <code class="literal">t1</code>
          contains one or more problematic <code class="literal">utf8</code>
          columns. To convert the table at the table level, use a
          statement like this:
        </p><pre class="programlisting">ALTER TABLE t1
CONVERT TO CHARACTER SET utf8 COLLATE utf8_general_mysql500_ci;</pre><p>
          To apply the change on a column-specific basis, use a
          statement like this (be sure to repeat the column definition
          as originally specified except for the
          <code class="literal">COLLATE</code> clause):
        </p><pre class="programlisting">ALTER TABLE t1
MODIFY c1 CHAR(N) CHARACTER SET utf8 COLLATE utf8_general_mysql500_ci;</pre></li><li class="listitem"><p>
          To upgrade the table using a dump and reload procedure, dump
          the table using <a class="link" href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span class="command"><strong>mysqldump</strong></span></a>, modify the
          <a class="link" href="sql-syntax.html#create-table" title="13.1.17. CREATE TABLE Syntax"><code class="literal">CREATE TABLE</code></a> statement in the
          dump file to use the new collation, and reload the table.
</p></li></ul>
</div>
<p>
      After making the appropriate changes, <a class="link" href="sql-syntax.html#check-table" title="13.7.2.2. CHECK TABLE Syntax"><code class="literal">CHECK
      TABLE</code></a> should report no error.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="copying-databases"></a>2.11.5. Copying MySQL Databases to Another Machine</h3>

</div>

</div>

</div>
<a class="indexterm" name="idp6520496"></a><a class="indexterm" name="idp6521984"></a><a class="indexterm" name="idp6523056"></a><p>
      You can copy the <code class="filename">.frm</code>,
      <code class="filename">.MYI</code>, and <code class="filename">.MYD</code> files for
      <code class="literal">MyISAM</code> tables between different architectures
      that support the same floating-point format. (MySQL takes care of
      any byte-swapping issues.) See
      <a class="xref" href="storage-engines.html#myisam-storage-engine" title="14.3. The MyISAM Storage Engine">Section 14.3, “The <code class="literal">MyISAM</code> Storage Engine”</a>.
    </p><p>
      In cases where you need to transfer databases between different
      architectures, you can use <a class="link" href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span class="command"><strong>mysqldump</strong></span></a> to create
      a file containing SQL statements. You can then transfer the file
      to the other machine and feed it as input to the
      <a class="link" href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span class="command"><strong>mysql</strong></span></a> client.
    </p><p>
      Use <a class="link" href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span class="command"><strong>mysqldump --help</strong></span></a> to see what options are
      available.
    </p><p>
      The easiest (although not the fastest) way to move a database
      between two machines is to run the following commands on the
      machine on which the database is located:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>mysqladmin -h '<em class="replaceable"><code>other_hostname</code></em>' create <em class="replaceable"><code>db_name</code></em></code></strong>
shell&gt; <strong class="userinput"><code>mysqldump <em class="replaceable"><code>db_name</code></em> | mysql -h '<em class="replaceable"><code>other_hostname</code></em>' <em class="replaceable"><code>db_name</code></em></code></strong>
</pre><p>
      If you want to copy a database from a remote machine over a slow
      network, you can use these commands:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>mysqladmin create <em class="replaceable"><code>db_name</code></em></code></strong>
shell&gt; <strong class="userinput"><code>mysqldump -h '<em class="replaceable"><code>other_hostname</code></em>' --compress <em class="replaceable"><code>db_name</code></em> | mysql <em class="replaceable"><code>db_name</code></em></code></strong>
</pre><p>
      You can also store the dump in a file, transfer the file to the
      target machine, and then load the file into the database there.
      For example, you can dump a database to a compressed file on the
      source machine like this:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>mysqldump --quick <em class="replaceable"><code>db_name</code></em> | gzip &gt; <em class="replaceable"><code>db_name</code></em>.gz</code></strong>
</pre><p>
      Transfer the file containing the database contents to the target
      machine and run these commands there:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>mysqladmin create <em class="replaceable"><code>db_name</code></em></code></strong>
shell&gt; <strong class="userinput"><code>gunzip &lt; <em class="replaceable"><code>db_name</code></em>.gz | mysql <em class="replaceable"><code>db_name</code></em></code></strong>
</pre><a class="indexterm" name="idp6547440"></a><a class="indexterm" name="idp6548512"></a><p>
      You can also use <a class="link" href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span class="command"><strong>mysqldump</strong></span></a> and
      <a class="link" href="programs.html#mysqlimport" title="4.5.5. mysqlimport — A Data Import Program"><span class="command"><strong>mysqlimport</strong></span></a> to transfer the database. For large
      tables, this is much faster than simply using
      <a class="link" href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span class="command"><strong>mysqldump</strong></span></a>. In the following commands,
      <em class="replaceable"><code>DUMPDIR</code></em> represents the full path name
      of the directory you use to store the output from
      <a class="link" href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span class="command"><strong>mysqldump</strong></span></a>.
    </p><p>
      First, create the directory for the output files and dump the
      database:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>mkdir <em class="replaceable"><code>DUMPDIR</code></em></code></strong>
shell&gt; <strong class="userinput"><code>mysqldump --tab=<em class="replaceable"><code>DUMPDIR</code></em> <em class="replaceable"><code>db_name</code></em></code></strong>
</pre><p>
      Then transfer the files in the <em class="replaceable"><code>DUMPDIR</code></em>
      directory to some corresponding directory on the target machine
      and load the files into MySQL there:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>mysqladmin create <em class="replaceable"><code>db_name</code></em>           # create database</code></strong>
shell&gt; <strong class="userinput"><code>cat <em class="replaceable"><code>DUMPDIR</code></em>/*.sql | mysql <em class="replaceable"><code>db_name</code></em>   # create tables in database</code></strong>
shell&gt; <strong class="userinput"><code>mysqlimport <em class="replaceable"><code>db_name</code></em> <em class="replaceable"><code>DUMPDIR</code></em>/*.txt   # load data into tables</code></strong>
</pre><p>
      Do not forget to copy the <code class="literal">mysql</code> database
      because that is where the grant tables are stored. You might have
      to run commands as the MySQL <code class="literal">root</code> user on the
      new machine until you have the <code class="literal">mysql</code> database
      in place.
    </p><p>
      After you import the <code class="literal">mysql</code> database on the new
      machine, execute <a class="link" href="programs.html#mysqladmin" title="4.5.2. mysqladmin — Client for Administering a MySQL Server"><span class="command"><strong>mysqladmin flush-privileges</strong></span></a> so
      that the server reloads the grant table information.
</p>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both"><a name="environment-variables"></a>2.12. Environment Variables</h2>

</div>

</div>

</div>
<a class="indexterm" name="idp6569696"></a><a class="indexterm" name="idp6571184"></a><a class="indexterm" name="idp6572256"></a><p>
    This section lists all the environment variables that are used
    directly or indirectly by MySQL. Most of these can also be found in
    other places in this manual.
  </p><p>
    Note that any options on the command line take precedence over
    values specified in option files and environment variables, and
    values in option files take precedence over values in environment
    variables.
  </p><p>
    In many cases, it is preferable to use an option file instead of
    environment variables to modify the behavior of MySQL. See
    <a class="xref" href="programs.html#option-files" title="4.2.3.3. Using Option Files">Section 4.2.3.3, “Using Option Files”</a>.
</p><a class="indexterm" name="idp6575632"></a><a class="indexterm" name="idp6576720"></a><a class="indexterm" name="idp6578176"></a><a class="indexterm" name="idp6579248"></a><a class="indexterm" name="idp6580704"></a><a class="indexterm" name="idp6581792"></a><a class="indexterm" name="idp6583280"></a><a class="indexterm" name="idp6584368"></a><a class="indexterm" name="idp6585856"></a><a class="indexterm" name="idp6586944"></a><a class="indexterm" name="idp6588432"></a><a class="indexterm" name="idp6589520"></a><a class="indexterm" name="idp6591008"></a><a class="indexterm" name="idp6592096"></a><a class="indexterm" name="idp6593584"></a><a class="indexterm" name="idp6594672"></a><a class="indexterm" name="idp6596160"></a><a class="indexterm" name="idp6597264"></a><a class="indexterm" name="idp6598768"></a><a class="indexterm" name="idp6599872"></a><a class="indexterm" name="idp6601360"></a><a class="indexterm" name="idp6602448"></a><a class="indexterm" name="idp6603936"></a><a class="indexterm" name="idp6605024"></a><a class="indexterm" name="idp6606512"></a><a class="indexterm" name="idp6607600"></a><a class="indexterm" name="idp6609088"></a><a class="indexterm" name="idp6610176"></a><a class="indexterm" name="idp6611664"></a><a class="indexterm" name="idp6612752"></a><a class="indexterm" name="idp6614240"></a><a class="indexterm" name="idp6615328"></a><a class="indexterm" name="idp6616816"></a><a class="indexterm" name="idp6617904"></a><a class="indexterm" name="idp6619392"></a><a class="indexterm" name="idp6620480"></a><a class="indexterm" name="idp6621968"></a><a class="indexterm" name="idp6623056"></a><a class="indexterm" name="idp6624544"></a><a class="indexterm" name="idp6625632"></a><a class="indexterm" name="idp6627120"></a><a class="indexterm" name="idp6628224"></a><a class="indexterm" name="idp6629712"></a><a class="indexterm" name="idp6630800"></a><a class="indexterm" name="idp6632288"></a><a class="indexterm" name="idp6633376"></a><a class="indexterm" name="idp6634864"></a><a class="indexterm" name="idp6635952"></a><a class="indexterm" name="idp6637440"></a><a class="indexterm" name="idp6638512"></a><a class="indexterm" name="idp6639968"></a><a class="indexterm" name="idp6641056"></a><a class="indexterm" name="idp6642544"></a><a class="indexterm" name="idp6643632"></a><a class="indexterm" name="idp6645120"></a><a class="indexterm" name="idp6646208"></a>
<div class="informaltable">
<table summary="This table describes all the environment variables that
      are used directly or indirectly by MySQL." border="1"><colgroup><col><col></colgroup><thead><tr><th scope="col">Variable</th><th scope="col">Description</th></tr></thead><tbody><tr><td scope="row"><code class="literal">CXX</code></td><td>The name of your C++ compiler (for running <span class="command"><strong>CMake</strong></span>).</td></tr><tr><td scope="row"><code class="literal">CC</code></td><td>The name of your C compiler (for running <span class="command"><strong>CMake</strong></span>).</td></tr><tr><td scope="row"><code class="literal">CFLAGS</code></td><td>Flags for your C compiler (for running <span class="command"><strong>CMake</strong></span>).</td></tr><tr><td scope="row"><code class="literal">CXXFLAGS</code></td><td>Flags for your C++ compiler (for running <span class="command"><strong>CMake</strong></span>).</td></tr><tr><td scope="row"><code class="literal">DBI_USER</code></td><td>The default user name for Perl DBI.</td></tr><tr><td scope="row"><code class="literal">DBI_TRACE</code></td><td>Trace options for Perl DBI.</td></tr><tr><td scope="row"><code class="literal">HOME</code></td><td>The default path for the <a class="link" href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span class="command"><strong>mysql</strong></span></a> history file is
            <code class="filename">$HOME/.mysql_history</code>.</td></tr><tr><td scope="row"><code class="literal">LD_RUN_PATH</code></td><td>Used to specify the location of <code class="filename">libmysqlclient.so</code>.</td></tr><tr><td scope="row"><code class="literal">LIBMYSQL_ENABLE_CLEARTEXT_PLUGIN</code></td><td>Enable <code class="literal">mysql_clear_password</code> authentication plugin;
            see <a class="xref" href="security.html#cleartext-authentication-plugin" title="6.3.7.7. The Cleartext Client-Side Authentication Plugin">Section 6.3.7.7, “The Cleartext Client-Side Authentication Plugin”</a>.</td></tr><tr><td scope="row"><code class="literal">LIBMYSQL_PLUGIN_DIR</code></td><td>Directory in which to look for client plugins.</td></tr><tr><td scope="row"><code class="literal">LIBMYSQL_PLUGINS</code></td><td>Client plugins to preload.</td></tr><tr><td scope="row"><code class="literal">MYSQL_DEBUG</code></td><td>Debug trace options when debugging.</td></tr><tr><td scope="row"><code class="literal">MYSQL_GROUP_SUFFIX</code></td><td>Option group suffix value (like specifying
            <a class="link" href="programs.html#option_general_defaults-group-suffix"><code class="option">--defaults-group-suffix</code></a>).</td></tr><tr><td scope="row"><code class="literal">MYSQL_HISTFILE</code></td><td>The path to the <a class="link" href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span class="command"><strong>mysql</strong></span></a> history file. If this variable
            is set, its value overrides the default for
            <code class="filename">$HOME/.mysql_history</code>.</td></tr><tr><td scope="row"><code class="literal">MYSQL_HISTIGNORE</code></td><td>Patterns specifying statements not to log to
            <code class="filename">$HOME/.mysql_history</code>.</td></tr><tr><td scope="row"><code class="literal">MYSQL_HOME</code></td><td>The path to the directory in which the server-specific
            <code class="filename">my.cnf</code> file resides.</td></tr><tr><td scope="row"><code class="literal">MYSQL_HOST</code></td><td>The default host name used by the <a class="link" href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span class="command"><strong>mysql</strong></span></a> command-line
            client.</td></tr><tr><td scope="row"><code class="literal">MYSQL_PS1</code></td><td>The command prompt to use in the <a class="link" href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span class="command"><strong>mysql</strong></span></a> command-line
            client.</td></tr><tr><td scope="row"><code class="literal">MYSQL_PWD</code></td><td>The default password when connecting to <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>. Note
            that using this is insecure. See
            <a class="xref" href="security.html#password-security-user" title="6.1.2.1. End-User Guidelines for Password Security">Section 6.1.2.1, “End-User Guidelines for Password Security”</a>.</td></tr><tr><td scope="row"><code class="literal">MYSQL_TCP_PORT</code></td><td>The default TCP/IP port number.</td></tr><tr><td scope="row"><code class="literal">MYSQL_TEST_LOGIN_FILE</code></td><td>The name of the <code class="filename">.mylogin.cnf</code> login file.</td></tr><tr><td scope="row"><code class="literal">MYSQL_UNIX_PORT</code></td><td>The default Unix socket file name; used for connections to
            <code class="literal">localhost</code>.</td></tr><tr><td scope="row"><code class="literal">PATH</code></td><td>Used by the shell to find MySQL programs.</td></tr><tr><td scope="row"><code class="literal">TMPDIR</code></td><td>The directory where temporary files are created.</td></tr><tr><td scope="row"><code class="literal">TZ</code></td><td>This should be set to your local time zone. See
            <a class="xref" href="error-handling.html#timezone-problems" title="C.5.4.6. Time Zone Problems">Section C.5.4.6, “Time Zone Problems”</a>.</td></tr><tr><td scope="row"><code class="literal">UMASK</code></td><td>The user-file creation mode when creating files. See note following
            table.</td></tr><tr><td scope="row"><code class="literal">UMASK_DIR</code></td><td>The user-directory creation mode when creating directories. See note
            following table.</td></tr><tr><td scope="row"><code class="literal">USER</code></td><td>The default user name on Windows when connecting to
<a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>.</td></tr></tbody></table>
</div>
<p>
    For information about the <a class="link" href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span class="command"><strong>mysql</strong></span></a> history file, see
    <a class="xref" href="programs.html#mysql-logging" title="4.5.1.3. mysql Logging">Section 4.5.1.3, “<span class="command"><strong>mysql</strong></span> Logging”</a>.
  </p><p>
    <code class="literal">MYSQL_TEST_LOGIN_FILE</code> is the path name of the
    login file (the file created by
    <a class="link" href="programs.html#mysql-config-editor" title="4.6.6. mysql_config_editor — MySQL Configuration Utility"><span class="command"><strong>mysql_config_editor</strong></span></a>). If not set, the default
    value is <code class="filename">%APPDATA%\MySQL\.mylogin.cnf</code> directory
    on Windows and <code class="filename">$HOME/.mylogin.cnf</code> on
    non-Windows systems. See <a class="xref" href="programs.html#mysql-config-editor" title="4.6.6. mysql_config_editor — MySQL Configuration Utility">Section 4.6.6, “<span class="command"><strong>mysql_config_editor</strong></span> — MySQL Configuration Utility”</a>.
  </p><p>
    The <code class="literal">UMASK</code> and <code class="literal">UMASK_DIR</code>
    variables, despite their names, are used as modes, not masks:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
        If <code class="literal">UMASK</code> is set, <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>
        uses <code class="literal">($UMASK | 0600)</code> as the mode for file
        creation, so that newly created files have a mode in the range
        from 0600 to 0666 (all values octal).
      </p></li><li class="listitem"><p>
        If <code class="literal">UMASK_DIR</code> is set,
        <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> uses <code class="literal">($UMASK_DIR |
        0700)</code> as the base mode for directory creation, which
        then is AND-ed with <code class="literal">~(~$UMASK &amp; 0666)</code>, so
        that newly created directories have a mode in the range from
        0700 to 0777 (all values octal). The AND operation may remove
        read and write permissions from the directory mode, but not
        execute permissions.
</p></li></ul>
</div>
<p>
    MySQL assumes that the value for <code class="literal">UMASK</code> or
    <code class="literal">UMASK_DIR</code> is in octal if it starts with a zero.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both"><a name="perl-support"></a>2.13. Perl Installation Notes</h2>

</div>

</div>

</div>
<div class="toc">
<dl><dt><span class="section"><a href="installing.html#perl-installation">2.13.1. Installing Perl on Unix</a></span></dt><dt><span class="section"><a href="installing.html#activestate-perl">2.13.2. Installing ActiveState Perl on Windows</a></span></dt><dt><span class="section"><a href="installing.html#perl-support-problems">2.13.3. Problems Using the Perl <code class="literal">DBI</code>/<code class="literal">DBD</code>
Interface</a></span></dt></dl>
</div>
<a class="indexterm" name="idp6733088"></a><a class="indexterm" name="idp6734576"></a><p>
    The Perl <code class="literal">DBI</code> module provides a generic interface
    for database access. You can write a <code class="literal">DBI</code> script
    that works with many different database engines without change. To
    use <code class="literal">DBI</code>, you must install the
    <code class="literal">DBI</code> module, as well as a DataBase Driver (DBD)
    module for each type of database server you want to access. For
    MySQL, this driver is the <code class="literal">DBD::mysql</code> module.
  </p><p>
    Perl, and the <code class="literal">DBD::MySQL</code> module for
    <code class="literal">DBI</code> must be installed if you want to run the
    MySQL benchmark scripts; see <a class="xref" href="optimization.html#mysql-benchmarks" title="8.12.2. The MySQL Benchmark Suite">Section 8.12.2, “The MySQL Benchmark Suite”</a>.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
      Perl support is not included with MySQL distributions. You can
      obtain the necessary modules from
      <a class="ulink" href="http://search.cpan.org" target="_top">http://search.cpan.org</a> for Unix, or by using the
      ActiveState <span class="command"><strong>ppm</strong></span> program on Windows. The
      following sections describe how to do this.
</p>
</div>
<p>
    The <code class="literal">DBI</code>/<code class="literal">DBD</code> interface requires
    Perl 5.6.0, and 5.6.1 or later is preferred. DBI <span class="emphasis"><em>does not
    work</em></span> if you have an older version of Perl. You should use
    <code class="literal">DBD::mysql</code> 4.009 or higher. Although earlier
    versions are available, they do not support the full functionality
    of MySQL 5.6.
</p>
<div class="section">

<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="perl-installation"></a>2.13.1. Installing Perl on Unix</h3>
</div>
</div>
</div>
<p>
      MySQL Perl support requires that you have installed MySQL client
      programming support (libraries and header files). Most
      installation methods install the necessary files. If you install
      MySQL from RPM files on Linux, be sure to install the developer
      RPM as well. The client programs are in the client RPM, but client
      programming support is in the developer RPM.
    </p><p>
      The files you need for Perl support can be obtained from the CPAN
      (Comprehensive Perl Archive Network) at
      <a class="ulink" href="http://search.cpan.org" target="_top">http://search.cpan.org</a>.
    </p><p>
      The easiest way to install Perl modules on Unix is to use the
      <code class="literal">CPAN</code> module. For example:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>perl -MCPAN -e shell</code></strong>
cpan&gt; <strong class="userinput"><code>install DBI</code></strong>
cpan&gt; <strong class="userinput"><code>install DBD::mysql</code></strong>
</pre><p>
      The <code class="literal">DBD::mysql</code> installation runs a number of
      tests. These tests attempt to connect to the local MySQL server
      using the default user name and password. (The default user name
      is your login name on Unix, and <code class="literal">ODBC</code> on
      Windows. The default password is <span class="quote">“<span class="quote">no password.</span>”</span>) If
      you cannot connect to the server with those values (for example,
      if your account has a password), the tests fail. You can use
      <code class="literal">force install DBD::mysql</code> to ignore the failed
      tests.
    </p><p>
      <code class="literal">DBI</code> requires the
      <code class="literal">Data::Dumper</code> module. It may be installed; if
      not, you should install it before installing
      <code class="literal">DBI</code>.
    </p><p>
      It is also possible to download the module distributions in the
      form of compressed <span class="command"><strong>tar</strong></span> archives and build the
      modules manually. For example, to unpack and build a DBI
      distribution, use a procedure such as this:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
          Unpack the distribution into the current directory:
        </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>gunzip &lt; DBI-<em class="replaceable"><code>VERSION</code></em>.tar.gz | tar xvf -</code></strong>
</pre><p>
          This command creates a directory named
          <code class="filename">DBI-<em class="replaceable"><code>VERSION</code></em></code>.
        </p></li><li class="listitem"><p>
          Change location into the top-level directory of the unpacked
          distribution:
        </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>cd DBI-<em class="replaceable"><code>VERSION</code></em></code></strong>
</pre></li><li class="listitem"><p>
          Build the distribution and compile everything:
        </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>perl Makefile.PL</code></strong>
shell&gt; <strong class="userinput"><code>make</code></strong>
shell&gt; <strong class="userinput"><code>make test</code></strong>
shell&gt; <strong class="userinput"><code>make install</code></strong>
</pre></li></ol>
</div>
<p>
      The <span class="command"><strong>make test</strong></span> command is important because it
      verifies that the module is working. Note that when you run that
      command during the <code class="literal">DBD::mysql</code> installation to
      exercise the interface code, the MySQL server must be running or
      the test fails.
    </p><p>
      It is a good idea to rebuild and reinstall the
      <code class="literal">DBD::mysql</code> distribution whenever you install a
      new release of MySQL. This ensures that the latest versions of the
      MySQL client libraries are installed correctly.
    </p><p>
      If you do not have access rights to install Perl modules in the
      system directory or if you want to install local Perl modules, the
      following reference may be useful:
      <a class="ulink" href="http://servers.digitaldaze.com/extensions/perl/modules.html#modules" target="_top">http://servers.digitaldaze.com/extensions/perl/modules.html#modules</a>
    </p><p>
      Look under the heading <span class="quote">“<span class="quote">Installing New Modules that Require
      Locally Installed Modules.</span>”</span>
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="activestate-perl"></a>2.13.2. Installing ActiveState Perl on Windows</h3>

</div>

</div>

</div>
<a class="indexterm" name="idp6780784"></a><a class="indexterm" name="idp6782272"></a><a class="indexterm" name="idp6783760"></a><p>
      On Windows, you should do the following to install the MySQL
      <code class="literal">DBD</code> module with ActiveState Perl:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
          Get ActiveState Perl from
          <a class="ulink" href="http://www.activestate.com/Products/ActivePerl/" target="_top">http://www.activestate.com/Products/ActivePerl/</a>
          and install it.
        </p></li><li class="listitem"><p>
          Open a console window.
        </p></li><li class="listitem"><p>
          If necessary, set the <code class="literal">HTTP_proxy</code> variable.
          For example, you might try a setting like this:
        </p><pre class="programlisting">C:\&gt; <strong class="userinput"><code>set HTTP_proxy=my.proxy.com:3128</code></strong>
</pre></li><li class="listitem"><p>
          Start the PPM program:
        </p><pre class="programlisting">C:\&gt; <strong class="userinput"><code>C:\perl\bin\ppm.pl</code></strong>
</pre></li><li class="listitem"><p>
          If you have not previously done so, install
          <code class="literal">DBI</code>:
        </p><pre class="programlisting">ppm&gt; <strong class="userinput"><code>install DBI</code></strong>
</pre></li><li class="listitem"><p>
          If this succeeds, run the following command:
        </p><pre class="programlisting">ppm&gt; <strong class="userinput"><code>install DBD-mysql</code></strong>
</pre></li></ol>
</div>
<p>
      This procedure should work with ActiveState Perl 5.6 or newer.
    </p><p>
      If you cannot get the procedure to work, you should install the
      ODBC driver instead and connect to the MySQL server through ODBC:
    </p><pre class="programlisting">use DBI;
$dbh= DBI-&gt;connect("DBI:ODBC:$dsn",$user,$password) ||
die "Got error $DBI::errstr when connecting to $dsn\n";</pre>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="perl-support-problems"></a>2.13.3. Problems Using the Perl <code class="literal">DBI</code>/<code class="literal">DBD</code>
Interface</h3>
</div>
</div>
</div>
<a class="indexterm" name="idp6803968"></a><a class="indexterm" name="idp6805456"></a><p>
      If Perl reports that it cannot find the
      <code class="filename">../mysql/mysql.so</code> module, the problem is
      probably that Perl cannot locate the
      <code class="filename">libmysqlclient.so</code> shared library. You should
      be able to fix this problem by one of the following methods:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          Copy <code class="filename">libmysqlclient.so</code> to the directory
          where your other shared libraries are located (probably
          <code class="filename">/usr/lib</code> or <code class="filename">/lib</code>).
        </p></li><li class="listitem"><p>
          Modify the <code class="option">-L</code> options used to compile
          <code class="literal">DBD::mysql</code> to reflect the actual location
          of <code class="filename">libmysqlclient.so</code>.
        </p></li><li class="listitem"><p>
          On Linux, you can add the path name of the directory where
          <code class="filename">libmysqlclient.so</code> is located to the
          <code class="filename">/etc/ld.so.conf</code> file.
        </p></li><li class="listitem"><p>
          <a class="indexterm" name="idp6817856"></a>

          <a class="indexterm" name="idp6818944"></a>

          <a class="indexterm" name="idp6820432"></a>

          <a class="indexterm" name="idp6821520"></a>

          Add the path name of the directory where
          <code class="filename">libmysqlclient.so</code> is located to the
          <code class="literal">LD_RUN_PATH</code> environment variable. Some
          systems use <code class="literal">LD_LIBRARY_PATH</code> instead.
</p></li></ul>
</div>
<p>
      Note that you may also need to modify the <code class="option">-L</code>
      options if there are other libraries that the linker fails to
      find. For example, if the linker cannot find
      <code class="literal">libc</code> because it is in <code class="filename">/lib</code>
      and the link command specifies <code class="option">-L/usr/lib</code>, change
      the <code class="option">-L</code> option to <code class="option">-L/lib</code> or add
      <code class="option">-L/lib</code> to the existing link command.
    </p><p>
      If you get the following errors from
      <code class="literal">DBD::mysql</code>, you are probably using
      <span class="command"><strong>gcc</strong></span> (or using an old binary compiled with
      <span class="command"><strong>gcc</strong></span>):
    </p><pre class="programlisting">/usr/bin/perl: can't resolve symbol '__moddi3'
/usr/bin/perl: can't resolve symbol '__divdi3'</pre><p>
      Add <code class="option">-L/usr/lib/gcc-lib/... -lgcc</code> to the link
      command when the <code class="filename">mysql.so</code> library gets built
      (check the output from <span class="command"><strong>make</strong></span> for
      <code class="filename">mysql.so</code> when you compile the Perl client).
      The <code class="option">-L</code> option should specify the path name of the
      directory where <code class="filename">libgcc.a</code> is located on your
      system.
    </p><p>
      Another cause of this problem may be that Perl and MySQL are not
      both compiled with <span class="command"><strong>gcc</strong></span>. In this case, you can
      solve the mismatch by compiling both with <span class="command"><strong>gcc</strong></span>.
</p>
</div>

</div>

</div>
<div class="copyright-footer">
    Copyright © 1997, 2013, Oracle and/or its affiliates. All
    rights reserved.
<a href="preface.html#legalnotice">Legal Notices</a>
</div>
<div class="navfooter">
<hr>
<table width="100%" summary="Navigation footer">
<tr>
<td width="40%" align="left"><a accesskey="p" href="introduction.html">上一章</a></td>
<td width="20%" align="center"><a accesskey="u" href="">页面顶部</a></td>
<td width="40%" align="right"> <a accesskey="n" href="tutorial.html"></a></td>
</tr>
<tr>
<td width="40%" align="left" valign="top">章节 1. 一般信息</td>
<td width="20%" align="center"><a accesskey="h" href="index.html">首页</a></td>
<td width="40%" align="right" valign="top">章节 3. 教程</td>
</tr>
</table>
</div>
</body>
</html>
